import{logoutUser as o}from"./logoutAndDelete.js";const t=localStorage.getItem("userEmail"),e=localStorage.getItem("userToken");if(console.log("Email salvata:",t),console.log("Token salvato:",e),t&&e)try{"true"===localStorage.getItem("isAuthenticated")?(console.log("Utente gi√† autenticato:",t),"login.html"===window.location.pathname.split("/").pop()&&(window.location.href="main.html")):(console.log("Utente non autenticato o token non valido."),"login.html"!==window.location.pathname.split("/").pop()&&o())}catch(t){console.error("Errore nel recupero dell'utente:",t),"login.html"!==window.location.pathname.split("/").pop()&&o(!1)}else console.log("Nessun utente loggato, vai al login."),localStorage.setItem("isAuthenticated","false"),"login.html"!==window.location.pathname.split("/").pop()&&"accessRestricted.html"!==window.location.pathname.split("/").pop()&&(window.location.href="login.html");sessionStorage.setItem("scriptExecuted","true");