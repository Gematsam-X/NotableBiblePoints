var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r,n={exports:{}},o={exports:{}};function s(){return r||(r=1,(e=o).exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports),o.exports;var e}var i,a={exports:{}};function u(){return i||(i=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(a)),a.exports}var c,l={exports:{}},f={exports:{}},p={exports:{}};function d(){return c||(c=1,function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(p)),p.exports}var h,y,v,m={exports:{}};function b(){return y||(y=1,e=f,t=d().default,r=function(){return h||(h=1,e=m,t=d().default,e.exports=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports),m.exports;var e,t}(),e.exports=function(e){var n=r(e,"string");return"symbol"==t(n)?n:n+""},e.exports.__esModule=!0,e.exports.default=e.exports),f.exports;var e,t,r}function g(){return v||(v=1,e=l,t=b(),e.exports=function(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports),l.exports;var e,t}var w,k={exports:{}};function E(){return w||(w=1,(e=k).exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports),k.exports;var e}var O,S={exports:{}};function _(){return O||(O=1,function(e){var t=b();function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(S)),S.exports}var x,R={exports:{}};function T(){return x?R.exports:(x=1,"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.castArray=void 0,t.ensureEncoding=function(e){try{var t=new URL(e);return t.origin+l(f(e,t))+t.search}catch(r){return l(e)}},t.getFormData=i,t.isStream=t.isObject=t.isNodeJS=t.isFormData=t.isBrowser=void 0,t.normalizeTrailingSlashInPath=f,t.setFormData=function(e){s=e},t.castArray=function(e){return Array.isArray(e)?e:[e]},t.isObject=function(e){return null!=e&&"object"===n(e)},t.isFormData=function(e){return!!e&&(e instanceof i()||e&&e.constructor&&0===e.constructor.toString().trim().indexOf("function FormData"))},t.isStream=function(e){return e instanceof r(6).Stream};var o=t.isNodeJS=function(){return void 0!==e&&null!=e.versions&&null!=e.versions.node};t.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document};var s=null;function i(){return s||(o()||"undefined"==typeof FormData?r(7):FormData)}var a=["%40","%3A","%2F","%23"];function u(e,t){var r=t[0];return r?e.split(r).map((function(e){return u(e,t.slice(1))})).join(r):encodeURI(e)}function c(e){return e===decodeURI(e)?u(e,[].concat(a)):e}function l(e){return e.split("/").map(c).join("/")}function f(e,t){var r=t.pathname;return e.includes("?")&&(e=e.split("?")[0]),!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}}).call(t,r(5))},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var o,s=r(12),i=(o=r(13))&&o.__esModule?o:{default:o},a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}(r(14)),u=r(0),c=r(15);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=b(e);if(t){var s=b(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g="Content-Type",w="done";function k(e){try{return p(p({},e),{},{body:JSON.parse(e.body)})}catch(t){return e}}function E(e){if(e.status>=200&&e.status<300)return e;throw new c.ResponseError(e)}t.Request=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,e);var t=m(r);function r(e,n,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(s=t.call(this)).method=n,s.path=(0,u.ensureEncoding)(e),s.body=o,s.tags=void 0,s.unwrap=!0,s.cacheTTL=0,s.headers={},s.queryParams={},s.encoding="utf8",s.timeout=0,s.withCredentials=null,s}return h(r,[{key:"set",value:function(e,t){if((0,u.isObject)(e))for(var r in e)this.set(r,e[r]);else void 0!==t&&(this.headers[e]=t);return this}},{key:"cacheTags",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.tags=t,this}},{key:"query",value:function(e){return Object.assign(this.queryParams,e),this}},{key:"form",value:function(e){if(e){var t=r.FormData;if(e instanceof t)this.body=e;else{var n=new t,o=function(t){t&&(0,u.castArray)(e[t]).forEach((function(e){e&&e.hasOwnProperty("value")&&e.hasOwnProperty("options")?n.append(t,e.value,e.options):n.append(t,e)}))};for(var s in e)o(s);this.body=n}}return this}},{key:"useCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return this.cacheTTL=e,this}},{key:"resetCache",value:function(e){return e&&this.tags&&s.cache.deleteByTags(this.tags),this}},{key:"type",value:function(e){return this.set(g,e),this}},{key:"unwrapBody",value:function(e){return this.unwrap=e,this}},{key:"setEncoding",value:function(e){return this.encoding=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setTimeout",value:function(e){return this.timeout=e,this}},{key:"send",value:function(e){var t=this;this.emit("request",this);var n=this.path,o=a.stringify(this.queryParams);if(o&&(n+="?"+o),this.cacheTTL){var i=s.cache.get(n);if(void 0!==i)return Promise.resolve(i)}this.headers[g]||!(0,u.isObject)(e)||(0,u.isFormData)(e)||this.type("application/json"),e&&(e="application/json"===this.headers[g]&&"string"!=typeof e?JSON.stringify(e):e),r.verbose&&console.log(this.method.toUpperCase(),decodeURIComponent(n),e,this.headers);var c="boolean"==typeof this.withCredentials?this.withCredentials:r.withCredentials,l=new Error,f=r.send(n,this.method.toUpperCase(),this.headers,e,this.encoding,this.timeout,c).then(k).then(E).then((function(e){return t.unwrap?e.body:e})).then((function(e){return t.cacheTTL&&s.cache.set(n,e,t.tags,t.cacheTTL),e})).then((function(e){return t.tags&&"get"!==t.method&&s.cache.deleteByTags(t.tags),e})).catch((function(e){throw e.stack="".concat(e.stack).concat(l.stack),e}));return f.then((function(e){t.emit("response",e),t.emit(w,null,e)})).catch((function(e){t.emit("error",e),t.emit(w,e)})),f}},{key:"then",value:function(e,t){return this.promise=this.promise||this.send(this.body),this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise=this.promise||this.send(this.body),this.promise.catch(e)}}]),r}(i.default)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(4),o=r(11),s=r(2),i=r(0);Object.defineProperty(s.Request,"FormData",{get:function(){return(0,i.getFormData)()},set:function(e){(0,i.setFormData)(e)}}),s.Request.XMLHttpRequest="undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0,s.Request.send=function(e,t,r,i,a,u,c){return(void 0!==s.Request.XMLHttpRequest?o.sendXmlHttpRequest:n.sendNodeAPIRequest)(e,t,r,i,a,u,c)},s.Request.verbose=!1,s.Request.withCredentials=!1,s.Request.methods=["get","post","put","patch","delete"],s.Request.methods.forEach((function(e){s.Request[e]=function(t,r){return new s.Request(t,e,r)}})),(t=e.exports=s.Request).default=s.Request},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendNodeAPIRequest=function(e,t,o,s,i,a,u){return new Promise((function(c,l){var f=r(8).parse(e),p=(0,n.isFormData)(s)&&s,d="https:"===f.protocol,h={host:f.hostname,port:f.port||(d?443:80),path:(0,n.normalizeTrailingSlashInPath)(e,f)+(f.search||""),method:t,headers:o,timeout:a};"boolean"==typeof u&&(h.withCredentials=u);var y=function(){var e=r(1).Buffer,t=r(d?9:10).request(h,(function(t){var r=[],n=[],o=0,s="",a=t.statusCode,u=t.statusMessage,f=t.headers;t.on("data",(function(t){e.isBuffer(t)?t.length&&(o+=t.length,n.push(t)):r.push(t)})),t.on("end",(function(){o?(s=e.concat(n,o),null!=i&&(s=s.toString(i))):r.length&&(s=r.join()),c({status:a,statusText:u,headers:f,body:s})})),t.on("error",l)}));if(t.on("error",l),t.on("timeout",(function(){t.destroy(new Error("Connection aborted due to timeout"))})),s){if((0,n.isStream)(s))return void s.pipe(t);t.write(s)}t.end()};if(p)Object.assign(h.headers,p.getHeaders()),p.getLength((function(e,t){e||isNaN(t)||(h.headers["content-length"]=t),y()}));else{if(s&&!h.headers["content-length"]){var v=r(1).Buffer;h.headers["content-length"]=v.byteLength(s)}y()}}))};var n=r(0)},function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendXmlHttpRequest=function(e,t,r,o,s,i,a){return new Promise((function(u,c){var l=new n.Request.XMLHttpRequest;l.timeout=i,s||(l.responseType="arraybuffer"),l.open(t.toUpperCase(),e,!0),"boolean"==typeof a&&(l.withCredentials=a),l.onload=function(){var e,t,r=(e=l.getAllResponseHeaders(),t={},e?(e.split("\n").forEach((function(e){var r=e.indexOf(":"),n=e.substr(0,r).trim(),o=e.substr(r+1).trim();n&&(t[n]=t[n]?t[n]+", "+o:o)})),t):t),n=l,o={status:n.status,statusText:n.statusText,headers:r};"utf8"===s?o.body=l.response||l.responseText:l.response&&(o.body=new Uint8Array(l.response)),u(o),l=null},l.onerror=function(){c(new Error("Network Error")),l=null},l.ontimeout=function(){c(new Error("Connection aborted due to timeout")),l=null},Object.keys(r).forEach((function(e){l.setRequestHeader(e,r[e])})),l.send(o)}))};var n=r(2)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],u=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(s=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s,"string"),"symbol"===n(i)?i:String(i)),o)}var s,i}Object.defineProperty(t,"__esModule",{value:!0}),t.cache=void 0;var c=function(){return(new Date).getTime()},l=function(e,t){return!!e.find((function(e){return t.find((function(t){return function(e,t){var r=e==t;return!r&&e instanceof RegExp&&(r=e.test(t)),!r&&t instanceof RegExp&&(r=t.test(e)),r}(e,t)}))}))},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setFlushInterval(t),this.map=new Map}var t,r;return t=e,(r=[{key:"setFlushInterval",value:function(e){this.flushInterval=e,this.flushTimer&&(clearInterval(this.flushTimer),delete this.flushTimer)}},{key:"get",value:function(e){var t=this.map.get(e);if(t){if(t.ttl>c())return t.value;this.map.delete(e)}}},{key:"set",value:function(e,t,r,n){this.map.set(e,function(e,t,r){return{value:e,tags:t,ttl:r}}(t,r,c()+n)),this.flushInterval&&!this.flushTimer&&(this.flushTimer=setInterval(this.flush.bind(this),this.flushInterval),this.flushTimer.unref&&this.flushTimer.unref())}},{key:"delete",value:function(e){this.map.delete(e)}},{key:"deleteAll",value:function(){var e,t=s(this.map);try{for(t.s();!(e=t.n()).done;){var r=o(e.value,1)[0];this.delete(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"deleteByTags",value:function(e){var t,r=s(this.map);try{for(r.s();!(t=r.n()).done;){var n=o(t.value,2),i=n[0],a=n[1];a.tags&&l(e,a.tags)&&this.delete(i)}}catch(u){r.e(u)}finally{r.f()}}},{key:"flush",value:function(){var e,t=c(),r=s(this.map);try{for(r.s();!(e=r.n()).done;){var n=o(e.value,2),i=n[0];n[1].ttl<t&&this.delete(i)}}catch(a){r.e(a)}finally{r.f()}}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.cache=new f(6e4)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(s=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s,"string"),"symbol"===n(i)?i:String(i)),o)}var s,i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,r;return t=e,r=[{key:"on",value:function(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),this}},{key:"off",value:function(e,t){return e?this.events[e]&&(t?this.events[e]=this.events[e].filter((function(e){return e!==t})):delete this.events[e]):this.events={},this}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e]&&this.events[e].forEach((function(e){return e.apply(void 0,r)}))}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var n=r(0);t.stringify=function(e){var t=[];return Object.keys(e).forEach((function(r){var o=e[r];void 0!==o&&(0,n.castArray)(o).forEach((function(e){t.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e)))}))})),t.join("&")}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=a();return function(){var r,o=c(e);if(t){var s=c(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},s(e)}function i(e,t,r){return(i=a()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseError=void 0,t.ResponseError=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e);var t,r=o(n);function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=r.call(this);var o,s=502===(o=e).status?"No connection with server":o.body||"Status Code ".concat(o.status," (").concat(o.statusText,")");return t.message=s.message||s,t.code=s.code,t.status=e.status,t.headers=e.headers,t.body=e.body,t}return t=n,Object.defineProperty(t,"prototype",{writable:!1}),t}(s(Error))}])},R.exports=e());var e}var j,C={};var P,A={};var N,L={};function I(){return N||(N=1,function(t){var r=s();Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(d()),o={isBrowser:i(),isLocalStorageSupported:function(){try{if(i()&&window.localStorage)return localStorage.setItem("localStorageTest",!0),localStorage.removeItem("localStorageTest"),!0}catch(e){}return!1}(),globalScope:"object"===("undefined"==typeof self?"undefined":(0,n.default)(self))&&self.self===self&&self||"object"===(void 0===e?"undefined":(0,n.default)(e))&&e.global===e&&e,castArray:function(e){return Array.isArray(e)?e:void 0===e?[]:[e]},isCustomClassInstance:function(e){return!(!e||"object"!==(0,n.default)(e)||Array.isArray(e))&&e.constructor!==Object},getClassName:function(e){if(e&&e.className)return e.className;if("function"==typeof e&&e.name)return e.name;if(e&&"object"===(0,n.default)(e)&&!Array.isArray(e)){if(e.___class)return e.___class;if(e.constructor!==Object)return o.getClassName(e.constructor)}return null},uuid:function(){var e=function(){return Math.random().toString(16).slice(-4).toUpperCase()};return"".concat("".concat(e()).concat(e()),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat("".concat(e()).concat(e()).concat(e()))},isObject:function(e){return null!=e&&"Object"===e.constructor.name}};function i(){return"object"===("undefined"==typeof self?"undefined":(0,n.default)(self))&&self.self===self&&"object"===("undefined"==typeof window?"undefined":(0,n.default)(window))&&window===self}var a=o;t.default=a}(L)),L}var M,B={};function D(){return M||(M=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t){if((0,r.default)(this,e),!t||"string"!=typeof t)throw new Error("The Backendless.Expression class can be initialized with non empty string value only");this.value=t}return(0,n.default)(e,[{key:"toJSON",value:function(){return{___class:"BackendlessExpression",value:this.value}}}]),e}();e.default=o}(B)),B}var U,q={},F={exports:{}},G={exports:{}};function H(){return U||(U=1,(e=G).exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports),G.exports;var e}var V,K,z={exports:{}},W={exports:{}};function J(){return V||(V=1,function(e){function t(r,n,o,s){var i=Object.defineProperty;try{i({},"",{})}catch(a){i=0}e.exports=t=function(e,r,n,o){if(r)i?i(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var s=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};s("next",0),s("throw",1),s("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(W)),W.exports}function Y(){return K||(K=1,function(e){var t=J();function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var n,o,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.toStringTag||"@@toStringTag";function u(e,r,s,i){var a=r&&r.prototype instanceof l?r:l,u=Object.create(a.prototype);return t(u,"_invoke",function(e,t,r){var s,i,a,u=0,l=r||[],f=!1,p={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return s=e,i=0,a=n,p.n=t,c}};function d(e,t){for(i=e,a=t,o=0;!f&&u&&!r&&o<l.length;o++){var r,s=l[o],d=p.p,h=s[2];e>3?(r=h===t)&&(i=s[4]||3,a=s[5]===n?s[3]:s[5],s[4]=3,s[5]=n):s[0]<=d&&((r=e<2&&d<s[1])?(i=0,p.v=t,p.n=s[1]):d<h&&(r=e<3||s[0]>t||t>h)&&(s[4]=e,s[5]=t,p.n=h,i=0))}if(r||e>1)return c;throw f=!0,t}return function(r,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),i=l,a=h;(o=i<2?n:a)||!f;){s||(i?i<3?(i>1&&(p.n=-1),d(i,a)):p.n=a:p.v=a);try{if(u=2,s){if(i||(r="next"),o=s[r]){if(!(o=o.call(s,a)))throw TypeError("iterator result is not an object");if(!o.done)return o;a=o.value,i<2&&(i=0)}else 1===i&&(o=s.return)&&o.call(s),i<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),i=1);s=n}else if((o=(f=p.n<0)?a:e.call(t,p))!==c)break}catch(y){s=n,i=1,a=y}finally{u=1}}return{value:o,done:f}}}(e,s,i),!0),u}var c={};function l(){}function f(){}function p(){}o=Object.getPrototypeOf;var d=[][i]?o(o([][i]())):(t(o={},i,(function(){return this})),o),h=p.prototype=l.prototype=Object.create(d);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,t(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return f.prototype=p,t(h,"constructor",p),t(p,"constructor",f),f.displayName="GeneratorFunction",t(p,a,"GeneratorFunction"),t(h),t(h,a,"Generator"),t(h,i,(function(){return this})),t(h,"toString",(function(){return"[object Generator]"})),(e.exports=r=function(){return{w:u,m:y}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(z)),z.exports}var X,Q,$,Z={exports:{}},ee={exports:{}},te={exports:{}};function re(){return X||(X=1,e=te,t=H(),r=J(),e.exports=function e(n,o){function s(e,r,i,a){try{var u=n[e](r),c=u.value;return c instanceof t?o.resolve(c.v).then((function(e){s("next",e,i,a)}),(function(e){s("throw",e,i,a)})):o.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return s("throw",e,i,a)}))}catch(l){a(l)}}var i;this.next||(r(e.prototype),r(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),r(this,"_invoke",(function(e,t,r){function n(){return new o((function(t,n){s(e,r,t,n)}))}return i=i?i.then(n,n):n()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports),te.exports;var e,t,r}function ne(){return Q||(Q=1,e=ee,t=Y(),r=re(),e.exports=function(e,n,o,s,i){return new r(t().w(e,n,o,s),i||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports),ee.exports;var e,t,r}var oe,se={exports:{}};var ie,ae,ue,ce,le={exports:{}};function fe(){return ae||(ae=1,function(e){var t=H(),r=Y(),n=function(){return $||($=1,e=Z,t=ne(),e.exports=function(e,r,n,o,s){var i=t(e,r,n,o,s);return i.next().then((function(e){return e.done?e.value:i.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports),Z.exports;var e,t}(),o=ne(),s=re(),i=function(){return oe||(oe=1,(e=se).exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports),se.exports;var e}(),a=function(){return ie||(ie=1,e=le,t=d().default,e.exports=function(e){if(null!=e){var r=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(t(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports),le.exports;var e,t}();function u(){var c=r(),l=c.m(u),f=(Object.getPrototypeOf?Object.getPrototypeOf(l):l.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function h(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,s){return t.resultName=o,r(n.d,a(e),s)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=u=function(){return{wrap:function(e,t,r,n){return c.w(h(e),t,r,n&&n.reverse())},isGeneratorFunction:p,mark:c.m,awrap:function(e,r){return new t(e,r)},AsyncIterator:s,async:function(e,t,r,s,i){return(p(t)?o:n)(h(e),t,r,s,i)},keys:i,values:a}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(F)),F.exports}function pe(){if(ce)return ue;ce=1;var e=fe()();ue=e;try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return ue}var de,he,ye={exports:{}},ve={exports:{}},me={exports:{}};function be(){return de||(de=1,(e=me).exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports),me.exports;var e}var ge,we={exports:{}};function ke(){return ge||(ge=1,(e=we).exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports),we.exports;var e}var Ee,Oe={exports:{}};function Se(){return Ee||(Ee=1,e=Oe,t=be(),e.exports=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports),Oe.exports;var e,t}var _e,xe,Re={exports:{}};function Te(){return xe||(xe=1,e=ye,t=function(){return he||(he=1,e=ve,t=be(),e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports),ve.exports;var e,t}(),r=ke(),n=Se(),o=function(){return _e||(_e=1,(e=Re).exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports),Re.exports;var e}(),e.exports=function(e){return t(e)||r(e)||n(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports),ye.exports;var e,t,r,n,o}var je,Ce={exports:{}};function Pe(){return je||(je=1,function(e){function t(e,t,r,n,o,s,i){try{var a=e[s](i),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,s){var i=e.apply(r,n);function a(e){t(i,o,s,a,u,"next",e)}function u(e){t(i,o,s,a,u,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(Ce)),Ce.exports}var Ae,Ne,Le={};function Ie(){return Ne||(Ne=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Te()),o=t(Pe()),i=t(E()),a=t(_()),u=t((Ae||(Ae=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o={off:0,fatal:1,error:2,warn:3,info:4,debug:5,trace:6,all:6},i=function(){function e(t,n){(0,r.default)(this,e),this.name=t,this.logging=n}return(0,n.default)(e,[{key:"debug",value:function(e){return this.log("DEBUG",e)}},{key:"info",value:function(e){return this.log("INFO",e)}},{key:"warn",value:function(e,t){return this.log("WARN",e,t)}},{key:"error",value:function(e,t){return this.log("ERROR",e,t)}},{key:"fatal",value:function(e,t){return this.log("FATAL",e,t)}},{key:"trace",value:function(e){return this.log("TRACE",e)}},{key:"log",value:function(e,t,r){if(this.min(e))return this.logging.push(this.name,e,t,r)}},{key:"min",value:function(e){e=e.toLowerCase();var t=this.logging.globalLevel,r=this.logging.levels[this.name];return!(t&&o[t.toLowerCase()]<o[e])&&(!r||o[r.toLowerCase()]>=o[e])}}]),e}();e.default=i}(Le)),Le)),c=function(){function e(t){(0,i.default)(this,e),this.app=t,this.reset(),t.loggingConfig&&this.setConfig(t.loggingConfig)}var t;return(0,a.default)(e,[{key:"setConfig",value:function(e){e.levels&&(this.levels=e.levels),e.globalLevel&&(this.globalLevel=e.globalLevel),e.loadLevels&&this.loadLoggingLevels()}},{key:"reset",value:function(){this.levels={},this.globalLevel="all",this.loggers={},this.messages=[],this.numOfMessages=10,this.timeFrequency=1,this.messagesLimit=1e3}},{key:"loadLoggingLevels",value:function(){var e=this;this.app.appInfoPromise().then((function(t){var r=t.loggers,n={};r.forEach((function(e){n[e.name]=e.level}));var o=n["Global logger"];e.setConfig({loggers:n,globalLevel:o})})).catch((function(e){console.error("Could not load logging levels: ",e)}))}},{key:"getLogger",value:function(e){if(!e||"string"!=typeof e)throw new Error("Logger Name must be provided and must be a string.");return this.loggers[e]||(this.loggers[e]=new u.default(e,this)),this.loggers[e]}},{key:"flush",value:(t=(0,o.default)(r.default.mark((function e(){var t,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!this.flushRequest&&this.messages.length&&(this.stopFlushInterval(),t=(0,n.default)(this.messages),this.messages=[],this.flushRequest=Promise.resolve().then((function(){return o.app.request.put({url:o.app.urls.logging(),data:t}).catch((function(e){throw o.messages=[].concat((0,n.default)(t),(0,n.default)(o.messages)),o.checkMessagesLimit(),e}))})).finally((function(){return delete o.flushRequest}))),e.abrupt("return",this.flushRequest);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"push",value:function(e,t,r,n){this.messages.push({logger:e,message:l(r),exception:n,"log-level":t,timestamp:Date.now()}),this.checkMessagesLen()}},{key:"checkMessagesLen",value:function(){var e=this;this.checkMessagesLenTimer&&clearTimeout(this.checkMessagesLenTimer),this.checkMessagesLenTimer=setTimeout((function(){e.messages.length>=e.numOfMessages?e.flush().catch((function(e){console.error("Could not flush log messages immediately: ",e)})):e.startFlushInterval()}),0)}},{key:"checkMessagesLimit",value:function(){this.messages.length>this.messagesLimit&&(this.messages=this.messages.slice(this.messages.length-this.messagesLimit))}},{key:"startFlushInterval",value:function(){var e=this;this.flushInterval||(this.flushInterval=setTimeout((function(){e.flush().catch((function(e){console.error("Could not flush log messages with timer: ",e)}))}),1e3*this.timeFrequency))}},{key:"stopFlushInterval",value:function(){this.flushInterval&&(clearTimeout(this.flushInterval),delete this.flushInterval)}},{key:"setLogReportingPolicy",value:function(e,t){void 0!==t&&this.timeFrequency!==t&&this.stopFlushInterval(),e>this.messagesLimit&&(this.messagesLimit=e),this.numOfMessages=e,this.timeFrequency=t,this.checkMessagesLen()}},{key:"setMessagesLimit",value:function(e){this.messagesLimit=e,this.checkMessagesLimit()}}]),e}();function l(e){return"string"==typeof e?e:void 0===e?"undefined":"function"==typeof e?Object.prototype.toString.call(e):JSON.stringify(e)}e.default=c}(q)),q}var Me,Be,De={},Ue={};function qe(){return Be||(Be=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t((Me||(Me=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t,n){if((0,r.default)(this,e),!t||"string"!=typeof t)throw new Error("Counter Name must be non empty String");this.name=t,this.counters=n}return(0,n.default)(e,[{key:"incrementAndGet",value:function(){return this.counters.incrementAndGet(this.name)}},{key:"getAndIncrement",value:function(){return this.counters.getAndIncrement(this.name)}},{key:"decrementAndGet",value:function(){return this.counters.decrementAndGet(this.name)}},{key:"getAndDecrement",value:function(){return this.counters.getAndDecrement(this.name)}},{key:"reset",value:function(){return this.counters.reset(this.name)}},{key:"get",value:function(){return this.counters.get(this.name)}},{key:"addAndGet",value:function(e){return this.counters.addAndGet(this.name,e)}},{key:"getAndAdd",value:function(e){return this.counters.getAndAdd(this.name,e)}},{key:"compareAndSet",value:function(e,t){return this.counters.compareAndSet(this.name,e,t)}}]),e}();e.default=o}(Ue)),Ue)),u=function(){function e(t){(0,o.default)(this,e),this.app=t}var t,s,u,c,l,f,p,d,h,y;return(0,i.default)(e,[{key:"of",value:function(e){return new a.default(e,this)}},{key:"list",value:(y=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"string"==typeof t){e.next=2;break}throw new Error("Counters Pattern can be a string only");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.countersList(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"incrementAndGet",value:(h=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterIncrementAndGet(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"getAndIncrement",value:(d=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterGetAndIncrement(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"decrementAndGet",value:(p=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterDecrementAndGet(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getAndDecrement",value:(f=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterGetAndDecrement(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"reset",value:(l=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterReset(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"get",value:(c=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.counter(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"addAndGet",value:(u=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:if("number"==typeof n){e.next=4;break}throw new Error("Counter Value must be a number.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterAddAndGet(t),query:{value:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getAndAdd",value:(s=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:if("number"==typeof n){e.next=4;break}throw new Error("Counter Value must be a number.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterGetAndAdd(t),query:{value:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"compareAndSet",value:(t=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Counter Name must be provided and must be a string.");case 2:if("number"==typeof n){e.next=4;break}throw new Error("Counter Expected Value must be a number.");case 4:if("number"==typeof o){e.next=6;break}throw new Error("Counter Updated Value must be a number.");case 6:return e.abrupt("return",this.app.request.put({url:this.app.urls.counterCompareAndSet(t),query:{expected:n,updatedvalue:o}}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();e.default=u}(De)),De}var Fe,Ge={};var He,Ve={};var Ke,ze={},We={};var Je,Ye={};function Xe(){return Je||(Je=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t){var n=this;(0,r.default)(this,e),t=t||{},Object.keys(t).map((function(e){n[e]=t[e]})),this.___class=e.className}return(0,n.default)(e,null,[{key:"className",get:function(){return"Users"}}]),e}();e.default=o,o.prototype.___class=o.className}(Ye)),Ye}var Qe,$e,Ze={},et={};function tt(){return Qe||(Qe=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PAGING_DEFAULTS=void 0;var r=t(g()),n=t(E()),o=t(_()),i=t(I());function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u={pageSize:10,offset:0};e.PAGING_DEFAULTS=u;var c=function(){function e(){(0,n.default)(this,e),this.offset=u.offset,this.pageSize=u.pageSize,this.sortBy=null,this.groupBy=null,this.properties=null,this.excludeProps=null,this.whereClause=null,this.havingClause=null,this.relations=null,this.relationsDepth=null,this.relationsPageSize=null,this.distinct=!1}return(0,o.default)(e,[{key:"setPageSize",value:function(e){if(e<=0)throw new Error("Page size must be a positive value.");return this.pageSize=e,this}},{key:"getPageSize",value:function(){return this.pageSize}},{key:"setOffset",value:function(e){if(e<0)throw new Error("Offset cannot have a negative value.");return this.offset=e,this}},{key:"getOffset",value:function(){return this.offset}},{key:"prepareNextPage",value:function(){return this.setOffset(this.offset+this.pageSize),this}},{key:"preparePreviousPage",value:function(){return this.setOffset(Math.max(this.offset-this.pageSize,0)),this}},{key:"getProperties",value:function(){return this.properties}},{key:"setProperties",value:function(e){return this.properties=i.default.castArray(e),this}},{key:"addProperty",value:function(e){return this.properties=this.properties||[],this.properties.push(e),this}},{key:"addProperties",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){i.default.castArray(t).forEach((function(t){return e.addProperty(t)}))})),this}},{key:"addAllProperties",value:function(){return this.addProperty("*"),this}},{key:"excludeProperty",value:function(e){return this.excludeProps=this.excludeProps||[],this.excludeProps.push(e),this}},{key:"excludeProperties",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){i.default.castArray(t).forEach((function(t){return e.excludeProperty(t)}))})),this}},{key:"getExcludeProperties",value:function(){return this.excludeProps}},{key:"getWhereClause",value:function(){return this.whereClause}},{key:"setWhereClause",value:function(e){return this.whereClause=e,this}},{key:"getHavingClause",value:function(){return this.havingClause}},{key:"setHavingClause",value:function(e){return this.havingClause=e,this}},{key:"getSortBy",value:function(){return this.sortBy}},{key:"setSortBy",value:function(e){return this.sortBy=i.default.castArray(e),this}},{key:"getGroupBy",value:function(){return this.groupBy}},{key:"setGroupBy",value:function(e){return this.groupBy=i.default.castArray(e),this}},{key:"getRelated",value:function(){return this.relations}},{key:"setRelated",value:function(e){return this.relations=i.default.castArray(e),this}},{key:"addRelated",value:function(e){return this.relations=(this.relations||[]).concat(e),this}},{key:"setRelationsDepth",value:function(e){return this.relationsDepth=e,this}},{key:"getRelationsDepth",value:function(){return this.relationsDepth}},{key:"setRelationsPageSize",value:function(e){return this.relationsPageSize=e,this}},{key:"getRelationsPageSize",value:function(){return this.relationsPageSize}},{key:"setDistinct",value:function(e){return this.distinct=!!e,this}},{key:"getDistinct",value:function(){return this.distinct}},{key:"setFileReferencePrefix",value:function(e){return this.fileReferencePrefix=e,this}},{key:"getFileReferencePrefix",value:function(){return this.fileReferencePrefix}},{key:"toJSON",value:function(){return{pageSize:this.pageSize,offset:this.offset,properties:this.properties,excludeProps:this.excludeProps,where:this.whereClause,having:this.havingClause,sortBy:this.sortBy,groupBy:this.groupBy,relations:this.relations,relationsDepth:this.relationsDepth,relationsPageSize:this.relationsPageSize,distinct:this.distinct,fileReferencePrefix:this.fileReferencePrefix}}}],[{key:"create",value:function(){return new this}},{key:"toRequestBody",value:function(t){var n=t instanceof e?t.toJSON():t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):{};return Object.keys(n).forEach((function(e){Array.isArray(n[e])?"groupPath"!==e&&(n[e]=n[e].join(",")):null==n[e]&&delete n[e]})),n.properties&&(n.props=n.properties,delete n.properties),n.relations&&(n.loadRelations=n.relations,delete n.relations),n}},{key:"toQueryString",value:function(t){if(t){t instanceof e&&(t=t.toJSON());var r=[];return t.pageSize>0&&r.push("pageSize=".concat(t.pageSize)),t.offset>0&&r.push("offset=".concat(t.offset)),Array.isArray(t.properties)&&t.properties.length&&t.properties.map((function(e){r.push("property=".concat(encodeURIComponent(e)))})),Array.isArray(t.excludeProps)&&t.excludeProps.length&&r.push("excludeProps=".concat(l(t.excludeProps))),t.where&&r.push("where=".concat(encodeURIComponent(t.where))),t.having&&r.push("having=".concat(encodeURIComponent(t.having))),t.sortBy&&r.push(Array.isArray(t.sortBy)?"sortBy=".concat(l(t.sortBy)):"sortBy=".concat(encodeURIComponent(t.sortBy))),t.groupBy&&r.push(Array.isArray(t.groupBy)?"groupBy=".concat(l(t.groupBy)):"groupBy=".concat(encodeURIComponent(t.groupBy))),Array.isArray(t.relations)&&r.push(t.relations.length?"loadRelations=".concat(l(t.relations)):"loadRelations=*"),t.relationsDepth>0&&r.push("relationsDepth=".concat(t.relationsDepth)),t.relationsPageSize>0&&r.push("relationsPageSize=".concat(t.relationsPageSize)),t.distinct&&r.push("distinct=".concat(t.distinct)),t.fileReferencePrefix&&r.push("fileReferencePrefix=".concat(encodeURIComponent(t.fileReferencePrefix))),r.join("&")}}}]),e}();function l(e){return e.map((function(e){return encodeURIComponent(e)})).join(",")}e.default=c}(et)),et}var rt,nt,ot,st={},it={};function at(){return nt||(nt=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t(Xe()),u=function(){if(rt)return it;rt=1;var e=s();Object.defineProperty(it,"__esModule",{value:!0}),it.SocialContainer=void 0;var t=e(E()),r=e(_()),n=function(){function e(r,n){(0,t.default)(this,e),this.socialType=r,this.container=n,n?this.processContainer():this.createContainer()}return(0,r.default)(e,[{key:"processContainer",value:function(){var e,t=this,r=this.container[0]||this.container,n=document.createElement("div");n.innerHTML="Loading...",r.appendChild(n),r.style.cursor="wait",this.closeContainer=function(){r.style.cursor="default",r.removeChild(e)},this.removeLoading=function(){r.removeChild(n)},this.doAuthorizationActivity=function(n){t.removeLoading(),(e=document.createElement("iframe")).frameBorder=0,e.width=r.style.width,e.height=r.style.height,e.id="SocialAuthFrame",e.setAttribute("src",n+"&amp;output=embed"),r.appendChild(e),e.onload=function(){r.style.cursor="default"}}}},{key:"createContainer",value:function(){var e=window.open("",this.socialType+" authorization","resizable=yes, scrollbars=yes, titlebar=yes, top=10, left=10");e.document.getElementsByTagName("body")[0].innerHTML="Loading...",e.document.getElementsByTagName("html")[0].style.cursor="wait",this.closeContainer=function(){e.close()},this.doAuthorizationActivity=function(t){e.location.href=t,e.onload=function(){e.document.getElementsByTagName("html")[0].style.cursor="default"}}}}]),e}();return it.SocialContainer=n,it}(),c=function(){function e(t){(0,o.default)(this,e),this.users=t,this.app=t.app}var t,s,c,p,d,h,y,v,m;return(0,i.default)(e,[{key:"loginWithFacebook",value:(m=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loginWithContainer("facebook",t,n,null,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"loginWithGooglePlus",value:(v=(0,n.default)(r.default.mark((function e(t,n,o,s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loginWithContainer("googleplus",t,n,o,s));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"loginWithTwitter",value:(y=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loginWithContainer("twitter",t,null,null,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"loginWithFacebookSdk",value:(h=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendWithAccessToken("facebook",t,n,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"loginWithGooglePlusSdk",value:(d=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendWithAccessToken("googleplus",t,n,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"sendWithAccessToken",value:(p=(0,n.default)(r.default.mark((function e(t,n,o,s){var i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&"string"==typeof n){e.next=2;break}throw new Error('"accessToken" must be non empty string.');case 2:return"boolean"==typeof o&&(s=o,o=void 0),e.abrupt("return",this.app.request.post({url:this.app.urls.userSocialLogin(t),data:{accessToken:n,fieldsMapping:o}}).then((function(e){return i.users.setCurrentUser(e,s)})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return p.apply(this,arguments)})},{key:"loginWithContainer",value:(c=(0,n.default)(r.default.mark((function e(t,n,o,s,i){var a,c,p=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.SocialContainer(t,s),c=function(){return new Promise((function(e,t){l("message",window,(function r(n){if(n.origin===p.app.serverURL){var o=JSON.parse(n.data);o.fault?t(new Error(o.fault)):e(o),f("message",window,r),a.closeContainer()}}))}))},e.abrupt("return",this.app.request.post({url:this.app.urls.userSocialOAuth(t),data:{fieldsMapping:n||{},permissions:o||[]}}).then((function(e){return a.doAuthorizationActivity(e)})).catch((function(e){throw a.closeContainer(),e})).then(c).then((function(e){return p.users.setCurrentUser(e,i)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return c.apply(this,arguments)})},{key:"loginWithOauth2",value:(s=(0,n.default)(r.default.mark((function e(t,n,o,s,i){var u=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"providerCode" must be non empty string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error('"accessToken" must be non empty string.');case 4:return!o||o instanceof a.default||(i=s,s=o,o=void 0),"boolean"==typeof s&&(i=s,s=void 0),e.abrupt("return",this.app.request.post({url:this.app.urls.userOAuthLogin(t),data:{accessToken:n,fieldsMapping:s,guestUser:o}}).then((function(e){return u.users.setCurrentUser(e,i)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return s.apply(this,arguments)})},{key:"loginWithOauth1",value:(t=(0,n.default)(r.default.mark((function e(t,n,o,s,i,u){var c=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"providerCode" must be non empty string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error('"accessToken" must be non empty string.');case 4:if(o&&"string"==typeof o){e.next=6;break}throw new Error('"accessTokenSecret" must be non empty string.');case 6:return!s||s instanceof a.default||(u=i,i=s,s=void 0),"boolean"==typeof i&&(u=i,i=void 0),e.abrupt("return",this.app.request.post({url:this.app.urls.userOAuthLogin(t),data:{accessToken:n,accessTokenSecret:o,fieldsMapping:i,guestUser:s}}).then((function(e){return c.users.setCurrentUser(e,u)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o,s,i){return t.apply(this,arguments)})}]),e}();function l(e,t,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):t[e]=r}function f(e,t,r){t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent&&t.detachEvent("on"+e,r),t[e]=null}e.default=c}(st)),st}function ut(){return ot||(ot=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(g()),o=t(Pe()),i=t(E()),a=t(_()),u=function(){if(Ke)return We;Ke=1,Object.defineProperty(We,"__esModule",{value:!0}),We.UsersUtils=void 0;var e={getClientUserLocale:function(){if("undefined"!=typeof navigator)return(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"").slice(0,2).toLowerCase()}};return We.UsersUtils=e,We}(),c=t(Xe()),l=t(($e||($e=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(d()),o=t(Pe()),i=t(E()),a=t(_()),u=t(tt()),c=function(){function e(t){(0,i.default)(this,e),this.users=t,this.app=t.app}var t,s,c,l,f;return(0,a.default)(e,[{key:"findByRole",value:(f=(0,o.default)(r.default.mark((function e(t,o,s){var i,a=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Role Name must be a string and can not be empty");case 2:if(null==o||"boolean"==typeof o){e.next=4;break}throw new Error('The second argument "loadRoles" can be a boolean only');case 4:if(null==s||!Array.isArray(s)&&"object"===(0,n.default)(s)){e.next=6;break}throw new Error('The third argument "query" can be an instance of DataQueryBuilder or a plain object only');case 6:return i=[],"boolean"==typeof o&&i.push("loadRoles=".concat(o)),s&&i.push(u.default.toQueryString(s)),e.abrupt("return",this.app.request.get({url:this.app.urls.usersRole(t),queryString:i.join("&")}).then((function(e){return a.users.dataStore.parseResponse(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"getUserRoles",value:(l=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.get({url:this.app.urls.userRoles(t)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"assignRole",value:(c=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.changeRole(t,n,"assignRole"));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"unassignRole",value:(s=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.changeRole(t,n,"unassignRole"));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"changeRole",value:(t=(0,o.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&("string"==typeof t||"number"==typeof t)){e.next=2;break}throw new Error("User identity must be a string or number and can not be empty.");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("Role Name must be a string and can not be empty.");case 4:return e.abrupt("return",this.app.request.post({url:this.app.urls.userRoleOperation(o),data:{user:t,roleName:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();e.default=c}(Ze)),Ze)),f=t(at());function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(){function e(t){(0,i.default)(this,e),this.app=t,this.roles=new l.default(this),this.social=new f.default(this),this.dataStore=this.app.Data.of(c.default)}var t,n,s,p,d,y,v,m,b,g,w,k,E,O,S,_,x,R,T,j,C,P,A,N,L,I;return(0,a.default)(e,[{key:"Utils",get:function(){return u.UsersUtils}},{key:"register",value:(I=(0,o.default)(r.default.mark((function e(t){var n,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=h({},t)).blUserLocale||(n=this.Utils.getClientUserLocale())&&(t.blUserLocale=n),e.abrupt("return",this.app.request.post({url:this.app.urls.userRegister(),data:t}).then((function(e){return o.dataStore.parseResponse(e)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"login",value:(L=(0,o.default)(r.default.mark((function e(t,n,o){var s,i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={},"string"==typeof t||"number"==typeof t){e.next=3;break}throw new Error("the first argument must be either a string or a number");case 3:if(t){e.next=5;break}throw new Error("the first argument cannot be an empty value");case 5:if("boolean"==typeof n&&(o=n,n=void 0),"string"!=typeof t||void 0!==n){e.next=10;break}s.objectId=t,e.next=14;break;case 10:if(n){e.next=12;break}throw new Error('the "password" value cannot be an empty value');case 12:s.login=t,s.password=n;case 14:return o=!0===o,e.abrupt("return",this.app.request.post({url:this.app.urls.userLogin(),data:s}).then((function(e){return i.setCurrentUser(e,o)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return L.apply(this,arguments)})},{key:"loginAsGuest",value:(N=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0===t,e.abrupt("return",this.app.request.post({url:this.app.urls.guestLogin()}).then((function(e){return n.setCurrentUser(e,t)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"loginWithFacebook",value:(A=(0,o.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithFacebook(t,n,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return A.apply(this,arguments)})},{key:"loginWithFacebookSdk",value:(P=(0,o.default)(r.default.mark((function e(t,n,o,s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithFacebookSdk(t,n,o,s));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return P.apply(this,arguments)})},{key:"loginWithGooglePlus",value:(C=(0,o.default)(r.default.mark((function e(t,n,o,s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithGooglePlus(t,n,o,s));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return C.apply(this,arguments)})},{key:"loginWithGooglePlusSdk",value:(j=(0,o.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithGooglePlusSdk(t,n,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return j.apply(this,arguments)})},{key:"loginWithTwitter",value:(T=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithTwitter(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"loginWithOauth2",value:(R=(0,o.default)(r.default.mark((function e(t,n,o,s,i){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithOauth2(t,n,o,s,i));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return R.apply(this,arguments)})},{key:"loginWithOauth1",value:(x=(0,o.default)(r.default.mark((function e(t,n,o,s,i,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.social.loginWithOauth1(t,n,o,s,i,a));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,s){return x.apply(this,arguments)})},{key:"logout",value:(_=(0,o.default)(r.default.mark((function e(){var t=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.get({url:this.app.urls.userLogout()}).then((function(){t.setCurrentUser(null)})).catch((function(e){throw[3023,3064,3090,3091].includes(e.code)&&t.setCurrentUser(null),e})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"getCurrentUser",value:(S=(0,o.default)(r.default.mark((function e(t){var n,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser||t){e.next=2;break}return e.abrupt("return",this.currentUser);case 2:if(!this.currentUserRequest){e.next=4;break}return e.abrupt("return",this.currentUserRequest);case 4:if(!(n=this.getCurrentUserId())){e.next=7;break}return e.abrupt("return",this.currentUserRequest=this.dataStore.findById(n).then((function(e){return o.currentUserRequest=null,e["user-token"]=o.currentUser&&o.currentUser["user-token"]||void 0,o.currentUser=e})).catch((function(e){throw o.currentUserRequest=null,e})));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"setCurrentUser",value:function(e,t){return this.app.LocalCache.remove(this.app.LocalCache.Keys.USER_TOKEN),this.app.LocalCache.remove(this.app.LocalCache.Keys.CURRENT_USER_ID),this.app.LocalCache.remove(this.app.LocalCache.Keys.STAY_LOGGED_IN),this.currentUser=e||null,this.currentUser&&(this.currentUser instanceof c.default||(this.currentUser=this.dataStore.parseResponse(this.currentUser)),t&&(this.app.LocalCache.set(this.app.LocalCache.Keys.STAY_LOGGED_IN,!0),this.app.LocalCache.set(this.app.LocalCache.Keys.USER_TOKEN,this.currentUser["user-token"]),this.app.LocalCache.set(this.app.LocalCache.Keys.CURRENT_USER_ID,this.currentUser.objectId))),this.app.__RT&&this.app.RT.updateUserTokenIfNeeded(),this.currentUser}},{key:"isValidLogin",value:(O=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getCurrentUserToken())){e.next=3;break}return e.abrupt("return",this.app.request.get({url:this.app.urls.userTokenCheck(t)}));case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"verifyPassword",value:(E=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Password has to be a non empty string");case 2:if(this.getCurrentUserToken()){e.next=4;break}throw new Error("In order to check password you have to be logged in");case 4:return e.abrupt("return",this.app.request.post({url:this.app.urls.userVerifyPassowrd(),data:{password:t}}).then((function(e){return!(!e||!e.valid)})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"restorePassword",value:(k=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Email Address must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.userRestorePassword(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"resendEmailConfirmation",value:(w=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}if(t){e.next=3;break}throw new Error("Identity can not be an empty string.");case 3:e.next=7;break;case 5:if("number"==typeof t){e.next=7;break}throw new Error("Identity must be a string or number.");case 7:return e.abrupt("return",this.app.request.post({url:this.app.urls.userResendConfirmation(t)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"createEmailConfirmationURL",value:(g=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}if(t){e.next=3;break}throw new Error("Identity can not be an empty string.");case 3:e.next=7;break;case 5:if("number"==typeof t){e.next=7;break}throw new Error("Identity must be a string or number.");case 7:return e.abrupt("return",this.app.request.post({url:this.app.urls.userCreateConfirmationURL(t)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"update",value:(b=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.put({url:this.app.urls.userObject(t.objectId),data:t}).then((function(e){return n.dataStore.parseResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"findByRole",value:(m=(0,o.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roles.findByRole(t,n,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"getUserRoles",value:(v=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roles.getUserRoles(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"assignRole",value:(y=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roles.assignRole(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"unassignRole",value:(d=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roles.unassignRole(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"describeUserClass",value:(p=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.get({url:this.app.urls.userClassProps()}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"enableUser",value:(s=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateUserStatus(t,"ENABLED"));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"disableUser",value:(n=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateUserStatus(t,"DISABLED"));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateUserStatus",value:(t=(0,o.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&("string"==typeof t||"number"==typeof t)){e.next=2;break}throw new Error("User objectId must be non empty string/number");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("User Status must be a valid string");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.userStatus(t),data:{userStatus:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getAuthorizationUrlLink",value:function(e,t,r,n,o,s){return this.app.request.post({url:this.app.urls.userAuthorizationURL(e),data:{fieldsMapping:t,permissions:r,redirect:n,redirectAfterLoginUrl:o,callbackUrlDomain:s}})}},{key:"loggedInUser",value:function(){return this.getCurrentUserId()}},{key:"getCurrentUserToken",value:function(){return this.currentUser&&this.currentUser["user-token"]?this.currentUser["user-token"]:this.app.LocalCache.get(this.app.LocalCache.Keys.USER_TOKEN)||null}},{key:"setCurrentUserToken",value:function(e){e=e||null,this.currentUser&&(this.currentUser["user-token"]=e),this.app.LocalCache.get("user-token")&&this.app.LocalCache.set("user-token",e),this.app.__RT&&this.app.RT.updateUserTokenIfNeeded()}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.objectId:this.app.LocalCache.get(this.app.LocalCache.Keys.CURRENT_USER_ID)||null}},{key:"getLocalCurrentUser",value:function(){return this.currentUser}},{key:"setLocalCurrentUser",value:function(e,t){return this.setCurrentUser(e,t)}}]),e}();e.default=y}(ze)),ze}var ct,lt={},ft={};function pt(){if(ct)return ft;ct=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.isExecutionType=ft.ExecutionTypes=ft.EXECUTION_TYPE_HEADER=void 0;ft.EXECUTION_TYPE_HEADER="bl-execution-type";var e={SYNC:"sync",ASYNC:"async",ASYNC_LOW_PRIORITY:"async-low-priority"};ft.ExecutionTypes=e;var t=Object.keys(e).map((function(t){return e[t]}));return ft.isExecutionType=function(e){return t.includes(e)},ft}var dt,ht={};var yt,vt,mt={};function bt(){return vt||(vt=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=pt(),i=t((dt||(dt=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(g()),o=t(Pe()),i=t(E()),a=t(_()),u=pt();function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){function e(t){(0,i.default)(this,e),this.app=t}var t;return(0,a.default)(e,[{key:"invoke",value:(t=(0,o.default)(r.default.mark((function e(t,n,o,s){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Service Name must be provided and must be a string.");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("Method Name must be provided and must be a string.");case 4:return"string"==typeof s&&(s={executionType:s}),"string"==typeof o&&(0,u.isExecutionType)(o)&&(s={executionType:o},o=void 0),i=l({},(s=s||{}).httpRequestHeaders),s.executionType&&(i[u.EXECUTION_TYPE_HEADER]=s.executionType),e.abrupt("return",this.app.request.post({url:this.app.urls.blServiceMethod(t,n),data:o,headers:i}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}();e.default=f}(ht)),ht)),a=t((yt||(yt=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(d()),o=t(Pe()),i=t(E()),a=t(_()),u=pt(),c=function(){function e(t){(0,i.default)(this,e),this.app=t}var t;return(0,a.default)(e,[{key:"dispatch",value:(t=(0,o.default)(r.default.mark((function e(t,o,s){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Event Name must be provided and must be a string.");case 2:if("string"==typeof o&&(0,u.isExecutionType)(o)&&(s=o,o=void 0),!o||"object"===(0,n.default)(o)&&!Array.isArray(o)){e.next=5;break}throw new Error("Event Arguments must be an object.");case 5:return i={},s&&(i[u.EXECUTION_TYPE_HEADER]=s),e.abrupt("return",this.app.request.post({url:this.app.urls.blEvent(t),data:o||{},headers:i}));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();e.default=c}(mt)),mt)),u=(0,r.default)((function e(t){(0,n.default)(this,e),this.app=t,this.ExecutionTypes=o.ExecutionTypes,this.CustomServices=new i.default(t),this.Events=new a.default(t)}));e.default=u}(lt)),lt}var gt,wt={},kt={},Et={exports:{}},Ot={exports:{}};function St(){return gt||(gt=1,(e=Ot).exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports),Ot.exports;var e}var _t,xt={exports:{}};var Rt,Tt,jt={exports:{}};function Ct(){return Rt||(Rt=1,(e=jt).exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports),jt.exports;var e}function Pt(){return Tt||(Tt=1,e=Et,t=St(),r=function(){return _t||(_t=1,(e=xt).exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],u=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports),xt.exports;var e}(),n=Se(),o=Ct(),e.exports=function(e,s){return t(e)||r(e,s)||n(e,s)||o()},e.exports.__esModule=!0,e.exports.default=e.exports),Et.exports;var e,t,r,n,o}var At,Nt,Lt={exports:{}},It={exports:{}};function Mt(){return Nt||(Nt=1,e=Lt,t=function(){return At||(At=1,(e=It).exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports),It.exports;var e}(),e.exports=function(e,r){if(null==e)return{};var n,o,s=t(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===r.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports),Lt.exports;var e,t}var Bt,Dt,Ut,qt={},Ft={exports:{}},Gt={exports:{}},Ht={exports:{}};function Vt(){return Bt||(Bt=1,function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ht)),Ht.exports}function Kt(){return Ut||(Ut=1,function(e){var t=function(){return Dt||(Dt=1,e=Gt,t=Vt(),e.exports=function(e,r){for(;!{}.hasOwnProperty.call(e,r)&&null!==(e=t(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports),Gt.exports;var e,t}();function r(){return e.exports=r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,r,n){var o=t(e,r);if(o){var s=Object.getOwnPropertyDescriptor(o,r);return s.get?s.get.call(arguments.length<3?e:n):s.value}},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(null,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Ft)),Ft.exports}var zt,Wt,Jt={exports:{}},Yt={exports:{}};function Xt(){return zt||(zt=1,function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Yt)),Yt.exports}function Qt(){return Wt||(Wt=1,e=Jt,t=Xt(),e.exports=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports),Jt.exports;var e,t}var $t,Zt,er={exports:{}},tr={exports:{}};function rr(){return $t||($t=1,(e=tr).exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports),tr.exports;var e}function nr(){return Zt||(Zt=1,e=er,t=d().default,r=rr(),e.exports=function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports),er.exports;var e,t,r}var or,sr,ir,ar={},ur={exports:{}};function cr(){return or?ur.exports:(or=1,t={},self,e=()=>(()=>{var e={"./node_modules/after/index.js":
/*!*************************************!*\
                !*** ./node_modules/after/index.js ***!
                \*************************************/e=>{function t(){}e.exports=function(e,r,n){var o=!1;return n=n||t,s.count=e,0===e?r():s;function s(e,t){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(o=!0,r(e),r=n):0!==s.count||o||r(null,t)}}},"./node_modules/arraybuffer.slice/index.js":
/*!*************************************************!*\
                !*** ./node_modules/arraybuffer.slice/index.js ***!
                \*************************************************/e=>{e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(r-t),i=t,a=0;i<r;i++,a++)s[a]=o[i];return s.buffer}},"./src/client.js":
/*!***********************!*\
                !*** ./src/client.js ***!
                \***********************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/regenerator */
"./node_modules/@babel/runtime/regenerator/index.js")),s=n(r(
/*! @babel/runtime/helpers/asyncToGenerator */
"./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),u=n(r(
/*! @babel/runtime/helpers/defineProperty */
"./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(
/*! ./constants */
"./src/constants.js"),l=n(r(
/*! ./config */
"./src/config.js")),f=n(r(
/*! ./subscriptions */
"./src/subscriptions.js")),p=n(r(
/*! ./methods */
"./src/methods.js")),d=n(r(
/*! ./session */
"./src/session.js")),h=[c.NativeSocketEvents.CONNECTING,c.NativeSocketEvents.CONNECT,c.NativeSocketEvents.CONNECT_ERROR,c.NativeSocketEvents.DISCONNECT,c.NativeSocketEvents.RECONNECT_ATTEMPT];t.default=function(){return(0,a.default)((function e(t){var r=this;(0,i.default)(this,e),(0,u.default)(this,"onConnectError",(function(){r.subscriptions.hasActivity()||r.methods.hasActivity()||(r.disconnect("There are no active subscriptions and methods"),r.connectible=!0)})),(0,u.default)(this,"connectOnMethod",(function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(r.connectible){var s=r.provideConnection();r.connected&&s.then((function(t){return t[e].apply(t,n)}))}}})),(0,u.default)(this,"on",this.connectOnMethod("on")),(0,u.default)(this,"emit",this.connectOnMethod("emit")),(0,u.default)(this,"onSessionDisconnect",(function(){r.subscriptions.stop(),r.methods.stop(),delete r.session,r.provideConnection()})),(0,u.default)(this,"emitSocketEventListeners",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.socketEvents[e]&&r.socketEvents[e].forEach((function(e){return e.apply(void 0,n)}))})),(0,u.default)(this,"addConnectingEventListener",(function(e){return r.addSocketEventListener(c.NativeSocketEvents.CONNECTING,e)})),(0,u.default)(this,"removeConnectingEventListener",(function(e){return r.removeSocketEventListener(c.NativeSocketEvents.CONNECTING,e)})),(0,u.default)(this,"addConnectEventListener",(function(e){return r.addSocketEventListener(c.NativeSocketEvents.CONNECT,e)})),(0,u.default)(this,"removeConnectEventListener",(function(e){return r.removeSocketEventListener(c.NativeSocketEvents.CONNECT,e)})),(0,u.default)(this,"addConnectErrorEventListener",(function(e){return r.addSocketEventListener(c.NativeSocketEvents.CONNECT_ERROR,e)})),(0,u.default)(this,"removeConnectErrorEventListener",(function(e){return r.removeSocketEventListener(c.NativeSocketEvents.CONNECT_ERROR,e)})),(0,u.default)(this,"addDisconnectEventListener",(function(e){return r.addSocketEventListener(c.NativeSocketEvents.DISCONNECT,e)})),(0,u.default)(this,"removeDisconnectEventListener",(function(e){return r.removeSocketEventListener(c.NativeSocketEvents.DISCONNECT,e)})),(0,u.default)(this,"addReconnectAttemptEventListener",(function(e){return r.addSocketEventListener(c.NativeSocketEvents.RECONNECT_ATTEMPT,e)})),(0,u.default)(this,"removeReconnectAttemptEventListener",(function(e){return r.removeSocketEventListener(c.NativeSocketEvents.RECONNECT_ATTEMPT,e)})),(0,u.default)(this,"removeConnectionListeners",(function(){h.forEach((function(e){return r.removeSocketEventListener(e)}))})),this.config=new l.default(t),this.resetSocketEvents();var n={onMessage:this.on.bind(this),emitMessage:this.emit.bind(this)};this.subscriptions=new f.default(n),this.methods=new p.default(n),this.connectible=!0,this.connected=!1}),[{key:"resetSocketEvents",value:function(){this.socketEvents={},this.addConnectErrorEventListener(this.onConnectError)}},{key:"setConfig",value:function(e){this.config.set(e),this.session&&(this.disconnect("Re-config socket connection"),this.connect())}},{key:"provideConnection",value:function(){var e=this;return this.session||(this.session=new d.default(this.config,this.emitSocketEventListeners,this.onSessionDisconnect),this.session.getSocket().then((function(){e.connected=!0,e.methods.initialize(),e.methods.restore(),e.subscriptions.initialize(),e.subscriptions.restore()}))),this.session.getSocket()}},{key:"getConnectionId",value:(e=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.session){e.next=4;break}return e.next=3,this.session.getConnectionId();case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"connect",value:function(){this.connectible=!0,this.provideConnection()}},{key:"disconnect",value:function(e){this.session&&(this.subscriptions.stop(),this.methods.stop(),this.session.terminate(),delete this.session,this.emitSocketEventListeners(c.NativeSocketEvents.DISCONNECT,e||"disconnected by client")),this.connectible=!1,this.connected=!1}},{key:"terminate",value:function(e){this.resetSocketEvents(),this.subscriptions.reset(),this.methods.reset(),this.disconnect(e||"Terminated by client")}},{key:"addSocketEventListener",value:function(e,t){return this.socketEvents[e]=this.socketEvents[e]||[],this.socketEvents[e].push(t),this}},{key:"removeSocketEventListener",value:function(e,t){return this.socketEvents[e]&&(this.socketEvents[e]=t?this.socketEvents[e].filter((function(e){return e!==t})):[],this.socketEvents[e].length||delete this.socketEvents[e]),this}}]);var e}()},"./src/config.js":
/*!***********************!*\
                !*** ./src/config.js ***!
                \***********************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/regenerator */
"./node_modules/@babel/runtime/regenerator/index.js")),s=n(r(
/*! @babel/runtime/helpers/asyncToGenerator */
"./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),u=n(r(
/*! @babel/runtime/helpers/typeof */
"./node_modules/@babel/runtime/helpers/typeof.js")),c=function(e){return void 0===e},l=function(e){return"function"==typeof e};t.default=function(){return(0,a.default)((function e(t){(0,i.default)(this,e),this.appId=null,this.debugMode=!1,this.connectQuery={},this.socketConfigTransform=null,this.hostResolver=null,this.socketConfig=null,this.set(t)}),[{key:"set",value:function(e){if(e){if(c(e.hostResolver)||l(e.hostResolver)&&(this.hostResolver=e.hostResolver),!c(e.appId)){if("string"!=typeof e.appId)throw new Error('"appId" must be String.');this.appId=e.appId}if(c(e.debugMode)||(this.debugMode=!!e.debugMode),!c(e.connectQuery))if(l(e.connectQuery))this.getConnectQuery=e.connectQuery;else{if(!function(e){return"object"===(0,u.default)(e)&&null!==e}(e.connectQuery))throw new Error('"connectQuery" must be Function or Object.');this.connectQuery=e.connectQuery}if(!c(e.socketConfigTransform)){if(!l(e.socketConfigTransform))throw new Error('"socketConfigTransform" must be Function.');this.socketConfigTransform=e.socketConfigTransform}}}},{key:"getConnectQuery",value:function(){return this.connectQuery}},{key:"getSocketConfig",value:function(){return this.socketConfig}},{key:"getHost",value:(t=(0,s.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c(this.hostResolver)&&l(this.hostResolver)){e.next=2;break}throw new Error('"hostResolver" must be a function');case 2:return e.next=4,this.hostResolver();case 4:if((t=e.sent)&&"string"==typeof t){e.next=7;break}throw new Error('"hostResolver" must return a valid string');case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"prepare",value:(e=(0,s.default)(o.default.mark((function e(){var t,r,n,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getConnectQuery(),e.next=3,this.getHost();case 3:if(r=e.sent,n=this.appId?"".concat(r,"/").concat(this.appId):r,s=this.appId?"/".concat(this.appId):void 0,this.socketConfig={host:r,url:n,options:{path:s,query:t,forceNew:!0,autoConnect:!1,reconnection:!1}},!this.socketConfigTransform){e.next=14;break}return e.next=10,this.socketConfigTransform(this.socketConfig);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0=this.socketConfig;case 13:this.socketConfig=e.t0;case 14:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}()},"./src/constants.js":
/*!**************************!*\
                !*** ./src/constants.js ***!
                \**************************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RTSubscriptionTypes=t.RTSocketEvents=t.RTMethodTypes=t.NativeSocketEvents=void 0,t.NativeSocketEvents={CONNECTING:"connecting",CONNECT:"connect",CONNECT_ERROR:"connect_error",CONNECT_TIMEOUT:"connect_timeout",DISCONNECT:"disconnect",RECONNECT:"reconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECTING:"reconnecting",RECONNECT_ERROR:"reconnect_error",RECONNECT_FAILED:"reconnect_failed",ERROR:"error",PING:"ping",PONG:"pong"},t.RTSocketEvents={SUB_ON:"SUB_ON",SUB_OFF:"SUB_OFF",SUB_RES:"SUB_RES",SUB_READY:"SUB_READY",MET_REQ:"MET_REQ",MET_RES:"MET_RES"},t.RTSubscriptionTypes={OBJECTS_CHANGES:"OBJECTS_CHANGES",RELATIONS_CHANGES:"RELATIONS_CHANGES",PUB_SUB_CONNECT:"PUB_SUB_CONNECT",PUB_SUB_MESSAGES:"PUB_SUB_MESSAGES",PUB_SUB_COMMANDS:"PUB_SUB_COMMANDS",PUB_SUB_USERS:"PUB_SUB_USERS",RSO_CONNECT:"RSO_CONNECT",RSO_CHANGES:"RSO_CHANGES",RSO_CLEARED:"RSO_CLEARED",RSO_COMMANDS:"RSO_COMMANDS",RSO_INVOKE:"RSO_INVOKE",RSO_USERS:"RSO_USERS",LOGGING_MESSAGES:"LOGGING_MESSAGES",CONSOLE_MESSAGES:"CONSOLE_MESSAGES",DEVELOPER_MESSAGES:"DEVELOPER_MESSAGES",AUTOMATION_MESSAGES:"AUTOMATION_MESSAGES"},t.RTMethodTypes={SET_USER_TOKEN:"SET_USER_TOKEN",RSO_GET:"RSO_GET",RSO_SET:"RSO_SET",RSO_CLEAR:"RSO_CLEAR",RSO_COMMAND:"RSO_COMMAND",RSO_INVOKE:"RSO_INVOKE",PUB_SUB_COMMAND:"PUB_SUB_COMMAND"}},"./src/index.js":
/*!**********************!*\
                !*** ./src/index.js ***!
                \**********************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RTScopeConnector=t.RTListeners=void 0;var o=n(r(
/*! @babel/runtime/helpers/typeof */
"./node_modules/@babel/runtime/helpers/typeof.js")),s=n(r(
/*! backendless-request */
"./node_modules/backendless-request/dist/backendless-request.js")),i=n(r(
/*! ./client */
"./src/client.js")),a=n(r(
/*! ./listeners */
"./src/listeners.js")),u=n(r(
/*! ./scope-connector */
"./src/scope-connector.js")),c="object"===("undefined"==typeof self?"undefined":(0,o.default)(self))&&self.self===self&&self||"object"===(void 0===r.g?"undefined":(0,o.default)(r.g))&&r.g.global===r.g&&r.g;i.default.Request=s.default,i.default.Listeners=a.default,i.default.ScopeConnector=u.default,c&&(c.BackendlessRTClient=i.default),e.exports=i.default,t.default=i.default,t.RTListeners=a.default,t.RTScopeConnector=u.default},"./src/listeners.js":
/*!**************************!*\
                !*** ./src/listeners.js ***!
                \**************************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/helpers/defineProperty */
"./node_modules/@babel/runtime/helpers/defineProperty.js")),s=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){return(0,i.default)((function e(){(0,s.default)(this,e),this.subscriptions={},this.simpleListeners={}}),[{key:"addSubscription",value:function(e,t,r){var n=this,o=r.callback,s=r.onError,i=r.onReady,a=r.parser,c=r.params;this.subscriptions[e]=this.subscriptions[e]||[];var l=t(u(u({},c),this.getSubscriptionOptions()),{parser:a,onData:o,onError:s,onReady:i,onStop:function(){n.subscriptions[e]=n.subscriptions[e].filter((function(e){return e.subscription!==l}))}}),f={callback:o,params:c,subscription:l,stop:function(){return l.stop()}};return this.subscriptions[e].push(f),f}},{key:"getSubscriptionOptions",value:function(){return{}}},{key:"stopSubscription",value:function(e,t){var r=t.callback,n=t.matcher,o=this.subscriptions[e]=this.subscriptions[e]||[];n?o.forEach((function(e){n(e)&&e.subscription.stop()})):o.forEach((function(e){r&&e.callback!==r||e.subscription.stop()}))}},{key:"addSimpleListener",value:function(e,t){(this.simpleListeners[e]=this.simpleListeners[e]||[]).push(t)}},{key:"removeSimpleListener",value:function(e,t){this.simpleListeners[e]&&(this.simpleListeners[e]=t?this.simpleListeners[e].filter((function(e){return e!==t})):[])}},{key:"runSimpleListeners",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.simpleListeners[e]&&this.simpleListeners[e].forEach((function(e){return e.apply(void 0,r)}))}},{key:"removeAllListeners",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.subscriptions[t].forEach((function(e){return e.subscription.stop()}))})),this.simpleListeners={}}}])}()},"./src/methods.js":
/*!************************!*\
                !*** ./src/methods.js ***!
                \************************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),i=n(r(
/*! @babel/runtime/helpers/defineProperty */
"./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r(
/*! ./constants */
"./src/constants.js"),u=n(r(
/*! ./utils */
"./src/utils.js")),c=function(e){return function(t){return this.send(e,t)}};t.default=function(){return(0,s.default)((function e(t){var r=this,n=t.onMessage,s=t.emitMessage;(0,o.default)(this,e),(0,i.default)(this,"sendRequest",(function(e){r.invocations[e]&&r.emitMessage(a.RTSocketEvents.MET_REQ,r.invocations[e].data)})),(0,i.default)(this,"onResponse",(function(e){var t=e.id,n=e.error,o=e.result;if(r.invocations[t]){var s=r.invocations[t];n?s.reject(n):s.resolve(o),delete r.invocations[t]}})),(0,i.default)(this,"setUserToken",c(a.RTMethodTypes.SET_USER_TOKEN).bind(this)),(0,i.default)(this,"sendPubSubCommand",c(a.RTMethodTypes.PUB_SUB_COMMAND).bind(this)),(0,i.default)(this,"getRSO",c(a.RTMethodTypes.RSO_GET).bind(this)),(0,i.default)(this,"setRSO",c(a.RTMethodTypes.RSO_SET).bind(this)),(0,i.default)(this,"clearRSO",c(a.RTMethodTypes.RSO_CLEAR).bind(this)),(0,i.default)(this,"sendRSOCommand",c(a.RTMethodTypes.RSO_COMMAND).bind(this)),(0,i.default)(this,"invokeRSOMethod",c(a.RTMethodTypes.RSO_INVOKE).bind(this)),this.onMessage=n,this.emitMessage=s,this.invocations={}}),[{key:"initialize",value:function(){this.onMessage(a.RTSocketEvents.MET_RES,this.onResponse)}},{key:"restore",value:function(){var e=this;Object.keys(this.invocations).forEach((function(t){e.sendRequest(t)}))}},{key:"stop",value:function(){}},{key:"reset",value:function(){this.invocations={}}},{key:"hasActivity",value:function(){return!!Object.keys(this.invocations).length}},{key:"send",value:function(e,t){var r=this,n=u.default.generateUID();return this.invocations[n]={data:{id:n,name:e,options:t}},this.sendRequest(n),new Promise((function(e,t){r.invocations[n].resolve=e,r.invocations[n].reject=t}))}}])}()},"./src/scope-connector.js":
/*!********************************!*\
                !*** ./src/scope-connector.js ***!
                \********************************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,i,a,u,c,l,f=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),p=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),d=n(r(
/*! @babel/runtime/helpers/possibleConstructorReturn */
"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),h=n(r(
/*! @babel/runtime/helpers/getPrototypeOf */
"./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),y=n(r(
/*! @babel/runtime/helpers/get */
"./node_modules/@babel/runtime/helpers/get.js")),v=n(r(
/*! @babel/runtime/helpers/inherits */
"./node_modules/@babel/runtime/helpers/inherits.js")),m=n(r(
/*! @babel/runtime/helpers/defineProperty */
"./node_modules/@babel/runtime/helpers/defineProperty.js")),b=n(r(
/*! @babel/runtime/helpers/applyDecoratedDescriptor */
"./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),g=n(r(
/*! ./listeners */
"./src/listeners.js"));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,m.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!e})()}var O="CONNECT",S="ERROR",_="COMMAND",x="USER_STATUS";function R(e){return function(t,r,n){var o=n.value;return n.value=function(){var t=arguments,r=this,n=function(){return o.apply(r,t)};return this.isConnected()?n():e?new Promise((function(e,t){return r.waitConnection.push((function(){return n().then(e,t)}))})):(this.waitConnection.push(n),this)},n}}t.default=(o=R(),s=R(),i=R(),a=R(),u=R(!0),l=function(e){function t(e){var r,n,o,s;return(0,f.default)(this,t),n=this,o=t,o=(0,h.default)(o),(r=(0,d.default)(n,E()?Reflect.construct(o,[],(0,h.default)(n).constructor):o.apply(n,s))).options=e,r.waitConnection=[],r.connect(),r}return(0,v.default)(t,e),(0,p.default)(t,[{key:"connectSubscriber",get:function(){return null}},{key:"commandSubscriber",get:function(){return null}},{key:"usersSubscriber",get:function(){return null}},{key:"commandSender",get:function(){return null}},{key:"connect",value:function(){var e=this;this.isConnected()||(this.connection=this.connectSubscriber(this.getScopeOptions(),{onError:function(t){return e.onError(t)},onReady:function(){return e.onConnect()},onStop:function(){return e.onDisconnect()}}))}},{key:"disconnect",value:function(){this.isConnected()&&this.connection.stop()}},{key:"isConnected",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"getSubscriptionOptions",value:function(){return this.getScopeOptions()}},{key:"getScopeOptions",value:function(){return this.options}},{key:"onConnect",value:function(){this.waitConnection.forEach((function(e){return e()})),this.waitConnection=[],this.runSimpleListeners(O)}},{key:"onError",value:function(e){this.runSimpleListeners(S,e)}},{key:"onDisconnect",value:function(){this.connection=null}},{key:"removeAllListeners",value:function(){var e,r,n,o;return this.waitConnection=[],(e=t,r="removeAllListeners",n=this,"function"==typeof(o=(0,y.default)((0,h.default)(e.prototype),r,n))?function(e){return o.apply(n,e)}:o)([]),this}},{key:"addConnectListener",value:function(e,t){return this.addSimpleListener(O,e),t&&this.addSimpleListener(S,t),this}},{key:"removeConnectListeners",value:function(e,t){return this.removeSimpleListener(O,e),t&&this.removeSimpleListener(S,t),this}},{key:"addCommandListener",value:function(e,t){return this.addSubscription(_,this.commandSubscriber,{callback:e,onError:t}),this}},{key:"removeCommandListeners",value:function(e){return this.stopSubscription(_,{callback:e}),this}},{key:"addUserStatusListener",value:function(e,t){return this.addSubscription(x,this.usersSubscriber,{callback:e,onError:t}),this}},{key:"removeUserStatusListeners",value:function(e){return this.stopSubscription(x,{callback:e}),this}},{key:"send",value:function(e,t){return this.commandSender(k(k({},this.getScopeOptions()),{},{type:e,data:t}))}}])}(g.default),(0,m.default)(l,"connectionRequired",R),c=l,(0,b.default)(c.prototype,"addCommandListener",[o],Object.getOwnPropertyDescriptor(c.prototype,"addCommandListener"),c.prototype),(0,b.default)(c.prototype,"removeCommandListeners",[s],Object.getOwnPropertyDescriptor(c.prototype,"removeCommandListeners"),c.prototype),(0,b.default)(c.prototype,"addUserStatusListener",[i],Object.getOwnPropertyDescriptor(c.prototype,"addUserStatusListener"),c.prototype),(0,b.default)(c.prototype,"removeUserStatusListeners",[a],Object.getOwnPropertyDescriptor(c.prototype,"removeUserStatusListeners"),c.prototype),(0,b.default)(c.prototype,"send",[u],Object.getOwnPropertyDescriptor(c.prototype,"send"),c.prototype),c)},"./src/session.js":
/*!************************!*\
                !*** ./src/session.js ***!
                \************************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/regenerator */
"./node_modules/@babel/runtime/regenerator/index.js")),s=n(r(
/*! @babel/runtime/helpers/asyncToGenerator */
"./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),u=r(
/*! ./constants */
"./src/constants.js"),c=n(r(
/*! ./socket */
"./src/socket.js"));t.default=function(){return(0,a.default)((function e(t,r,n){(0,i.default)(this,e),this.config=t,this.dispatch=r,this.onDisconnect=n,this.connectAttempt=0,this.socketPromise=this.connect()}),[{key:"terminate",value:function(){this.terminated||(this.terminated=!0,this.dispatch=function(){},this.socketPromise.then((function(e){e&&e.close()})))}},{key:"getSocket",value:function(){var e=this;return this.socketPromise.then((function(t){return e.terminated?new Promise((function(){})):t}))}},{key:"getConnectionId",value:(e=(0,s.default)(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSocket();case 2:return r=e.sent,e.abrupt("return",(null==r||null===(t=r.ioSocket)||void 0===t||null===(t=t.io)||void 0===t||null===(t=t.engine)||void 0===t?void 0:t.id)||null);case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"connect",value:function(){var e=this;if(!this.terminated){this.connectAttempt=this.connectAttempt+1;var t=this.getNextReconnectionTimeout();return this.onConnecting(),this.connectAttempt>1&&this.onReconnectAttempt(this.connectAttempt-1,t),c.default.connect(this.config,this.onSocketDisconnect.bind(this)).then((function(t){return e.connectAttempt=0,e.onConnect(),t})).catch((function(r){if(e.onConnectError(r),!e.terminated)return(n=t,new Promise((function(e){return setTimeout(e,n)}))).then((function(){return e.connect()}));var n}))}}},{key:"getNextReconnectionTimeout",value:function(){var e=Math.ceil(this.connectAttempt/10),t=200*Math.pow(2,e);return Math.min(t,6e4)}},{key:"onSocketDisconnect",value:function(e){this.dispatch(u.NativeSocketEvents.DISCONNECT,e),this.terminated||(this.terminate(),this.onDisconnect())}},{key:"onConnecting",value:function(){this.dispatch(u.NativeSocketEvents.CONNECTING)}},{key:"onConnect",value:function(){this.dispatch(u.NativeSocketEvents.CONNECT)}},{key:"onConnectError",value:function(e){this.dispatch(u.NativeSocketEvents.CONNECT_ERROR,e&&e.message||e)}},{key:"onReconnectAttempt",value:function(e,t){this.dispatch(u.NativeSocketEvents.RECONNECT_ATTEMPT,e,t)}}]);var e}()},"./src/socket-parser.js":
/*!******************************!*\
                !*** ./src/socket-parser.js ***!
                \******************************/(e,t,r)=>{var n=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js");function o(){}function s(e){var r=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data&&(r+=JSON.stringify(e.data)),r}function i(){}function a(){return{type:t.ERROR,data:"parser error"}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=o,t.Decoder=i,o.prototype.encode=function(e,t){t([s(e)])},n(i.prototype),i.prototype.add=function(e){if("string"!=typeof e)throw new Error("Unknown type: "+e);this.emit("decoded",function(e){var r=0,n={type:Number(e.charAt(0))};if(null==t.types[n.type])return a();if(t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type){for(var o="";"-"!==e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!==e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(r+1))for(n.nsp="";++r&&","!==(i=e.charAt(r))&&(n.nsp+=i,r!==e.length););else n.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(n.id="";++r;){var i;if(null==(i=e.charAt(r))||Number(i)!=i){--r;break}if(n.id+=e.charAt(r),r===e.length)break}n.id=Number(n.id)}return e.charAt(++r)&&(n=function(e,t){try{e.data=JSON.parse(t)}catch(r){return a()}return e}(n,e.substr(r))),n}(e))},i.prototype.destroy=function(){}},"./src/socket.js":
/*!***********************!*\
                !*** ./src/socket.js ***!
                \***********************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),i=r(
/*! ./constants */
"./src/constants.js");t.default=function(){function e(t,n){(0,o.default)(this,e);var s=r(
/*! socket.io-client */
"./node_modules/socket.io-client/lib/index.js");this.config=t,this.events={};var i=t.getSocketConfig(),a=i.url,u=i.options;this.ioSocket=s(a,u)}return(0,s.default)(e,[{key:"connect",value:function(){this.ioSocket.connect()}},{key:"close",value:function(){this.log("log","close socket"),this.events={},this.ioSocket.off(),this.ioSocket.close()}},{key:"on",value:function(e,t){var r=this;this.events[e]||this.ioSocket.on(e,(function(t){return r.onEvent(e,t)})),this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){this.events[e]=t?this.events[e].filter((function(e){return e!==t})):[],this.events[e].length||delete this.events[e],this.events[e]||this.ioSocket.off(e)}},{key:"onEvent",value:function(e,t){this.logMessage("FROM SERVER",e,t),this.events[e]&&this.events[e].forEach((function(e){return e(t)}))}},{key:"emit",value:function(e,t){this.logMessage("TO SERVER",e,t),this.ioSocket.emit(e,t)}},{key:"log",value:function(e){if(this.config.debugMode){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=console)[e].apply(t,["[RT Client]:"].concat(n))}}},{key:"logMessage",value:function(e,t,r){this.log("log","[".concat(e,"] - [event: ").concat(t,"] - arguments: ").concat(JSON.stringify(r)," "))}}],[{key:"connect",value:function(t,r){return Promise.resolve().then((function(){return t.prepare()})).then((function(){return new Promise((function(r,n){var o=new e(t);function s(e){o.log("error","received one of [CONNECT_ERROR,CONNECT_TIMEOUT] socket event while connecting",e),a(e)}function a(e){o.log("log","close and reject socket with error:",e),o.close(),n(e)}o.on(i.NativeSocketEvents.CONNECT,(function(){o.log("log","socket connected"),r(o)})),o.on(i.NativeSocketEvents.CONNECT_ERROR,s),o.on(i.NativeSocketEvents.CONNECT_TIMEOUT,s),o.on(i.NativeSocketEvents.ERROR,(function(e){o.log("error","received ERROR event while connecting",e),a(e)})),o.connect()}))})).then((function(e){return e.on(i.NativeSocketEvents.DISCONNECT,r),e.on(i.NativeSocketEvents.ERROR,r),e}))}}])}()},"./src/subscriptions.js":
/*!******************************!*\
                !*** ./src/subscriptions.js ***!
                \******************************/(e,t,r)=>{var n=r(
/*! @babel/runtime/helpers/interopRequireDefault */
"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(
/*! @babel/runtime/helpers/classCallCheck */
"./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=n(r(
/*! @babel/runtime/helpers/createClass */
"./node_modules/@babel/runtime/helpers/createClass.js")),i=n(r(
/*! @babel/runtime/helpers/defineProperty */
"./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r(
/*! ./constants */
"./src/constants.js"),u=n(r(
/*! ./utils */
"./src/utils.js")),c=function(e){return function(t,r){return this.subscribe(e,t,r)}};t.default=function(){return(0,s.default)((function e(t){var r=t.onMessage,n=t.emitMessage;(0,o.default)(this,e),(0,i.default)(this,"onObjectsChanges",c(a.RTSubscriptionTypes.OBJECTS_CHANGES).bind(this)),(0,i.default)(this,"onRelationsChanges",c(a.RTSubscriptionTypes.RELATIONS_CHANGES).bind(this)),(0,i.default)(this,"connectToPubSub",c(a.RTSubscriptionTypes.PUB_SUB_CONNECT).bind(this)),(0,i.default)(this,"onPubSubMessage",c(a.RTSubscriptionTypes.PUB_SUB_MESSAGES).bind(this)),(0,i.default)(this,"onPubSubCommand",c(a.RTSubscriptionTypes.PUB_SUB_COMMANDS).bind(this)),(0,i.default)(this,"onPubSubUserStatus",c(a.RTSubscriptionTypes.PUB_SUB_USERS).bind(this)),(0,i.default)(this,"connectToRSO",c(a.RTSubscriptionTypes.RSO_CONNECT).bind(this)),(0,i.default)(this,"onRSOChanges",c(a.RTSubscriptionTypes.RSO_CHANGES).bind(this)),(0,i.default)(this,"onRSOClear",c(a.RTSubscriptionTypes.RSO_CLEARED).bind(this)),(0,i.default)(this,"onRSOCommand",c(a.RTSubscriptionTypes.RSO_COMMANDS).bind(this)),(0,i.default)(this,"onRSOInvoke",c(a.RTSubscriptionTypes.RSO_INVOKE).bind(this)),(0,i.default)(this,"onRSOUserStatus",c(a.RTSubscriptionTypes.RSO_USERS).bind(this)),(0,i.default)(this,"onLoggingMessages",c(a.RTSubscriptionTypes.LOGGING_MESSAGES).bind(this)),(0,i.default)(this,"onConsoleMessages",c(a.RTSubscriptionTypes.CONSOLE_MESSAGES).bind(this)),(0,i.default)(this,"onDeveloperMessage",c(a.RTSubscriptionTypes.DEVELOPER_MESSAGES).bind(this)),(0,i.default)(this,"onAutomationLoggingMessages",c(a.RTSubscriptionTypes.AUTOMATION_MESSAGES).bind(this)),this.onMessage=r,this.emitMessage=n,this.subscriptions={}}),[{key:"initialize",value:function(){var e=this;this.onMessage(a.RTSocketEvents.SUB_READY,(function(t){return e.onSubscriptionReady(t)})),this.onMessage(a.RTSocketEvents.SUB_RES,(function(t){return e.onSubscriptionResponse(t)}))}},{key:"stop",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.subscriptions[t].ready=!1}))}},{key:"reset",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){return e.stopSubscription(t)}))}},{key:"restore",value:function(){var e=this;Object.keys(this.subscriptions).forEach((function(t){e.startSubscription(t)}))}},{key:"hasActivity",value:function(){return!!Object.keys(this.subscriptions).length}},{key:"subscribe",value:function(e,t,r){var n=this,o=r.parser,s=r.onData,i=r.onError,a=r.onStop,c=r.onReady,l=u.default.generateUID();return this.subscriptions[l]={data:{id:l,name:e,options:t},ready:!1,parser:o,onData:s,onError:i,onStop:a,onReady:c},this.startSubscription(l),{isReady:function(){return!!n.subscriptions[l]&&n.subscriptions[l].ready},stop:function(){n.subscriptions[l]&&n.offSubscription(l)}}}},{key:"startSubscription",value:function(e){var t=this.subscriptions[e];this.emitMessage(a.RTSocketEvents.SUB_ON,t.data)}},{key:"stopSubscription",value:function(e){var t=this.subscriptions[e];t&&(t.onStop&&t.onStop(),delete this.subscriptions[e])}},{key:"offSubscription",value:function(e){this.subscriptions[e]&&(this.emitMessage(a.RTSocketEvents.SUB_OFF,{id:e}),this.stopSubscription(e))}},{key:"onSubscriptionReady",value:function(e){var t=e.id,r=this.subscriptions[t];r&&!r.ready&&(r.ready=!0,r.onReady&&r.onReady())}},{key:"onSubscriptionResponse",value:function(e){var t=e.id,r=e.data,n=e.error,o=this.subscriptions[t];o&&(n?(o.onError&&o.onError(n),this.stopSubscription(t)):(o.ready||(o.ready=!0,o.onReady&&o.onReady()),o.onData&&("function"==typeof o.parser&&(r=o.parser(r)),o.onData(r))))}}])}()},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n={generateUID:function(){for(var e="",t=0;t<8;t++)e+=r.charAt(Math.floor(62*Math.random()));return e+Date.now()}};t.default=n},"./node_modules/backendless-request/dist/backendless-request.js":
/*!**********************************************************************!*\
                !*** ./node_modules/backendless-request/dist/backendless-request.js ***!
                \**********************************************************************/function(e,t){var r,n;r="undefined"!=typeof self?self:this,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.castArray=void 0,t.ensureEncoding=function(e){try{var t=new URL(e);return t.origin+l(t.pathname)+t.search}catch(r){return l(e)}},t.getFormData=i,t.isStream=t.isObject=t.isNodeJS=t.isFormData=t.isBrowser=void 0,t.setFormData=function(e){s=e},t.castArray=function(e){return Array.isArray(e)?e:[e]},t.isObject=function(e){return null!=e&&"object"===n(e)},t.isFormData=function(e){return!!e&&(e instanceof i()||e&&e.constructor&&0===e.constructor.toString().trim().indexOf("function FormData"))},t.isStream=function(e){return e instanceof r(6).Stream};var o=t.isNodeJS=function(){return void 0!==e&&null!=e.versions&&null!=e.versions.node};t.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document};var s=null;function i(){return s||(o()||"undefined"==typeof FormData?r(7):FormData)}var a=["%40","%3A","%2F"];function u(e,t){var r=t[0];return r?e.split(r).map((function(e){return u(e,t.slice(1))})).join(r):encodeURI(e)}function c(e){return e===decodeURI(e)?u(e,a):e}function l(e){return e.endsWith("/")&&(e=e.slice(0,-1)),e.split("/").map(c).join("/")}}).call(t,r(5))},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var o,s=r(12),i=(o=r(13))&&o.__esModule?o:{default:o},a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}(r(14)),u=r(0),c=r(15);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=b(e);if(t){var s=b(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g="Content-Type",w="done";function k(e){try{return p(p({},e),{},{body:JSON.parse(e.body)})}catch(t){return e}}function E(e){if(e.status>=200&&e.status<300)return e;throw new c.ResponseError(e)}t.Request=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,e);var t=m(r);function r(e,n,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(s=t.call(this)).method=n,s.path=(0,u.ensureEncoding)(e),s.body=o,s.tags=void 0,s.unwrap=!0,s.cacheTTL=0,s.headers={},s.queryParams={},s.encoding="utf8",s.timeout=0,s.withCredentials=null,s}return h(r,[{key:"set",value:function(e,t){if((0,u.isObject)(e))for(var r in e)this.set(r,e[r]);else void 0!==t&&(this.headers[e]=t);return this}},{key:"cacheTags",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.tags=t,this}},{key:"query",value:function(e){return Object.assign(this.queryParams,e),this}},{key:"form",value:function(e){if(e){var t=r.FormData;if(e instanceof t)this.body=e;else{var n=new t,o=function(t){t&&(0,u.castArray)(e[t]).forEach((function(e){e&&e.hasOwnProperty("value")&&e.hasOwnProperty("options")?n.append(t,e.value,e.options):n.append(t,e)}))};for(var s in e)o(s);this.body=n}}return this}},{key:"useCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return this.cacheTTL=e,this}},{key:"resetCache",value:function(e){return e&&this.tags&&s.cache.deleteByTags(this.tags),this}},{key:"type",value:function(e){return this.set(g,e),this}},{key:"unwrapBody",value:function(e){return this.unwrap=e,this}},{key:"setEncoding",value:function(e){return this.encoding=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setTimeout",value:function(e){return this.timeout=e,this}},{key:"send",value:function(e){var t=this;this.emit("request",this);var n=this.path,o=a.stringify(this.queryParams);if(o&&(n+="?"+o),this.cacheTTL){var i=s.cache.get(n);if(void 0!==i)return Promise.resolve(i)}this.headers[g]||!(0,u.isObject)(e)||(0,u.isFormData)(e)||this.type("application/json"),e&&(e="application/json"===this.headers[g]&&"string"!=typeof e?JSON.stringify(e):e),r.verbose&&console.log(this.method.toUpperCase(),decodeURIComponent(n),e,this.headers);var c="boolean"==typeof this.withCredentials?this.withCredentials:r.withCredentials,l=r.send(n,this.method.toUpperCase(),this.headers,e,this.encoding,this.timeout,c).then(k).then(E).then((function(e){return t.unwrap?e.body:e})).then((function(e){return t.cacheTTL&&s.cache.set(n,e,t.tags,t.cacheTTL),e})).then((function(e){return t.tags&&"get"!==t.method&&s.cache.deleteByTags(t.tags),e}));return l.then((function(e){t.emit("response",e),t.emit(w,null,e)})).catch((function(e){t.emit("error",e),t.emit(w,e)})),l}},{key:"then",value:function(e,t){return this.promise=this.promise||this.send(this.body),this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise=this.promise||this.send(this.body),this.promise.catch(e)}}]),r}(i.default)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(4),o=r(11),s=r(2),i=r(0);Object.defineProperty(s.Request,"FormData",{get:function(){return(0,i.getFormData)()},set:function(e){(0,i.setFormData)(e)}}),s.Request.XMLHttpRequest="undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0,s.Request.send=function(e,t,r,i,a,u,c){return(void 0!==s.Request.XMLHttpRequest?o.sendXmlHttpRequest:n.sendNodeAPIRequest)(e,t,r,i,a,u,c)},s.Request.verbose=!1,s.Request.withCredentials=!1,s.Request.methods=["get","post","put","patch","delete"],s.Request.methods.forEach((function(e){s.Request[e]=function(t,r){return new s.Request(t,e,r)}})),(t=e.exports=s.Request).default=s.Request},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendNodeAPIRequest=function(e,t,o,s,i,a,u){return new Promise((function(c,l){var f=r(8).parse(e),p=(0,n.isFormData)(s)&&s,d=f.pathname.endsWith("/")?f.pathname.slice(0,-1):f.pathname,h="https:"===f.protocol,y={host:f.hostname,port:f.port||(h?443:80),path:d+(f.search||""),method:t,headers:o,timeout:a};"boolean"==typeof u&&(y.withCredentials=u);var v=function(){var e=r(1).Buffer,t=r(h?9:10).request(y,(function(t){var r=[],n=[],o=0,s="",a=t.statusCode,u=t.statusMessage,f=t.headers;t.on("data",(function(t){e.isBuffer(t)?t.length&&(o+=t.length,n.push(t)):r.push(t)})),t.on("end",(function(){o?(s=e.concat(n,o),null!=i&&(s=s.toString(i))):r.length&&(s=r.join()),c({status:a,statusText:u,headers:f,body:s})})),t.on("error",l)}));if(t.on("error",l),t.on("timeout",(function(){t.destroy(new Error("Connection aborted due to timeout"))})),s){if((0,n.isStream)(s))return void s.pipe(t);t.write(s)}t.end()};if(p)Object.assign(y.headers,p.getHeaders()),p.getLength((function(e,t){e||isNaN(t)||(y.headers["content-length"]=t),v()}));else{if(s&&!y.headers["content-length"]){var m=r(1).Buffer;y.headers["content-length"]=m.byteLength(s)}v()}}))};var n=r(0)},function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t){throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use "lib" folder modules instead. For any questions please contact as at http://support.backendless.com/')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendXmlHttpRequest=function(e,t,r,o,s,i,a){return new Promise((function(u,c){var l=new n.Request.XMLHttpRequest;l.timeout=i,s||(l.responseType="arraybuffer"),l.open(t.toUpperCase(),e,!0),"boolean"==typeof a&&(l.withCredentials=a),l.onload=function(){var e,t,r=(e=l.getAllResponseHeaders(),t={},e?(e.split("\n").forEach((function(e){var r=e.indexOf(":"),n=e.substr(0,r).trim(),o=e.substr(r+1).trim();n&&(t[n]=t[n]?t[n]+", "+o:o)})),t):t),n=l,o={status:n.status,statusText:n.statusText,headers:r};"utf8"===s?o.body=l.response||l.responseText:l.response&&(o.body=new Uint8Array(l.response)),u(o),l=null},l.onerror=function(){c(new Error("Network Error")),l=null},l.ontimeout=function(){c(new Error("Connection aborted due to timeout")),l=null},Object.keys(r).forEach((function(e){l.setRequestHeader(e,r[e])})),l.send(o)}))};var n=r(2)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],u=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(s=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s,"string"),"symbol"===n(i)?i:String(i)),o)}var s,i}Object.defineProperty(t,"__esModule",{value:!0}),t.cache=void 0;var c=function(){return(new Date).getTime()},l=function(e,t){return!!e.find((function(e){return t.find((function(t){return function(e,t){var r=e==t;return!r&&e instanceof RegExp&&(r=e.test(t)),!r&&t instanceof RegExp&&(r=t.test(e)),r}(e,t)}))}))},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setFlushInterval(t),this.map=new Map}var t,r;return t=e,(r=[{key:"setFlushInterval",value:function(e){this.flushInterval=e,this.flushTimer&&(clearInterval(this.flushTimer),delete this.flushTimer)}},{key:"get",value:function(e){var t=this.map.get(e);if(t){if(t.ttl>c())return t.value;this.map.delete(e)}}},{key:"set",value:function(e,t,r,n){this.map.set(e,function(e,t,r){return{value:e,tags:t,ttl:r}}(t,r,c()+n)),this.flushInterval&&!this.flushTimer&&(this.flushTimer=setInterval(this.flush.bind(this),this.flushInterval),this.flushTimer.unref&&this.flushTimer.unref())}},{key:"delete",value:function(e){this.map.delete(e)}},{key:"deleteAll",value:function(){var e,t=s(this.map);try{for(t.s();!(e=t.n()).done;){var r=o(e.value,1)[0];this.delete(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"deleteByTags",value:function(e){var t,r=s(this.map);try{for(r.s();!(t=r.n()).done;){var n=o(t.value,2),i=n[0],a=n[1];a.tags&&l(e,a.tags)&&this.delete(i)}}catch(u){r.e(u)}finally{r.f()}}},{key:"flush",value:function(){var e,t=c(),r=s(this.map);try{for(r.s();!(e=r.n()).done;){var n=o(e.value,2),i=n[0];n[1].ttl<t&&this.delete(i)}}catch(a){r.e(a)}finally{r.f()}}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.cache=new f(6e4)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(s=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s,"string"),"symbol"===n(i)?i:String(i)),o)}var s,i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,r;return t=e,r=[{key:"on",value:function(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),this}},{key:"off",value:function(e,t){return e?this.events[e]&&(t?this.events[e]=this.events[e].filter((function(e){return e!==t})):delete this.events[e]):this.events={},this}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e]&&this.events[e].forEach((function(e){return e.apply(void 0,r)}))}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var n=r(0);t.stringify=function(e){var t=[];return Object.keys(e).forEach((function(r){var o=e[r];void 0!==o&&(0,n.castArray)(o).forEach((function(e){t.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e)))}))})),t.join("&")}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=a();return function(){var r,o=c(e);if(t){var s=c(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},s(e)}function i(e,t,r){return(i=a()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseError=void 0,t.ResponseError=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e);var t,r=o(n);function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=r.call(this);var o,s=502===(o=e).status?"No connection with server":o.body||"Status Code ".concat(o.status," (").concat(o.statusText,")");return t.message=s.message||s,t.code=s.code,t.status=e.status,t.headers=e.headers,t.body=e.body,t}return t=n,Object.defineProperty(t,"prototype",{writable:!1}),t}(s(Error))}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"object"==typeof t?t.BackendlessRequest=n():r.BackendlessRequest=n()},"./node_modules/backo2/index.js":
/*!**************************************!*\
                !*** ./node_modules/backo2/index.js ***!
                \**************************************/e=>{function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+r:e-r}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":
/*!*******************************************************************!*\
                !*** ./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js ***!
                \*******************************************************************/(e,t)=>{var r;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,n=new Uint8Array(e),o=n.length,s="";for(t=0;t<o;t+=3)s+=r[n[t]>>2],s+=r[(3&n[t])<<4|n[t+1]>>4],s+=r[(15&n[t+1])<<2|n[t+2]>>6],s+=r[63&n[t+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,n,o,s,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),f=new Uint8Array(l);for(t=0;t<u;t+=4)n=r.indexOf(e[t]),o=r.indexOf(e[t+1]),s=r.indexOf(e[t+2]),i=r.indexOf(e[t+3]),f[c++]=n<<2|o>>4,f[c++]=(15&o)<<4|s>>2,f[c++]=(3&s)<<6|63&i;return l}},"./node_modules/blob/index.js":
/*!************************************!*\
                !*** ./node_modules/blob/index.js ***!
                \************************************/e=>{var t=void 0!==t?t:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=t&&t.prototype.append&&t.prototype.getBlob;function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function i(e,r){r=r||{};var n=new t;return s(e).forEach((function(e){n.append(e)})),r.type?n.getBlob(r.type):n.getBlob()}function a(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(i.prototype=Blob.prototype,a.prototype=Blob.prototype),e.exports=r?n?Blob:a:o?i:void 0},"./node_modules/component-bind/index.js":
/*!**********************************************!*\
                !*** ./node_modules/component-bind/index.js ***!
                \**********************************************/e=>{var t=[].slice;e.exports=function(e,r){if("string"==typeof r&&(r=e[r]),"function"!=typeof r)throw new Error("bind() requires a function");var n=t.call(arguments,2);return function(){return r.apply(e,n.concat(t.call(arguments)))}}},"./node_modules/component-emitter/index.js":
/*!*************************************************!*\
                !*** ./node_modules/component-emitter/index.js ***!
                \*************************************************/e=>{function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/component-inherit/index.js":
/*!*************************************************!*\
                !*** ./node_modules/component-inherit/index.js ***!
                \*************************************************/e=>{e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/debug/src/browser.js":
/*!*******************************************!*\
                !*** ./node_modules/debug/src/browser.js ***!
                \*******************************************/(e,r,n)=>{function o(){var e;try{e=r.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=t.DEBUG),e}(r=e.exports=n(
/*! ./debug */
"./node_modules/debug/src/debug.js")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))})),e.splice(s,0,n)}},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}},r.load=o,r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},r.enable(o())},"./node_modules/debug/src/debug.js":
/*!*****************************************!*\
                !*** ./node_modules/debug/src/debug.js ***!
                \*****************************************/(e,t,r)=>{function n(e){var r;function n(){if(n.enabled){var e=n,o=+new Date,s=o-(r||o);e.diff=s,e.prev=r,e.curr=o,r=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;u++;var o=t.formatters[n];if("function"==typeof o){var s=i[u];r=o.call(e,s),i.splice(u,1),u--}return r})),t.formatArgs.call(e,i),(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=o,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var s=t.instances[r];s.enabled=t.enabled(s.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(
/*! ms */
"./node_modules/ms/index.js"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},"./node_modules/engine.io-client/lib/globalThis.browser.js":
/*!*****************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/globalThis.browser.js ***!
                \*****************************************************************/e=>{e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"./node_modules/engine.io-client/lib/index.js":
/*!****************************************************!*\
                !*** ./node_modules/engine.io-client/lib/index.js ***!
                \****************************************************/(e,t,r)=>{e.exports=r(
/*! ./socket */
"./node_modules/engine.io-client/lib/socket.js"),e.exports.parser=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js")},"./node_modules/engine.io-client/lib/socket.js":
/*!*****************************************************!*\
                !*** ./node_modules/engine.io-client/lib/socket.js ***!
                \*****************************************************/(e,t,r)=>{var n=r(
/*! ./transports/index */
"./node_modules/engine.io-client/lib/transports/index.js"),o=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js"),s=r(
/*! debug */
"./node_modules/debug/src/browser.js")("engine.io-client:socket"),i=r(
/*! indexof */
"./node_modules/indexof/index.js"),a=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js"),u=r(
/*! parseuri */
"./node_modules/parseuri/index.js"),c=r(
/*! parseqs */
"./node_modules/parseqs/index.js");function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,o(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=r(
/*! ./transport */
"./node_modules/engine.io-client/lib/transport.js"),l.transports=r(
/*! ./transports/index */
"./node_modules/engine.io-client/lib/transports/index.js"),l.parser=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js"),l.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function o(){if(n.onlyBinaryUpgrades){var o=!this.supportsBinary&&n.transport.supportsBinary;r=r||o}r||(s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!r)if("pong"===o.type&&"probe"===o.data){if(s('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,s('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){r||"closed"!==n.readyState&&(s("changing transport and sending upgrade packet"),p(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())}))}else{s('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=t.name,n.emit("upgradeError",i)}})))}function i(){r||(r=!0,p(),t.close(),t=null)}function a(r){var o=new Error("probe error: "+r);o.transport=t.name,i(),s('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",o)}function u(){a("transport closed")}function c(){a("socket closed")}function f(e){t&&e.name!==t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),i())}function p(){t.removeListener("open",o),t.removeListener("error",a),t.removeListener("close",u),n.removeListener("close",c),n.removeListener("upgrading",f)}l.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",a),t.once("close",u),this.once("close",c),this.once("upgrading",f),t.open()},l.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},l.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var o={type:e,data:t,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},l.prototype.onError=function(e){s("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(s('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~i(this.transports,e[r])&&t.push(e[r]);return t}},"./node_modules/engine.io-client/lib/transport.js":
/*!********************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transport.js ***!
                \********************************************************/(e,t,r)=>{var n=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js"),o=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js");function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=s,o(s.prototype),s.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"./node_modules/engine.io-client/lib/transports/index.js":
/*!***************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/index.js ***!
                \***************************************************************/(e,t,r)=>{var n=r(
/*! ./xmlhttprequest */
"./node_modules/engine.io-client/lib/transports/xmlhttprequest.browser.js"),o=r(
/*! ./polling-xhr */
"./node_modules/engine.io-client/lib/transports/polling-xhr.js"),s=r(
/*! ./polling-jsonp */
"./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),i=r(
/*! ./websocket */
"./node_modules/engine.io-client/lib/transports/websocket.js");t.polling=function(e){var t=!1,r=!1,i=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),t=e.hostname!==location.hostname||u!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new o(e);if(!i)throw new Error("JSONP disabled");return new s(e)},t.websocket=i},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":
/*!***********************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/polling-jsonp.js ***!
                \***********************************************************************/(e,t,r)=>{var n=r(
/*! ./polling */
"./node_modules/engine.io-client/lib/transports/polling.js"),o=r(
/*! component-inherit */
"./node_modules/component-inherit/index.js"),s=r(
/*! ../globalThis */
"./node_modules/engine.io-client/lib/globalThis.browser.js");e.exports=l;var i,a=/\n/g,u=/\\n/g;function c(){}function l(e){n.call(this,e),this.query=this.query||{},i||(i=s.___eio=s.___eio||[]),this.index=i.length;var t=this;i.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=c)}),!1)}o(l,n),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,o=document.createElement("form"),s=document.createElement("textarea"),i=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=i,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}function c(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(u,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":
/*!*********************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/polling-xhr.js ***!
                \*********************************************************************/(e,t,r)=>{var n=r(
/*! ./xmlhttprequest */
"./node_modules/engine.io-client/lib/transports/xmlhttprequest.browser.js"),o=r(
/*! ./polling */
"./node_modules/engine.io-client/lib/transports/polling.js"),s=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js"),i=r(
/*! component-inherit */
"./node_modules/component-inherit/index.js"),a=r(
/*! debug */
"./node_modules/debug/src/browser.js")("engine.io-client:polling-xhr"),u=r(
/*! ../globalThis */
"./node_modules/engine.io-client/lib/globalThis.browser.js");function c(){}function l(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function f(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function p(){for(var e in f.requests)f.requests.hasOwnProperty(e)&&f.requests[e].abort()}e.exports=l,e.exports.Request=f,i(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new f(e)},l.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),o=this;n.on("success",t),n.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=n},l.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},s(f.prototype),f.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(s){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{t.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(s){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError("number"==typeof t.status?t.status:0)}),0))},a("xhr data %s",this.data),t.send(this.data)}catch(s){return void setTimeout((function(){r.onError(s)}),0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},f.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},f.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(r){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},f.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",p):"function"==typeof addEventListener&&addEventListener("onpagehide"in u?"pagehide":"unload",p,!1))},"./node_modules/engine.io-client/lib/transports/polling.js":
/*!*****************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/polling.js ***!
                \*****************************************************************/(e,t,r)=>{var n=r(
/*! ../transport */
"./node_modules/engine.io-client/lib/transport.js"),o=r(
/*! parseqs */
"./node_modules/parseqs/index.js"),s=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js"),i=r(
/*! component-inherit */
"./node_modules/component-inherit/index.js"),a=r(
/*! yeast */
"./node_modules/yeast/index.js"),u=r(
/*! debug */
"./node_modules/debug/src/browser.js")("engine.io-client:polling");e.exports=l;var c=null!=new(r(
/*! ./xmlhttprequest */
"./node_modules/engine.io-client/lib/transports/xmlhttprequest.browser.js"))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),n.call(this,e)}i(l,n),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function r(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(u("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--n||r()}))),this.writable||(u("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){u("pre-pause writing complete"),--n||r()})))}else r()},l.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;u("polling got data %s",e),s.decodePayload(e,this.socket.binaryType,(function(e,r,n){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},"./node_modules/engine.io-client/lib/transports/websocket.js":
/*!*******************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/websocket.js ***!
                \*******************************************************************/(e,t,r)=>{var n,o,s=r(
/*! ../transport */
"./node_modules/engine.io-client/lib/transport.js"),i=r(
/*! engine.io-parser */
"./node_modules/engine.io-parser/lib/browser.js"),a=r(
/*! parseqs */
"./node_modules/parseqs/index.js"),u=r(
/*! component-inherit */
"./node_modules/component-inherit/index.js"),c=r(
/*! yeast */
"./node_modules/yeast/index.js"),l=r(
/*! debug */
"./node_modules/debug/src/browser.js")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=r(
/*! ws */
"?1bcf")}catch(d){}var f=n||o;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(f=o),s.call(this,e)}e.exports=p,u(p,s),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new f(e,t):new f(e):new f(e,t,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,n=0,o=r;n<o;n++)!function(e){i.encodePacket(e,t.supportsBinary,(function(n){if(!t.usingBrowserWebSocket){var o={};e.options&&(o.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof n?Buffer.byteLength(n):n.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(n):t.ws.send(n,o)}catch(d){l("websocket closed before onclose event")}--r||(t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0))}))}(e[n])},p.prototype.onClose=function(){s.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},p.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===p.prototype.name)}},"./node_modules/engine.io-client/lib/transports/xmlhttprequest.browser.js":
/*!********************************************************************************!*\
                !*** ./node_modules/engine.io-client/lib/transports/xmlhttprequest.browser.js ***!
                \********************************************************************************/(e,t,r)=>{var n=r(
/*! has-cors */
"./node_modules/has-cors/index.js"),o=r(
/*! ../globalThis */
"./node_modules/engine.io-client/lib/globalThis.browser.js");e.exports=function(e){var t=e.xdomain,r=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!r&&s)return new XDomainRequest}catch(i){}if(!t)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}},"./node_modules/engine.io-parser/lib/browser.js":
/*!******************************************************!*\
                !*** ./node_modules/engine.io-parser/lib/browser.js ***!
                \******************************************************/(e,t,r)=>{var n,o=r(
/*! ./keys */
"./node_modules/engine.io-parser/lib/keys.js"),s=r(
/*! has-binary2 */
"./node_modules/has-binary2/index.js"),i=r(
/*! arraybuffer.slice */
"./node_modules/arraybuffer.slice/index.js"),a=r(
/*! after */
"./node_modules/after/index.js"),u=r(
/*! ./utf8 */
"./node_modules/engine.io-parser/lib/utf8.js");"undefined"!=typeof ArrayBuffer&&(n=r(
/*! base64-arraybuffer */
"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=c||l;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=o(p),h={type:"error",data:"parser error"},y=r(
/*! blob */
"./node_modules/blob/index.js");function v(e,t,r){for(var n=new Array(e.length),o=a(e.length,r),s=function(e,r,o){t(r,(function(t,r){n[e]=r,o(t,n)}))},i=0;i<e.length;i++)s(i,e[i],o)}t.encodePacket=function(e,r,n,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof n&&(o=n,n=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var o=e.data,s=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=p[e.type];for(var a=0;a<s.length;a++)i[a+1]=s[a];return n(i.buffer)}(e,r,o);if(void 0!==y&&s instanceof y)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(f)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},r,!0,n)},o.readAsArrayBuffer(e.data)}(e,r,n);var o=new Uint8Array(1);o[0]=p[e.type];var s=new y([o.buffer,e.data]);return n(s)}(e,r,o);if(s&&s.base64)return function(e,r){var n="b"+t.packets[e.type]+e.data.data;return r(n)}(e,o);var i=p[e.type];return void 0!==e.data&&(i+=n?u.encode(String(e.data),{strict:!1}):String(e.data)),o(""+i)},t.encodeBase64Packet=function(e,r){var n,o="b"+t.packets[e.type];if(void 0!==y&&e.data instanceof y){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];r(o+e)},s.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var i=new Uint8Array(e.data),a=new Array(i.length),u=0;u<i.length;u++)a[u]=i[u];n=String.fromCharCode.apply(null,a)}return o+=btoa(n),r(o)},t.decodePacket=function(e,r,n){if(void 0===e)return h;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=u.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return h;var o=e.charAt(0);return Number(o)==o&&d[o]?e.length>1?{type:d[o],data:e.substring(1)}:{type:d[o]}:h}o=new Uint8Array(e)[0];var s=i(e,1);return y&&"blob"===r&&(s=new y([s])),{type:d[o],data:s}},t.decodeBase64Packet=function(e,t){var r=d[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=n.decode(e.substr(1));return"blob"===t&&y&&(o=new y([o])),{type:r,data:o}},t.encodePayload=function(e,r,n){"function"==typeof r&&(n=r,r=null);var o=s(e);return r&&o?y&&!f?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n):e.length?void v(e,(function(e,n){t.encodePacket(e,!!o&&r,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))})):n("0:")},t.decodePayload=function(e,r,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,n);var o;if("function"==typeof r&&(n=r,r=null),""===e)return n(h,0,1);for(var s,i,a="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"===l){if(""===a||a!=(s=Number(a)))return n(h,0,1);if(a!=(i=e.substr(u+1,s)).length)return n(h,0,1);if(i.length){if(o=t.decodePacket(i,r,!1),h.type===o.type&&h.data===o.data)return n(h,0,1);if(!1===n(o,u+s,c))return}u+=s,a=""}else a+=l}return""!==a?n(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));v(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r="string"==typeof t?t.length:t.byteLength).toString().length+r+2}),0),o=new Uint8Array(n),s=0;return t.forEach((function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);r=n.buffer}o[s++]=t?0:1;var a=r.byteLength.toString();for(i=0;i<a.length;i++)o[s++]=parseInt(a[i]);for(o[s++]=255,n=new Uint8Array(r),i=0;i<n.length;i++)o[s++]=n[i]})),r(o.buffer)}))},t.encodePayloadAsBlob=function(e,r){v(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);e=n.buffer,t[0]=0}var s=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(s.length+1);for(o=0;o<s.length;o++)i[o]=parseInt(s[o]);if(i[s.length]=255,y){var a=new y([t.buffer,i.buffer,e]);r(null,a)}}))}),(function(e,t){return r(new y(t))}))},t.decodePayloadAsBinary=function(e,r,n){"function"==typeof r&&(n=r,r=null);for(var o=e,s=[];o.byteLength>0;){for(var a=new Uint8Array(o),u=0===a[0],c="",l=1;255!==a[l];l++){if(c.length>310)return n(h,0,1);c+=a[l]}o=i(o,2+c.length),c=parseInt(c);var f=i(o,0,c);if(u)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(y){var p=new Uint8Array(f);for(f="",l=0;l<p.length;l++)f+=String.fromCharCode(p[l])}s.push(f),o=i(o,c)}var d=s.length;s.forEach((function(e,o){n(t.decodePacket(e,r,!0),o,d)}))}},"./node_modules/engine.io-parser/lib/keys.js":
/*!***************************************************!*\
                !*** ./node_modules/engine.io-parser/lib/keys.js ***!
                \***************************************************/e=>{e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},"./node_modules/engine.io-parser/lib/utf8.js":
/*!***************************************************!*\
                !*** ./node_modules/engine.io-parser/lib/utf8.js ***!
                \***************************************************/e=>{
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var t,r,n,o=String.fromCharCode;function s(e){for(var t,r,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function i(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(e,t){return o(e>>t&63|128)}function u(e,t){if(!(4294967168&e))return o(e);var r="";return 4294965248&e?4294901760&e?4292870144&e||(r=o(e>>18&7|240),r+=a(e,12),r+=a(e,6)):(i(e,t)||(e=65533),r=o(e>>12&15|224),r+=a(e,6)):r=o(e>>6&31|192),r+=o(63&e|128)}function c(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(e){var o,s;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(o=255&t[n],n++,!(128&o))return o;if(192==(224&o)){if((s=(31&o)<<6|c())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&o)){if((s=(15&o)<<12|c()<<6|c())>=2048)return i(s,e)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&o)&&(s=(7&o)<<18|c()<<12|c()<<6|c())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=s(e),o=n.length,i=-1,a="";++i<o;)a+=u(n[i],r);return a},decode:function(e,i){var a=!1!==(i=i||{}).strict;t=s(e),r=t.length,n=0;for(var u,c=[];!1!==(u=l(a));)c.push(u);return function(e){for(var t,r=e.length,n=-1,s="";++n<r;)(t=e[n])>65535&&(s+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=o(t);return s}(c)}}},"./node_modules/has-binary2/index.js":
/*!*******************************************!*\
                !*** ./node_modules/has-binary2/index.js ***!
                \*******************************************/(e,t,r)=>{var n=r(
/*! isarray */
"./node_modules/isarray/index.js"),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(n(t)){for(var r=0,o=t.length;r<o;r++)if(e(t[r]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||i&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},"./node_modules/has-cors/index.js":
/*!****************************************!*\
                !*** ./node_modules/has-cors/index.js ***!
                \****************************************/e=>{try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},"./node_modules/indexof/index.js":
/*!***************************************!*\
                !*** ./node_modules/indexof/index.js ***!
                \***************************************/e=>{var t=[].indexOf;e.exports=function(e,r){if(t)return e.indexOf(r);for(var n=0;n<e.length;++n)if(e[n]===r)return n;return-1}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                !*** ./node_modules/isarray/index.js ***!
                \***************************************/e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},"./node_modules/ms/index.js":
/*!**********************************!*\
                !*** ./node_modules/ms/index.js ***!
                \**********************************/e=>{var t=1e3,r=60*t,n=60*r,o=24*n,s=365.25*o;function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,a){a=a||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return a.long?i(u=e,o,"day")||i(u,n,"hour")||i(u,r,"minute")||i(u,t,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=n?Math.round(e/n)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/parseqs/index.js":
/*!***************************************!*\
                !*** ./node_modules/parseqs/index.js ***!
                \***************************************/(e,t)=>{t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,o=r.length;n<o;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},"./node_modules/parseuri/index.js":
/*!****************************************!*\
                !*** ./node_modules/parseuri/index.js ***!
                \****************************************/e=>{var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var n,o,s,i=e,a=e.indexOf("["),u=e.indexOf("]");-1!=a&&-1!=u&&(e=e.substring(0,a)+e.substring(a,u).replace(/:/g,";")+e.substring(u,e.length));for(var c,l,f=t.exec(e||""),p={},d=14;d--;)p[r[d]]=f[d]||"";return-1!=a&&-1!=u&&(p.source=i,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=(n=p.path,o=/\/{2,9}/g,s=n.replace(o,"/").split("/"),"/"!=n.substr(0,1)&&0!==n.length||s.splice(0,1),"/"==n.substr(n.length-1,1)&&s.splice(s.length-1,1),s),p.queryKey=(c=p.query,l={},c.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(l[t]=r)})),l),p}},"./node_modules/socket.io-client/lib/index.js":
/*!****************************************************!*\
                !*** ./node_modules/socket.io-client/lib/index.js ***!
                \****************************************************/(e,t,r)=>{var n=r(
/*! ./url */
"./node_modules/socket.io-client/lib/url.js"),o=r(
/*! socket.io-parser */
"./src/socket-parser.js"),s=r(
/*! ./manager */
"./node_modules/socket.io-client/lib/manager.js"),i=r(
/*! debug */
"./node_modules/debug/src/browser.js")("socket.io-client");e.exports=t=u;var a=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o=n(e),u=o.source,c=o.id,l=o.path,f=a[c]&&l in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(i("ignoring socket cache for %s",u),r=s(u,t)):(a[c]||(i("new io instance for %s",u),a[c]=s(u,t)),r=a[c]),o.query&&!t.query&&(t.query=o.query),r.socket(o.path,t)}t.protocol=o.protocol,t.connect=u,t.Manager=r(
/*! ./manager */
"./node_modules/socket.io-client/lib/manager.js"),t.Socket=r(
/*! ./socket */
"./node_modules/socket.io-client/lib/socket.js")},"./node_modules/socket.io-client/lib/manager.js":
/*!******************************************************!*\
                !*** ./node_modules/socket.io-client/lib/manager.js ***!
                \******************************************************/(e,t,r)=>{var n=r(
/*! engine.io-client */
"./node_modules/engine.io-client/lib/index.js"),o=r(
/*! ./socket */
"./node_modules/socket.io-client/lib/socket.js"),s=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js"),i=r(
/*! socket.io-parser */
"./src/socket-parser.js"),a=r(
/*! ./on */
"./node_modules/socket.io-client/lib/on.js"),u=r(
/*! component-bind */
"./node_modules/component-bind/index.js"),c=r(
/*! debug */
"./node_modules/debug/src/browser.js")("socket.io-client:manager"),l=r(
/*! indexof */
"./node_modules/indexof/index.js"),f=r(
/*! backo2 */
"./node_modules/backo2/index.js"),p=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||i;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=d,d.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},d.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var s=a(r,"open",(function(){o.onopen(),e&&e()})),i=a(r,"error",(function(t){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u),0===u&&s.destroy();var l=setTimeout((function(){c("connect attempt timed out after %d",u),s.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(s),this.subs.push(i),this},d.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",u(this,"ondata"))),this.subs.push(a(e,"ping",u(this,"onping"))),this.subs.push(a(e,"pong",u(this,"onpong"))),this.subs.push(a(e,"error",u(this,"onerror"))),this.subs.push(a(e,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new o(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",s),r.on("connect",(function(){r.id=n.generateId(e)})),this.autoConnect&&s()}function s(){~l(n.connecting,r)||n.connecting.push(r)}return r},d.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},"./node_modules/socket.io-client/lib/on.js":
/*!*************************************************!*\
                !*** ./node_modules/socket.io-client/lib/on.js ***!
                \*************************************************/e=>{e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},"./node_modules/socket.io-client/lib/socket.js":
/*!*****************************************************!*\
                !*** ./node_modules/socket.io-client/lib/socket.js ***!
                \*****************************************************/(e,t,r)=>{var n=r(
/*! socket.io-parser */
"./src/socket-parser.js"),o=r(
/*! component-emitter */
"./node_modules/component-emitter/index.js"),s=r(
/*! to-array */
"./node_modules/to-array/index.js"),i=r(
/*! ./on */
"./node_modules/socket.io-client/lib/on.js"),a=r(
/*! component-bind */
"./node_modules/component-bind/index.js"),u=r(
/*! debug */
"./node_modules/debug/src/browser.js")("socket.io-client:socket"),c=r(
/*! parseqs */
"./node_modules/parseqs/index.js"),l=r(
/*! has-binary2 */
"./node_modules/has-binary2/index.js");e.exports=d;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;function d(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}o(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[i(e,"open",a(this,"onopen")),i(e,"packet",a(this,"onpacket")),i(e,"close",a(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},d.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=s(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},d.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},d.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},d.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},d.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},d.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},d.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var o=s(arguments);u("sending ack %j",o),t.packet({type:l(o)?n.BINARY_ACK:n.ACK,id:e,data:o})}}},d.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},d.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(e){return this.flags.compress=e,this},d.prototype.binary=function(e){return this.flags.binary=e,this}},"./node_modules/socket.io-client/lib/url.js":
/*!**************************************************!*\
                !*** ./node_modules/socket.io-client/lib/url.js ***!
                \**************************************************/(e,t,r)=>{var n=r(
/*! parseuri */
"./node_modules/parseuri/index.js"),o=r(
/*! debug */
"./node_modules/debug/src/browser.js")("socket.io-client:url");e.exports=function(e,t){var r=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),r=n(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}},"./node_modules/to-array/index.js":
/*!****************************************!*\
                !*** ./node_modules/to-array/index.js ***!
                \****************************************/e=>{e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},"./node_modules/yeast/index.js":
/*!*************************************!*\
                !*** ./node_modules/yeast/index.js ***!
                \*************************************/e=>{var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={},o=0,s=0;function i(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function a(){var e=i(+new Date);return e!==t?(o=0,t=e):e+"."+i(o++)}for(;s<64;s++)n[r[s]]=s;a.encode=i,a.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+n[e.charAt(s)];return t},e.exports=a},"?1bcf":
/*!********************!*\
                !*** ws (ignored) ***!
                \********************/()=>{},"./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js":
/*!*************************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js ***!
                \*************************************************************************/e=>{e.exports=function(e,t,r,n,o){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!**********************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
                \**********************************************************************/e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":
/*!*****************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
                \*****************************************************************/e=>{function t(e,t,r,n,o,s,i){try{var a=e[s](i),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,s){var i=e.apply(r,n);function a(e){t(i,o,s,a,u,"next",e)}function u(e){t(i,o,s,a,u,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
                \***************************************************************/e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
                \************************************************************/(e,t,r)=>{var n=r(
/*! ./toPropertyKey.js */
"./node_modules/@babel/runtime/helpers/toPropertyKey.js");function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}e.exports=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
                \***************************************************************/(e,t,r)=>{var n=r(
/*! ./toPropertyKey.js */
"./node_modules/@babel/runtime/helpers/toPropertyKey.js");e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/get.js":
/*!****************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/get.js ***!
                \****************************************************/(e,t,r)=>{var n=r(
/*! ./superPropBase.js */
"./node_modules/@babel/runtime/helpers/superPropBase.js");function o(){return e.exports=o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=n(e,t);if(o){var s=Object.getOwnPropertyDescriptor(o,t);return s.get?s.get.call(arguments.length<3?e:r):s.value}},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":
/*!***************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
                \***************************************************************/e=>{function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/inherits.js":
/*!*********************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!
                \*********************************************************/(e,t,r)=>{var n=r(
/*! ./setPrototypeOf.js */
"./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**********************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
                \**********************************************************************/e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":
/*!**************************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
                \**************************************************************************/(e,t,r)=>{var n=r(
/*! ./typeof.js */
"./node_modules/@babel/runtime/helpers/typeof.js").default,o=r(
/*! ./assertThisInitialized.js */
"./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":
/*!*******************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/regeneratorRuntime.js ***!
                \*******************************************************************/(e,t,r)=>{var n=r(
/*! ./typeof.js */
"./node_modules/@babel/runtime/helpers/typeof.js").default;function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=o=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},s=Object.prototype,i=s.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(I){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof w?t:w,s=Object.create(o.prototype),i=new N(n||[]);return a(s,"_invoke",{value:j(e,r,i)}),s}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}r.wrap=d;var y="suspendedStart",v="suspendedYield",m="executing",b="completed",g={};function w(){}function k(){}function E(){}var O={};p(O,c,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(L([])));_&&_!==s&&i.call(_,c)&&(O=_);var x=E.prototype=w.prototype=Object.create(O);function R(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,s,a,u){var c=h(e[o],e,s);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function s(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(s,s):s()}})}function j(e,r,n){var o=y;return function(s,i){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===s)throw i;return{value:t,done:!0}}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=h(e,r,n);if("normal"===c.type){if(o=n.done?b:v,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=b,n.method="throw",n.arg=c.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=h(o,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(n(e)+" is not iterable")}return k.prototype=E,a(x,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:k,configurable:!0}),k.displayName=p(E,f,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,p(e,f,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},R(T.prototype),p(T.prototype,l,(function(){return this})),r.AsyncIterator=T,r.async=function(e,t,n,o,s){void 0===s&&(s=Promise);var i=new T(d(e,t,n,o),s);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(x),p(x,f,"Generator"),p(x,c,(function(){return this})),p(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!***************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
                \***************************************************************/e=>{function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/superPropBase.js":
/*!**************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/superPropBase.js ***!
                \**************************************************************/(e,t,r)=>{var n=r(
/*! ./getPrototypeOf.js */
"./node_modules/@babel/runtime/helpers/getPrototypeOf.js");e.exports=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":
/*!************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/toPrimitive.js ***!
                \************************************************************/(e,t,r)=>{var n=r(
/*! ./typeof.js */
"./node_modules/@babel/runtime/helpers/typeof.js").default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":
/*!**************************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/toPropertyKey.js ***!
                \**************************************************************/(e,t,r)=>{var n=r(
/*! ./typeof.js */
"./node_modules/@babel/runtime/helpers/typeof.js").default,o=r(
/*! ./toPrimitive.js */
"./node_modules/@babel/runtime/helpers/toPrimitive.js");e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
                !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
                \*******************************************************/e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
                !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
                \**********************************************************/(e,t,r)=>{var n=r(
/*! ../helpers/regeneratorRuntime */
"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();e.exports=n;try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var s=r[t]={exports:{}};return e[t].call(s.exports,s,s.exports,n),s.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n("./src/index.js")})(),ur.exports=e());var e,t}function lr(){return sr||(sr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RTScopeConnector=e.RTListeners=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t(Qt()),u=t(nr()),c=t(Vt()),l=t(cr()),f=t(I());function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var d=l.default.Listeners;e.RTListeners=d;var h=l.default.ScopeConnector;e.RTScopeConnector=h;var y=function(e){(0,a.default)(s,e);var t=p(s);function s(e){var i;(0,o.default)(this,s);var a,u=e.appId,c=e.apiKey,l=e.debugMode,p=f.default.uuid();return i=t.call(this,{appId:u||void 0,debugMode:l,connectQuery:function(){var t=e.getCurrentUserToken();return{apiKey:c||void 0,clientId:p,userToken:t}},hostResolver:function(){return e.appInfoPromise().then((function(e){return e.rtURL}))},socketConfigTransform:(a=(0,n.default)(r.default.mark((function t(n){var o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=7;break}return t.next=3,e.appInfoPromise();case 3:o=t.sent,n.url="".concat(n.host,"/").concat(o.appId),n.options.path="/".concat(o.appId),n.options.query.apiKey=o.apiKey;case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)})}),i.app=e,i}return(0,i.default)(s,[{key:"updateUserTokenIfNeeded",value:function(){if(this.session){var e=this.app.getCurrentUserToken();this.methods.setUserToken({userToken:e})}}},{key:"setDebugMode",value:function(e){this.setConfig({debugMode:e})}}]),s}(l.default);e.default=y}(ar)),ar}function fr(){return ir||(ir=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Kt()),i=t(Qt()),a=t(nr()),u=t(Vt()),c=lr();function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}var f="created",p="updated",d="deleted",h="upserted",y="bulk-created",v="bulk-updated",m="bulk-deleted",b="bulk-upserted",g="add",w="set",k="delete",O=[f,p,d,h],S=function(e){(0,i.default)(s,e);var t=l(s);function s(e){var n;return(0,r.default)(this,s),(n=t.call(this)).dataStore=e,n.app=e.app,n}return(0,n.default)(s,[{key:"getSubscriptionOptions",value:function(){return{tableName:this.dataStore.className}}},{key:"addCreateListener",value:function(e,t,r){this.addChangesListener(f,e,t,r)}},{key:"removeCreateListeners",value:function(e,t){this.removeChangesListeners(f,e,t)}},{key:"removeCreateListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeCreateListeners(void 0,e)}},{key:"addUpsertListener",value:function(e,t,r){this.addChangesListener(h,e,t,r)}},{key:"removeUpsertListeners",value:function(e,t){this.removeChangesListeners(h,e,t)}},{key:"removeUpsertListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeUpsertListeners(void 0,e)}},{key:"addUpdateListener",value:function(e,t,r){this.addChangesListener(p,e,t,r)}},{key:"removeUpdateListeners",value:function(e,t){this.removeChangesListeners(p,e,t)}},{key:"removeUpdateListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeUpdateListeners(void 0,e)}},{key:"addDeleteListener",value:function(e,t,r){this.addChangesListener(d,e,t,r)}},{key:"removeDeleteListeners",value:function(e,t){this.removeChangesListeners(d,e,t)}},{key:"removeDeleteListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeDeleteListeners(void 0,e)}},{key:"addBulkCreateListener",value:function(e,t,r){this.addChangesListener(y,e,t,r)}},{key:"removeBulkCreateListeners",value:function(){this.removeChangesListeners(y)}},{key:"removeBulkCreateListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeChangesListeners(y,void 0,e)}},{key:"addBulkUpdateListener",value:function(e,t,r){this.addChangesListener(v,e,t,r)}},{key:"removeBulkUpdateListeners",value:function(e,t){this.removeChangesListeners(v,e,t)}},{key:"removeBulkUpdateListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeBulkUpdateListeners(void 0,e)}},{key:"addBulkDeleteListener",value:function(e,t,r){this.addChangesListener(m,e,t,r)}},{key:"removeBulkDeleteListeners",value:function(e,t){this.removeChangesListeners(m,e,t)}},{key:"removeBulkDeleteListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeBulkDeleteListeners(void 0,e)}},{key:"addBulkUpsertListener",value:function(e,t,r){this.addChangesListener(b,e,t,r)}},{key:"removeBulkUpsertListeners",value:function(){this.removeChangesListeners(b)}},{key:"removeBulkUpsertListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeChangesListeners(b,void 0,e)}},{key:"addSetRelationListener",value:function(e,t,r,n){this.addRelationsChangesListener(w,e,t,r,n)}},{key:"removeSetRelationListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeRelationsChangesListeners(w,void 0,e)}},{key:"removeSetRelationListeners",value:function(e,t){this.removeRelationsChangesListeners(w,e,t)}},{key:"addAddRelationListener",value:function(e,t,r,n){this.addRelationsChangesListener(g,e,t,r,n)}},{key:"removeAddRelationListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeRelationsChangesListeners(g,void 0,e)}},{key:"removeAddRelationListeners",value:function(e,t){this.removeRelationsChangesListeners(g,e,t)}},{key:"addDeleteRelationListener",value:function(e,t,r,n){this.addRelationsChangesListener(k,e,t,r,n)}},{key:"removeDeleteRelationListener",value:function(e){if(!e||"function"!=typeof e)throw new Error("Listener Function must be passed.");this.removeRelationsChangesListeners(k,void 0,e)}},{key:"removeDeleteRelationListeners",value:function(e,t){this.removeRelationsChangesListeners(k,e,t)}},{key:"addChangesListener",value:function(e,t,r,n){if("function"==typeof t&&(n=r,r=t,t=void 0),"function"!=typeof r)throw new Error("Listener Function must be passed.");this.addSubscription(e,this.app.RT.subscriptions.onObjectsChanges,{callback:r,onError:n,parser:O.includes(e)?this.parseObjectToInstance.bind(this):void 0,params:{event:e,whereClause:t}})}},{key:"removeChangesListeners",value:function(e,t,r){"function"==typeof t&&(r=t,t=void 0);this.stopSubscription(e,{matcher:function(e){var n=e.params;return t?n.whereClause===t:!r||e.callback===r}})}},{key:"addRelationsChangesListener",value:function(e,t,r,n,o){if(!t||"string"!=typeof t)throw new Error("Relation Column Name must be a string.");if("function"==typeof r&&(o=n,n=r,r=void 0),"function"!=typeof n)throw new Error("Listener Function must be passed.");if(r){if(!Array.isArray(r))throw new Error("Parent Objects must be an array");r=r.map((function(e){return e.objectId||e}))}this.addSubscription(e,this.app.RT.subscriptions.onRelationsChanges,{callback:n,onError:o,params:{event:e,relationColumnName:t,parentObjects:r}})}},{key:"removeRelationsChangesListeners",value:function(e,t,r){"function"==typeof t&&(r=t,t=void 0);this.stopSubscription(e,{matcher:function(e){var n=e.params;return t?n.relationColumnName===t:!r||e.callback===r}})}},{key:"removeAllListeners",value:function(){(0,o.default)((0,u.default)(s.prototype),"removeAllListeners",this).call(this)}},{key:"parseObjectToInstance",value:function(e){return this.dataStore.parseResponse(e)}}]),s}(c.RTListeners);e.default=S}(qt)),qt}var pr,dr={};function hr(){return pr||(pr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Kt()),i=t(Qt()),a=t(nr()),u=t(Vt());function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}var l=function(e){(0,i.default)(s,e);var t=c(s);function s(e){var n;return(0,r.default)(this,s),(n=t.call(this)).relationModel=e,n.relationName=null,n}return(0,n.default)(s,[{key:"setRelationName",value:function(e){return this.relationName=e,this}},{key:"getRelationName",value:function(){return this.relationName}},{key:"setRelationModel",value:function(e){return this.relationModel=e,this}},{key:"getRelationModel",value:function(){return this.relationModel}},{key:"toJSON",value:function(){var e=(0,o.default)((0,u.default)(s.prototype),"toJSON",this).call(this);return e.relationName=this.getRelationName(),e.relationModel=this.getRelationModel(),e}}],[{key:"of",value:function(e){return new this(e)}}]),s}(t(tt()).default);e.default=l}(dr)),dr}var yr,vr={};function mr(){return yr||(yr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Qt()),n=t(nr()),o=t(Vt()),i=t(E()),a=t(_());function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=(0,o.default)(e);if(t){var i=(0,o.default)(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return(0,n.default)(this,r)}}var c="JSON_SET",l="JSON_INSERT",f="JSON_REPLACE",p="JSON_REMOVE",d="JSON_ARRAY_APPEND",h="JSON_ARRAY_INSERT",y=function(){function e(t){(0,i.default)(this,e),this.operationName=t,this.args={}}return(0,a.default)(e,[{key:"addArgument",value:function(e,t){if(void 0===t)throw new Error("You have to specify function's second argument");return this.args[e]=t,this}},{key:"toJSON",value:function(){return this.validate(),{___operation:this.operationName,args:this.args}}},{key:"create",value:function(){return this.toJSON()}},{key:"validate",value:function(){if(!Object.keys(this.args).length)throw new Error("You have to add at least one argument")}}],[{key:"SET",value:function(){return new e(c)}},{key:"INSERT",value:function(){return new e(l)}},{key:"REPLACE",value:function(){return new e(f)}},{key:"REMOVE",value:function(){return new v}},{key:"ARRAY_APPEND",value:function(){return new e(d)}},{key:"ARRAY_INSERT",value:function(){return new e(h)}}]),e}();e.default=y;var v=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,p)).args=[],e}return(0,a.default)(n,[{key:"addArgument",value:function(e){return this.args.push(e),this}},{key:"validate",value:function(){if(!this.args.length)throw new Error("You have to add at least one argument")}}]),n}(y)}(vr)),vr}var br,gr={},wr={exports:{}};var kr,Er={},Or={},Sr={};function _r(){return kr||(kr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t){var n=t.srsId,o=t.name;(0,r.default)(this,e),this.srsId=n,this.name=o}return(0,n.default)(e,[{key:"getSRSId",value:function(){return this.srsId}},{key:"getName",value:function(){return this.name}},{key:"toString",value:function(){return this.getName()+"("+this.getSRSId()+")"}}]),e}(),i=new o({srsId:0,name:"Cartesian"}),a=new o({srsId:4200,name:"Pulkovo 1995"}),u=new o({srsId:4326,name:"WGS 84"}),c={CARTESIAN:i,PULKOVO_1995:a,WGS84:u,WGS84_PSEUDO_MERCATOR:new o({srsId:3857,name:"WGS 84 / Pseudo-Mercator"}),WGS84_WORLD_MERCATOR:new o({srsId:3395,name:"WGS 84 / World Mercator"}),DEFAULT:u,SRS_MAP:{},valueBySRSId:function(e){return c.SRS_MAP[e]}};Object.keys(c).forEach((function(e){if(c[e]instanceof o){var t=c[e];c.SRS_MAP[t.getSRSId()]=t}}));var l=c;e.default=l}(Sr)),Sr}var xr,Rr={};function Tr(){return xr||(xr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Xr()),i=function(){function e(t){(0,r.default)(this,e),this.srs=t}return(0,n.default)(e,[{key:"read",value:function(e){return(0,o.default)(e,this.srs)}}]),e}();e.default=i}(Rr)),Rr}var jr,Cr,Pr,Ar,Nr,Lr={},Ir={},Mr={};function Br(){if(jr)return Mr;jr=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.GeoTypes=void 0;return Mr.GeoTypes={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon"},Mr}function Dr(){return Cr||(Cr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Te()),n=Br(),o=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,i=new RegExp("^"+o.source+"(\\s"+o.source+"){1,}"),a=function(e){var t=0,o=function(r){var n=e.substring(t).match(r);return n?(t+=n[0].length,n[0]):null},s=function(){return o(/^\s*/)},a=function(){for(var e,t,n=[];t=o(i)||o(/^(,)/);)","===t?(n.push(e),e=[]):t.split(/\s/g).some(isNaN)||(e||(e=[]),e=[].concat((0,r.default)(e),(0,r.default)(t.split(/\s/g).map(parseFloat)))),s();return e?(n.push(e),n.length?n:null):null};return function(){if(!o(/^(point(\sz)?)/i))return null;if(s(),!o(/^(\()/))return null;s();var e=a();return e&&o(/^(\))/)?{type:n.GeoTypes.POINT,coordinates:e[0]}:null}()||function(){if(!o(/^(linestring(\sz)?)/i))return null;if(s(),!o(/^(\()/))return null;var e=a();return e&&o(/^(\))/)?{type:n.GeoTypes.LINE_STRING,coordinates:e}:null}()||function(){if(!o(/^(polygon(\sz)?)/i))return null;s();var e=function(){s();for(var e,t=0,r=[],n=[r],a=r;e=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(i);){if("("===e)n.push(a),a=[],n[n.length-1].push(a),t++;else if(")"===e){if(0===a.length)return null;if(!(a=n.pop()))return null;if(0===--t)break}else if(","===e)a=[],n[n.length-1].push(a);else{if(e.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(a,e.split(/\s/g).map(parseFloat))}s()}return 0!==t?null:r}();return e?{type:n.GeoTypes.POLYGON,coordinates:e}:null}()};e.default=a}(Ir)),Ir}function Ur(){return Pr||(Pr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Dr()),i=t(Xr()),a=function(){function e(t){(0,r.default)(this,e),this.srs=t}return(0,n.default)(e,[{key:"read",value:function(e){var t=(0,o.default)(e);if(!t)throw new Error("WKT string is invalid");return(0,i.default)(t,this.srs)}}]),e}();e.default=a}(Lr)),Lr}function qr(){return Ar||(Ar=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(_r()),i=t(Tr()),a=t(Ur()),u=function(){function e(t){(0,r.default)(this,e),this.srs=t||o.default.DEFAULT}return(0,n.default)(e,[{key:"getSRS",value:function(){return this.srs}},{key:"getGeojsonType",value:function(){}},{key:"getWktType",value:function(){}},{key:"wktCoordinatePairs",value:function(){}},{key:"jsonCoordinatePairs",value:function(){}},{key:"asGeoJSON",value:function(){return{type:this.getGeojsonType(),coordinates:this.jsonCoordinatePairs()}}},{key:"asWKT",value:function(){return this.getWktType()+"("+this.wktCoordinatePairs()+")"}},{key:"toJSON",value:function(){return this.asGeoJSON()}},{key:"toString",value:function(){return"'"+this.asWKT()+"'"}}],[{key:"fromWKT",value:function(e,t){return new a.default(t).read(e)}},{key:"fromGeoJSON",value:function(e,t){return new i.default(t).read(e)}}]),e}();e.default=u}(Or)),Or}function Fr(){return Nr||(Nr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Qt()),i=t(nr()),a=t(Vt()),u=t(qr());function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var l=Br().GeoTypes.POINT,f=l.toUpperCase(),p=function(e){(0,o.default)(s,e);var t=c(s);function s(e){return(0,r.default)(this,s),t.call(this,e)}return(0,n.default)(s,[{key:"lng",get:function(){return this.getLongitude()},set:function(e){this.setLongitude(e)}},{key:"lat",get:function(){return this.getLatitude()},set:function(e){this.setLatitude(e)}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getLongitude",value:function(){return this.x}},{key:"getLatitude",value:function(){return this.y}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setLongitude",value:function(e){return this.setX(e)}},{key:"setLatitude",value:function(e){return this.setY(e)}},{key:"getGeojsonType",value:function(){return l}},{key:"getWktType",value:function(){return f}},{key:"wktCoordinatePairs",value:function(){return"".concat(this.x," ").concat(this.y)}},{key:"jsonCoordinatePairs",value:function(){return[this.x,this.y]}},{key:"equals",value:function(e){return this===e||e instanceof s&&(Math.abs(e.x-this.x)<1e-9&&Math.abs(e.y-this.y)<1e-9&&this.srs===e.srs)}}]),s}(u.default);e.default=p}(Er)),Er}var Gr,Hr={};function Vr(){return Gr||(Gr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Qt()),i=t(nr()),a=t(Vt()),u=t(qr());function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var l=Br().GeoTypes.LINE_STRING,f=l.toUpperCase(),p=function(e){(0,o.default)(s,e);var t=c(s);function s(e,n){var o;return(0,r.default)(this,s),(o=t.call(this,n)).points=e||[],o}return(0,n.default)(s,[{key:"getPoints",value:function(){return this.points}},{key:"setPoints",value:function(e){return this.points=e,this}},{key:"getGeojsonType",value:function(){return l}},{key:"getWktType",value:function(){return f}},{key:"jsonCoordinatePairs",value:function(){var e=[];return this.getPoints().forEach((function(t){e.push([t.getX(),t.getY()])})),e}},{key:"wktCoordinatePairs",value:function(){return this.getPoints().map((function(e){return"".concat(e.getX()," ").concat(e.getY())})).join(",")}}]),s}(u.default);e.default=p}(Hr)),Hr}var Kr,zr,Wr,Jr={};function Yr(){return Kr||(Kr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Te()),n=t(E()),o=t(_()),i=t(Qt()),a=t(nr()),u=t(Vt()),c=t(qr()),l=t(Vr());function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}var p=Br().GeoTypes.POLYGON,d=p.toUpperCase(),h=function(e){(0,i.default)(s,e);var t=f(s);function s(e,r,o){var i;return(0,n.default)(this,s),(i=t.call(this,o)).setBoundary(e),i.setHoles(r),i}return(0,o.default)(s,[{key:"getBoundary",value:function(){return this.boundary}},{key:"setBoundary",value:function(e){if(!e)throw new Error("The 'boundary' argument is required.");return e instanceof l.default||(e=new l.default(e,this.srs)),this.boundary=e,this}},{key:"getHoles",value:function(){return this.holes}},{key:"setHoles",value:function(e){return this.holes=e||[],this}},{key:"getGeojsonType",value:function(){return p}},{key:"getWktType",value:function(){return d}},{key:"jsonCoordinatePairs",value:function(){var e=[];this.getBoundary().getPoints().forEach((function(t){e.push([t.getX(),t.getY()])}));var t=this.holes.map((function(e){return e.getPoints().map((function(e){return[e.getX(),e.getY()]}))}));return[e].concat((0,r.default)(t))}},{key:"wktCoordinatePairs",value:function(){var e=[this.getBoundary().wktCoordinatePairs()];this.holes.forEach((function(t){return e.push(t.wktCoordinatePairs())}));return e.map((function(e){return"("+e+")"})).join(",")}}]),s}(c.default);e.default=h}(Jr)),Jr}function Xr(){return zr||(zr=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.GEO_CLASSES=void 0,e.default=function(e,t){var r=w[e.type];if(t=t||v.default.valueBySRSId(e.srsId),r)return r(e.coordinates,t);throw new Error("There is no constructor for ".concat(e.type))};var r,n,o,i,a,u,c=t(g()),l=t((br||(br=1,r=wr,n=St(),o=ke(),i=Se(),a=Ct(),r.exports=function(e){return n(e)||o(e)||i(e)||a()},r.exports.__esModule=!0,r.exports.default=r.exports),wr.exports)),f=t(Pt()),p=t(Fr()),d=t(Vr()),h=t(Yr()),y=Br(),v=t(_r());e.GEO_CLASSES=["com.backendless.persistence.Polygon","com.backendless.persistence.LineString","com.backendless.persistence.Point","com.backendless.persistence.Geometry"];var m=function(e,t){var r=(0,f.default)(e,2),n=r[0],o=r[1];return new p.default(t).setX(n).setY(o)},b=function(e,t){var r=e.map((function(e){return m(e,t)}));return new d.default(r,t)},w=(u={},(0,c.default)(u,y.GeoTypes.POINT,m),(0,c.default)(u,y.GeoTypes.LINE_STRING,b),(0,c.default)(u,y.GeoTypes.POLYGON,(function(e,t){var r=e.map((function(e){return b(e,t)})),n=(0,l.default)(r),o=n[0],s=n.slice(1);return new h.default(o,s,t)})),u)}(gr)),gr}function Qr(){return Wr||(Wr=1,function(e){var t=s(),r=d();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Pt()),o=t(Mt()),i=t(pe()),a=t(d()),u=t(Pe()),c=t(E()),l=t(_()),f=t(g()),p=t(I()),h=t(D()),y=t(fr()),v=t(tt()),m=t(hr()),b=t(mr()),w=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(Xr()),k=t(qr()),O=["relationName","relationModel"];function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e,t){var r=e instanceof v.default?e.toJSON():e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e):{};return r.pageSize=1,r.offset=0,r.sortBy||(r.sortBy=["created ".concat(t)]),v.default.toRequestBody(r)}var T=function(){function e(t,r){if((0,c.default)(this,e),this.app=r.app,this.classToTableMap=r.classToTableMap,"string"==typeof t?(this.className=t,this.model=this.classToTableMap[this.className]):(this.className=p.default.getClassName(t),this.model=this.classToTableMap[this.className]||t),!this.className)throw new Error("Class name should be specified")}var t,r,n,s,f,d,h,b,g,w,k,E,S,_,x,T,P,A;return(0,l.default)(e,[{key:"rt",value:function(){return this.rtHandlers=this.rtHandlers||new y.default(this)}},{key:"save",value:(A=(0,u.default)(i.default.mark((function e(t,r){var n,o=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?this.app.urls.dataTableUpsert(this.className):this.app.urls.dataTable(this.className),e.abrupt("return",this.app.request.put({url:n,data:j(t)}).then((function(e){return o.parseResponse(e)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"deepSave",value:(P=(0,u.default)(i.default.mark((function e(t){var r=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.put({url:this.app.urls.dataTableDeepSave(this.className),data:j(t)}).then((function(e){return r.parseResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"remove",value:(T=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t&&t.objectId||t)&&("string"==typeof r||"number"==typeof r)){e.next=3;break}throw new Error("Object Id must be provided and must be a string or number.");case 3:return e.abrupt("return",this.app.request.delete({url:this.app.urls.dataTableObject(this.className,r)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"find",value:(x=(0,u.default)(i.default.mark((function e(t){var r=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.post({url:this.app.urls.dataTableFind(this.className),data:v.default.toRequestBody(t)}).then((function(e){return r.parseResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"group",value:(_=(0,u.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.post({url:this.app.urls.dataGrouping(this.className),data:v.default.toRequestBody(t)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"countInGroup",value:(S=(0,u.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.groupPath&&"object"===(0,a.default)(t.groupPath)){e.next=2;break}throw new Error("Group Path must be provided and must be an object.");case 2:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.dataGrouping(this.className),"/count"),data:v.default.toRequestBody(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"findById",value:(E=(0,u.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"object"!==(0,a.default)(t)||Array.isArray(t)){e.next=8;break}if(Object.keys(t).length){e.next=3;break}throw new Error("Provided object must have at least 1 primary keys.");case 3:return e.next=5,this.app.request.get({url:this.app.urls.dataTablePrimaryKey(this.className),query:t});case 5:n=e.sent,e.next=14;break;case 8:if(t&&("string"==typeof t||"number"==typeof t)){e.next=10;break}throw new Error("Object Id must be provided and must be a string or number or an object of primary keys.");case 10:return r&&(r.pageSize=null,r.offset=null),e.next=13,this.app.request.get({url:this.app.urls.dataTableObject(this.className,t),queryString:v.default.toQueryString(r)});case 13:n=e.sent;case 14:return e.abrupt("return",this.parseResponse(n));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"findFirst",value:(k=(0,u.default)(i.default.mark((function e(t){var r=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.post({url:this.app.urls.dataTableFind(this.className),data:R(t,"asc")}).then((function(e){return r.parseResponse(e[0])})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"findLast",value:(w=(0,u.default)(i.default.mark((function e(t){var r=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.post({url:this.app.urls.dataTableFind(this.className),data:R(t,"desc")}).then((function(e){return r.parseResponse(e[0])})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"getObjectCount",value:(g=(0,u.default)(i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0,n=void 0,!t){e.next=11;break}if(!(t instanceof v.default)){e.next=9;break}r=t.getDistinct()||void 0,n=t.getGroupBy()||void 0,t=t.getWhereClause()||void 0,e.next=11;break;case 9:if("string"==typeof t){e.next=11;break}throw new Error("Condition must be a string or an instance of DataQueryBuilder.");case 11:return e.abrupt("return",this.app.request.post({url:this.app.urls.dataTableCount(this.className),data:{where:t,distinct:r,groupBy:n}}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"loadRelations",value:(b=(0,u.default)(i.default.mark((function e(t,r){var n,s,a,u,c,l=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t&&t.objectId||t)&&("string"==typeof n||"number"==typeof n)){e.next=3;break}throw new Error("Parent Object Id must be provided and must be a string or number.");case 3:if(s=r instanceof m.default?r.toJSON():r,a=s.relationName,u=s.relationModel,c=(0,o.default)(s,O),a&&"string"==typeof a){e.next=6;break}throw new Error("Relation Name must be provided and must be a string.");case 6:return e.abrupt("return",this.app.request.get({url:this.app.urls.dataTableObjectRelation(this.className,n,a),queryString:m.default.toQueryString(c)}).then((function(e){return l.parseRelationsResponse(e,u)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"setRelation",value:(h=(0,u.default)(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.changeRelation(this.app.request.Methods.POST,t,r,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"addRelation",value:(d=(0,u.default)(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.changeRelation(this.app.request.Methods.PUT,t,r,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"deleteRelation",value:(f=(0,u.default)(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.changeRelation(this.app.request.Methods.DELETE,t,r,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"bulkCreate",value:(s=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Objects must be provided and must be an array of objects.",t&&Array.isArray(t)){e.next=3;break}throw new Error(r);case 3:return t=t.map((function(e){if(!e||"object"!==(0,a.default)(e)||Array.isArray(e))throw new Error(r);return e})),e.abrupt("return",this.app.request.post({url:this.app.urls.dataBulkTable(this.className),data:t}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"bulkUpsert",value:(n=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Objects must be provided and must be an array of objects.",t&&Array.isArray(t)&&t.length){e.next=3;break}throw new Error(r);case 3:return t=t.map((function(e){if(!e||"object"!==(0,a.default)(e)||Array.isArray(e))throw new Error(r);return e})),e.abrupt("return",this.app.request.put({url:this.app.urls.dataBulkTableUpsert(this.className),data:t}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"bulkUpdate",value:(r=(0,u.default)(i.default.mark((function e(t,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Condition must be provided and must be a string.");case 2:if(r&&"object"===(0,a.default)(r)&&!Array.isArray(r)){e.next=4;break}throw new Error("Changes must be provided and must be an object.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.dataBulkTable(this.className),query:{where:t},data:r}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"bulkDelete",value:(t=(0,u.default)(i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&("string"==typeof t||Array.isArray(t))){e.next=2;break}throw new Error("Condition must be provided and must be a string or a list of objects.");case 2:return r={},"string"==typeof t?r.where=t:(n=t.map((function(e){var t=e&&e.objectId||e;if(!t||"string"!=typeof t&&"number"!=typeof t)throw new Error('Can not transform "objects" to "whereClause". Item must be a string or number or an object with property "objectId" as string.');return"'".concat(t,"'")})),r.where="objectId in (".concat(n.join(","),")")),e.abrupt("return",this.app.request.post({url:this.app.urls.dataBulkTableDelete(this.className),data:r}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"parseRelationsResponse",value:function(e,t){return C(e,t,this)}},{key:"parseResponse",value:function(e){return C(e,this.model,this)}},{key:"changeRelation",value:function(e,t,r,n){var o=t&&t.objectId||t;if(!o||"string"!=typeof o&&"number"!=typeof o)throw new Error("Relation Parent must be provided and must be a string or number or an object with objectId property.");if(!r||"string"!=typeof r)throw new Error("Relation Column Name must be provided and must be a string.");if(!n||"string"!=typeof n&&!Array.isArray(n))throw new Error("Relation Children must be provided and must be a string or a list of objects.");var s={};"string"==typeof n?s.whereClause=n:s.childrenIds=n.map((function(e){var t=e&&e.objectId||e;if(!t||"string"!=typeof t&&"number"!=typeof t)throw new Error("Child Id must be provided and must be a string or number.");return t}));var i={};return s.whereClause&&(i.whereClause=s.whereClause),this.app.request.send({method:e,url:this.app.urls.dataTableObjectRelation(this.className,o,r),query:i,data:s.childrenIds})}}]),e}();e.default=T;var j=function(){return function(t){return e({instancesMap:new WeakMap},t,{})};function e(t,r,n){for(var o in r)if(Array.isArray(r[o]))e(t,r[o],n[o]=[]);else if(!r[o]||"object"!==(0,a.default)(r[o])||r[o]instanceof k.default||r[o]instanceof b.default||r[o]instanceof h.default)n[o]=r[o];else if(r[o]instanceof Date)n[o]=r[o].getTime();else if(t.instancesMap.has(r[o])){var s=t.instancesMap.get(r[o]);s.__subID||(s.__subID=p.default.uuid()),n[o]={__originSubID:s.__subID}}else{var i=n[o]={};t.instancesMap.set(r[o],i),e(t,r[o],i)}return n}}(),C=function(){return function(e,t,o){if(!e)return e;var s={RootModel:t,app:o.app,classToTableMap:o.classToTableMap,subIds:{},postAssign:[]},i=Array.isArray(e)?e.map((function(e){return r(s,e)})):r(s,e);return function(e){e.postAssign.forEach((function(t){var r=(0,n.default)(t,3),o=r[0],s=r[1],i=r[2];o[s]=e.subIds[i]}))}(s),i};function e(e,r,n,o){Array.isArray(r[o])?t(e,r[o],n[o]=[]):r[o]&&"object"===(0,a.default)(r[o])?w.GEO_CLASSES.includes(r[o].___class)?n[o]=(0,w.default)(r[o]):r[o].__originSubID?e.postAssign.push([n,o,r[o].__originSubID]):function(e,r,n,o){var s=r[o].__subID;if(s&&e.subIds[s])n[o]=e.subIds[s],delete r[o].__subID;else{var i=e.classToTableMap[r[o].___class];n[o]=i?new i:{},s&&!e.subIds[s]&&(e.subIds[s]=n[o],delete r[o].__subID),t(e,r[o],n[o])}}(e,r,n,o):n[o]=r[o]}function t(t,r,n){for(var o in r)e(t,r,n,o)}function r(e,r){var n=e.RootModel||e.classToTableMap[r.___class],o=n?new n:{};if(r.__subID){if(e.subIds[r.__subID])return e.subIds[r.__subID];e.subIds[r.__subID]=o,delete r.__subID}return t(e,r,o),o}}()}(kt)),kt}var $r,Zr={};function en(){return $r||($r=1,function(e){var t=s(),r=d();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(E()),o=t(_()),i=t(Kt()),a=t(Qt()),u=t(nr()),c=t(Vt()),l=t(I()),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(tt());function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var y=function(e){(0,a.default)(r,e);var t=h(r);function r(){var e;return(0,n.default)(this,r),(e=t.call(this)).groupPageSize=f.PAGING_DEFAULTS.pageSize,e.recordsPageSize=f.PAGING_DEFAULTS.pageSize,e.groupDepth=null,e.groupPath=null,e}return(0,o.default)(r,[{key:"setGroupPageSize",value:function(e){if(e<=0)throw new Error("Group page size must be a positive value.");return this.groupPageSize=e,this}},{key:"getGroupPageSize",value:function(){return this.groupPageSize}},{key:"setRecordsPageSize",value:function(e){if(e<=0)throw new Error("Records page size must be a positive value.");return this.recordsPageSize=e,this}},{key:"getRecordsPageSize",value:function(){return this.recordsPageSize}},{key:"setGroupDepth",value:function(e){if(e<0)throw new Error("Group depth cannot have a negative value.");return this.groupDepth=e,this}},{key:"getGroupDepth",value:function(){return this.groupDepth}},{key:"getGroupPath",value:function(){return this.groupPath}},{key:"addGroupPath",value:function(e){return this.groupPath=(this.groupPath||[]).concat(e),this}},{key:"setGroupPath",value:function(e){return this.groupPath=l.default.castArray(e),this}},{key:"toJSON",value:function(){var e=(0,i.default)((0,c.default)(r.prototype),"toJSON",this).call(this);return e.groupDepth=this.getGroupDepth(),e.groupPath=this.getGroupPath(),e.groupPageSize=this.getGroupPageSize(),e.recordsPageSize=this.getRecordsPageSize(),e}}]),r}(f.default);e.default=y}(Zr)),Zr}var tn,rn,nn,on={},sn={};function an(){return tn||(tn=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(g()),i="GRANT",a="DENY",u=function(){function e(t,n){(0,r.default)(this,e),this.permission=t,this.app=n,this.grantUser=this.backwardCompatibility("grantForUser","grantUser"),this.denyUser=this.backwardCompatibility("denyForUser","denyUser"),this.grantRole=this.backwardCompatibility("grantForRole","grantRole"),this.denyRole=this.backwardCompatibility("denyForRole","denyRole"),this.grant=this.backwardCompatibility("grantForAllUsers","grant"),this.deny=this.backwardCompatibility("denyForAllUsers","deny")}return(0,n.default)(e,[{key:"backwardCompatibility",value:function(e,t){var r=this,n=this.constructor.BACKWARD_COMPATIBILITY_LABEL;return function(){var o='"'.concat(n,".").concat(t,'" is deprecated and will be removed in the nearest release.'),s='Please use "'.concat(n,".").concat(e,'" instead of.');return console.warn("".concat(o,"\n").concat(s)),r[e].apply(r,arguments)}}},{key:"grantForUser",value:function(e,t){return this.sendRequest(i,t,{userId:e})}},{key:"denyForUser",value:function(e,t){return this.sendRequest(a,t,{userId:e})}},{key:"grantForRole",value:function(e,t){return this.sendRequest(i,t,{roleName:e})}},{key:"denyForRole",value:function(e,t){return this.sendRequest(a,t,{roleName:e})}},{key:"grantForAllUsers",value:function(e){return this.sendRequest(i,e,{userId:"*"})}},{key:"denyForAllUsers",value:function(e){return this.sendRequest(a,e,{userId:"*"})}},{key:"grantForAllRoles",value:function(e){return this.sendRequest(i,e,{roleName:"*"})}},{key:"denyForAllRoles",value:function(e){return this.sendRequest(a,e,{roleName:"*"})}},{key:"sendRequest",value:function(e,t,r){var n=r.userId,o=r.roleName,s={permission:this.permission};return n?s.user=n:o&&(s.role=o),this.app.request.put({url:this.getRequestURL(e,t),data:s})}},{key:"getRequestURL",value:function(){}}]),e}();e.default=u,(0,o.default)(u,"BACKWARD_COMPATIBILITY_LABEL",null)}(sn)),sn}function un(){return rn||(rn=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Qt()),i=t(nr()),a=t(Vt()),u=t(g());function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var l=function(e){(0,o.default)(s,e);var t=c(s);function s(){return(0,r.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"getRequestURL",value:function(e,t){if(!t.___class||!t.objectId)throw new Error('"dataObject.___class" and "dataObject.objectId" need to be specified');return this.app.urls.dataObjectPermission(t.___class,e,t.objectId)}}]),s}(t(an()).default);e.default=l,(0,u.default)(l,"BACKWARD_COMPATIBILITY_LABEL","Backendless.Data.Permissions.{FIND|REMOVE|UPDATE}")}(on)),on}var cn,ln={},fn={},pn={},dn={};function hn(){if(cn)return dn;cn=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.HiveTypes=void 0;return dn.HiveTypes={KEY_VALUE:"key-value",LIST:"list",MAP:"map",SET:"set",SORTED_SET:"sorted-set"},dn}var yn,vn={};function mn(){if(yn)return vn;yn=1;var e=s();Object.defineProperty(vn,"__esModule",{value:!0}),vn.HiveStore=void 0;var t=e(pe()),r=e(Pe()),n=e(E()),o=e(_()),i=e(g()),a=e(I());function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(){function e(t,r){if((0,n.default)(this,e),this.TYPE=this.constructor.TYPE,!r||"string"!=typeof r)throw new Error("Store key must be a string.");this.app=t.app,this.hiveName=t.hiveName,this.storeKey=r}var s;return(0,o.default)(e,[{key:"getBaseURL",value:function(){return"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/").concat(this.storeKey)}},{key:"delete",value:function(){return this.constructor.delete.call(c(c({},this),this.constructor),[this.storeKey])}},{key:"exist",value:(s=(0,r.default)(t.default.mark((function e(){var r;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.constructor.exist.call(c(c({},this),this.constructor),[this.storeKey]);case 2:return r=e.sent,e.abrupt("return",!!r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"rename",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("New key name must be provided and must be a string.");if(void 0!==t&&"boolean"!=typeof t)throw new Error("Overwrite must be a boolean.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/rename"),query:{newKey:e,overwrite:t}})}},{key:"getExpiration",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/get-expiration-ttl")})}},{key:"clearExpiration",value:function(){return this.app.request.put({url:"".concat(this.getBaseURL(),"/clear-expiration")})}},{key:"expireAfter",value:function(e){if(isNaN(e)||"number"!=typeof e)throw new Error("TTL must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/expire"),query:{ttl:e}})}},{key:"expireAt",value:function(e){if(isNaN(e)||"number"!=typeof e)throw new Error("Expiration time must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/expire-at"),query:{unixTime:e}})}},{key:"touch",value:function(){return this.constructor.touch.call(c(c({},this),this.constructor),[this.storeKey])}},{key:"secondsSinceLastOperation",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/seconds-since-last-operation")})}}],[{key:"registerType",value:function(e){var t=this,r=c(c({},this),{},{app:e.app,hiveName:e.hiveName}),n=function(e){return new t(r,e)};return this.STATIC_METHODS.forEach((function(e){n[e]=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t[e].apply(r,o)}})),n}},{key:"keys",value:function(e){if(void 0!==e){if(!a.default.isObject(e))throw new Error("Options must be an object.");var t=e.cursor,r=e.pageSize,n=e.filterPattern;if(void 0!==t&&("number"!=typeof t||isNaN(t)))throw new Error("Cursor must be a number.");if(void 0!==r&&("number"!=typeof r||isNaN(r)))throw new Error("Page size must be a number.");if(void 0!==n&&("string"!=typeof n||!n))throw new Error("Filter pattern must be a string.")}return this.app.request.get({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/keys"),query:e})}},{key:"delete",value:function(e){if(!Array.isArray(e))throw new Error("Keys must be provided and must be a list of strings.");return this.app.request.delete({url:this.app.urls.hiveStore(this.hiveName,this.TYPE),data:e})}},{key:"exist",value:function(e){if(!Array.isArray(e))throw new Error("Keys must be provided and must be a list of strings.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/exist"),data:e})}},{key:"touch",value:function(e){if(!Array.isArray(e))throw new Error("Keys must be provided and must be a list of strings.");return this.app.request.put({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/touch"),data:e})}}]),e}();return vn.HiveStore=l,(0,i.default)(l,"STATIC_METHODS",["keys","delete","exist","touch"]),vn}var bn,gn,wn={};function kn(){if(bn)return wn;return bn=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.isHiveValueValid=function(e){if(null==e)return!1;try{return!!JSON.stringify(e)}catch(t){return!1}},wn}function En(){if(gn)return pn;gn=1;var e=s();Object.defineProperty(pn,"__esModule",{value:!0}),pn.KeyValueStore=void 0;var t=e(Te()),r=e(E()),n=e(_()),o=e(Qt()),i=e(nr()),a=e(Vt()),u=e(g()),c=hn(),l=mn(),f=e(I()),p=kn();function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var v=function(e){(0,o.default)(s,e);var t=y(s);function s(){return(0,r.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"get",value:function(){return this.app.request.get({url:this.getBaseURL()})}},{key:"set",value:function(e,t){return this.constructor.set.apply(h(h({},this),this.constructor),[this.storeKey,e,t])}},{key:"increment",value:function(e){if(isNaN(e)||"number"!=typeof e)throw new Error("Value must be provided and must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/increment"),query:{value:e}})}},{key:"decrement",value:function(e){if(isNaN(e)||"number"!=typeof e)throw new Error("Value must be provided and must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/decrement"),query:{value:e}})}}],[{key:"get",value:function(e){if(!Array.isArray(e))throw new Error("Keys must be provided and must be a list of strings.");return this.app.request.post({url:this.app.urls.hiveStore(this.hiveName,this.TYPE),data:e})}},{key:"set",value:function(e,t,r){if(f.default.isObject(e)){if(!Object.keys(e).length)throw new Error("Provided object must have at least 1 key.");return this.app.request.put({url:this.app.urls.hiveStore(this.hiveName,this.TYPE),data:e})}if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");if(void 0!==r){if(!f.default.isObject(r))throw new Error("Options must be an object.");var n=r.ttl,o=r.expireAt,s=r.condition;if(void 0!==n&&(isNaN(n)||"number"!=typeof n))throw new Error("TTL in seconds must be a number.");if(void 0!==o&&(isNaN(o)||"number"!=typeof o))throw new Error("ExpireAt timestamp must be a number.");if(void 0!==s&&!["IfExists","IfNotExists","Always"].includes(s))throw new Error("Condition must be one of this values: [IfExists, IfNotExists, Always].")}if(!(0,p.isHiveValueValid)(t))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/").concat(e),data:h({value:t},r)})}}]),s}(l.HiveStore);return pn.KeyValueStore=v,(0,u.default)(v,"TYPE",c.HiveTypes.KEY_VALUE),(0,u.default)(v,"STATIC_METHODS",[].concat((0,t.default)(l.HiveStore.STATIC_METHODS),["get","set"])),pn}var On,Sn={};function _n(){if(On)return Sn;On=1;var e=s();Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.ListStore=void 0;var t=e(E()),r=e(_()),n=e(Qt()),o=e(nr()),i=e(Vt()),a=e(g()),u=hn(),c=mn(),l=kn();function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var s=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var p=function(e){(0,n.default)(s,e);var o=f(s);function s(){return(0,t.default)(this,s),o.apply(this,arguments)}return(0,r.default)(s,[{key:"get",value:function(e,t){if(void 0!==t){if(isNaN(t)||"number"!=typeof t)throw new Error("Index To must be a number.");if(isNaN(e)||"number"!=typeof e)throw new Error("Index From must be a number.");return this.app.request.get({url:this.getBaseURL(),query:{from:e,to:t}})}if(void 0!==e){if(isNaN(e)||"number"!=typeof e)throw new Error("Index must be a number.");return this.app.request.get({url:"".concat(this.getBaseURL(),"/").concat(e)})}return this.app.request.get({url:this.getBaseURL()})}},{key:"length",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/length")})}},{key:"insertBefore",value:function(e,t){return this.insert(e,t,!0)}},{key:"insertAfter",value:function(e,t){return this.insert(e,t,!1)}},{key:"insert",value:function(e,t,r){if(!(0,l.isHiveValueValid)(e))throw new Error("ValueToInsert must be provided and must be one of types: string, number, boolean, object, array.");if(!(0,l.isHiveValueValid)(t))throw new Error("AnchorValue must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/insert-").concat(r?"before":"after"),data:{valueToInsert:e,anchorValue:t}})}},{key:"deleteValue",value:function(e,t){if(!(0,l.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/delete-value"),data:{value:e,count:t}})}},{key:"addFirstValue",value:function(e){if(!(0,l.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add-first"),data:[e]})}},{key:"addFirstValues",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,l.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of valid JSON items.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add-first"),data:e})}},{key:"addLastValue",value:function(e){if(!(0,l.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add-last"),data:[e]})}},{key:"addLastValues",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,l.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of valid JSON items.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add-last"),data:e})}},{key:"deleteFirst",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/get-first-and-delete"),query:{count:e}})}},{key:"deleteLast",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/get-last-and-delete"),query:{count:e}})}}]),s}(c.HiveStore);return Sn.ListStore=p,(0,a.default)(p,"TYPE",u.HiveTypes.LIST),Sn}var xn,Rn={};function Tn(){if(xn)return Rn;xn=1;var e=s();Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.MapStore=void 0;var t=e(E()),r=e(_()),n=e(Qt()),o=e(nr()),i=e(Vt()),a=e(g()),u=hn(),c=mn(),l=e(I()),f=kn();function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var s=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var d=function(e){(0,n.default)(s,e);var o=p(s);function s(){return(0,t.default)(this,s),o.apply(this,arguments)}return(0,r.default)(s,[{key:"get",value:function(e){if(void 0!==e&&"string"!=typeof e&&!Array.isArray(e))throw new Error("Key(s) must be a string or list of strings.");return this.app.request.post({url:this.getBaseURL(),data:l.default.castArray(e)})}},{key:"getValue",value:function(e){if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");return this.app.request.get({url:"".concat(this.getBaseURL(),"/get/").concat(e)})}},{key:"keyExists",value:function(e){if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");return this.app.request.get({url:"".concat(this.getBaseURL(),"/exists/").concat(e)})}},{key:"length",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/length")})}},{key:"keys",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/keys")})}},{key:"values",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/values")})}},{key:"set",value:function(e,t){if(!e)throw new Error("First argument must be provided and must be a string or an object.");if(l.default.isObject(e)){if(!Object.keys(e).length)throw new Error("Provided object must have at least 1 key.");return this.app.request.put({url:this.getBaseURL(),data:e})}if("string"!=typeof e)throw new Error("Key must be a string.");if(!(0,f.isHiveValueValid)(t))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/set/").concat(e),data:{value:t}})}},{key:"setWithOverwrite",value:function(e,t,r){if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");if(!(0,f.isHiveValueValid)(t))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");if(void 0!==r&&"boolean"!=typeof r)throw new Error("Overwrite must be a boolean.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/set-with-overwrite/").concat(e),data:{value:t,overwrite:r}})}},{key:"increment",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/increment/").concat(e),query:{count:t}})}},{key:"decrement",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("Key must be provided and must be a string.");if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/decrement/").concat(e),query:{count:t}})}},{key:"deleteKeys",value:function(e){if(!e||"string"!=typeof e&&!Array.isArray(e))throw new Error("Key(s) must be provided and must be a string or list of strings.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/by-obj-keys"),data:l.default.castArray(e)})}}]),s}(c.HiveStore);return Rn.MapStore=d,(0,a.default)(d,"TYPE",u.HiveTypes.MAP),Rn}var jn,Cn={};function Pn(){if(jn)return Cn;jn=1;var e=s();Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.SetStore=void 0;var t=e(Te()),r=e(E()),n=e(_()),o=e(Qt()),i=e(nr()),a=e(Vt()),u=e(g()),c=mn(),l=hn(),f=kn();function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var d=function(e){(0,o.default)(s,e);var t=p(s);function s(){return(0,r.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"get",value:function(){return this.app.request.get({url:this.getBaseURL()})}},{key:"getRandom",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.get({url:"".concat(this.getBaseURL(),"/random"),query:{count:e}})}},{key:"getRandomAndDelete",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/random"),query:{count:e}})}},{key:"addValue",value:function(e){if(!(0,f.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add"),data:[e]})}},{key:"addValues",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,f.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of valid JSON items.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/add"),data:e})}},{key:"deleteValue",value:function(e){if(!(0,f.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/values"),data:[e]})}},{key:"deleteValues",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,f.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of valid JSON items.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/values"),data:e})}},{key:"isValueMember",value:function(e){if(!(0,f.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.post({url:"".concat(this.getBaseURL(),"/contains"),data:[e]})}},{key:"isValuesMembers",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,f.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of valid JSON items.");return this.app.request.post({url:"".concat(this.getBaseURL(),"/contains"),data:e})}},{key:"length",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/length")})}}],[{key:"difference",value:function(e){if(!Array.isArray(e))throw new Error("Store keys must be provided and must be an array.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/difference"),data:e})}},{key:"intersection",value:function(e){if(!Array.isArray(e))throw new Error("Store keys must be provided and must be an array.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/intersection"),data:e})}},{key:"union",value:function(e){if(!Array.isArray(e))throw new Error("Store keys must be provided and must be an array.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/union"),data:e})}}]),s}(c.HiveStore);return Cn.SetStore=d,(0,u.default)(d,"TYPE",l.HiveTypes.SET),(0,u.default)(d,"STATIC_METHODS",[].concat((0,t.default)(c.HiveStore.STATIC_METHODS),["difference","intersection","union"])),Cn}var An,Nn,Ln,In={};function Mn(){if(An)return In;An=1;var e=s();Object.defineProperty(In,"__esModule",{value:!0}),In.SortedSetStore=void 0;var t=e(Te()),r=e(E()),n=e(_()),o=e(Qt()),i=e(nr()),a=e(Vt()),u=e(g()),c=mn(),l=hn(),f=e(I()),p=Pn(),d=kn();function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var m=function(e){(0,o.default)(s,e);var t=v(s);function s(){return(0,r.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"add",value:function(e,t){if(!e||!Array.isArray(e))throw new Error("Items must be provided and must be an array.");if(void 0!==t){if(!f.default.isObject(t))throw new Error("Options must be an object.");var r=t.duplicateBehaviour,n=t.scoreUpdateMode,o=t.resultType;if(void 0!==r&&!["OnlyUpdate","AlwaysAdd"].includes(r))throw new Error("Duplicate Behaviour argument must be one of this values: OnlyUpdate, AlwaysAdd.");if(void 0!==n&&!["Greater","Less"].includes(n))throw new Error("Score Update Mode argument must be one of this values: Greater, Less.");if(void 0!==o&&!["NewAdded","TotalChanged"].includes(o))throw new Error("Result Type must be one of this values: NewAdded, TotalChanged.")}return this.app.request.put({url:"".concat(this.getBaseURL(),"/add"),data:y({items:e},t)})}},{key:"incrementScore",value:function(e,t){if(!(0,d.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");if(isNaN(t)||"number"!=typeof t)throw new Error("ScoreValue must be provided and must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/increment"),data:{scoreValue:t,value:e}})}},{key:"decrementScore",value:function(e,t){if(!(0,d.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");if(isNaN(t)||"number"!=typeof t)throw new Error("ScoreValue must be provided and must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/decrement"),data:{scoreValue:t,value:e}})}},{key:"getAndDeleteMaxScore",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/get-with-max-score-and-delete"),query:{count:e}})}},{key:"getAndDeleteMinScore",value:function(e){if(void 0!==e&&(isNaN(e)||"number"!=typeof e))throw new Error("Count must be a number.");return this.app.request.put({url:"".concat(this.getBaseURL(),"/get-with-min-score-and-delete"),query:{count:e}})}},{key:"getRandom",value:function(e){if(void 0!==e){if(!f.default.isObject(e))throw new Error("Options must be an object.");var t=e.count,r=e.withScores;if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Count must be a number.");if(void 0!==r&&"boolean"!=typeof r)throw new Error("With Scores argument must be a boolean.")}return this.app.request.get({url:"".concat(this.getBaseURL(),"/get-random"),query:y({},e)})}},{key:"getScore",value:function(e){if(!(0,d.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.post({url:"".concat(this.getBaseURL(),"/get-score"),data:{value:e}})}},{key:"getRank",value:function(e,t){if(!(0,d.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");if(void 0!==t&&"boolean"!=typeof t)throw new Error("Reverse argument must be a boolean.");return this.app.request.post({url:"".concat(this.getBaseURL(),"/get-rank"),data:{value:e,reverse:t}})}},{key:"getRangeByRank",value:function(e,t,r){if(isNaN(e)||"number"!=typeof e)throw new Error("Start Rank must be provided and must be a number.");if(isNaN(t)||"number"!=typeof t)throw new Error("Stop Rank must be provided and must be a number.");if(void 0!==r){if(!f.default.isObject(r))throw new Error("Options must be an object.");var n=r.withScores,o=r.reverse;if(void 0!==n&&"boolean"!=typeof n)throw new Error("With Scores argument must be a boolean.");if(void 0!==o&&"boolean"!=typeof o)throw new Error("Reverse argument must be a boolean.")}return this.app.request.get({url:"".concat(this.getBaseURL(),"/get-range-by-rank"),query:y({startRank:e,stopRank:t},r)})}},{key:"getRangeByScore",value:function(e){if(void 0!==e){if(!f.default.isObject(e))throw new Error("Options must be an object.");var t=e.minScore,r=e.maxScore,n=e.minBound,o=e.maxBound,s=e.offset,i=e.pageSize,a=e.withScores,u=e.reverse;if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Minimal Score must be a number.");if(void 0!==r&&(isNaN(r)||"number"!=typeof r))throw new Error("Maximal Score must be a number.");if(void 0!==n&&!["Include","Exclude","Infinity"].includes(n))throw new Error("Minimal bound must be one of this values: Include, Exclude, Infinity.");if(void 0!==o&&!["Include","Exclude","Infinity"].includes(o))throw new Error("Maximal bound must be one of this values: Include, Exclude, Infinity.");if(void 0!==s&&("number"!=typeof s||isNaN(s)))throw new Error("Offset must be a number.");if(void 0!==i&&("number"!=typeof i||isNaN(i)))throw new Error("Page Size must be a number.");if(void 0!==a&&"boolean"!=typeof a)throw new Error("With Scores argument must be a boolean.");if(void 0!==u&&"boolean"!=typeof u)throw new Error("Reverse argument must be a boolean.")}return this.app.request.get({url:"".concat(this.getBaseURL(),"/get-range-by-score"),query:y({},e)})}},{key:"deleteValue",value:function(e){if(!(0,d.isHiveValueValid)(e))throw new Error("Value must be provided and must be one of types: string, number, boolean, object, array.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/values"),data:[e]})}},{key:"deleteValues",value:function(e){if(!(e&&Array.isArray(e)&&e.length&&(0,d.isHiveValueValid)(e)))throw new Error("Value must be provided and must be a list of JSON items.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/values"),data:e})}},{key:"deleteValuesByRank",value:function(e,t){if(isNaN(e)||"number"!=typeof e)throw new Error("Start Rank must be provided and must be a number.");if(isNaN(t)||"number"!=typeof t)throw new Error("Stop Rank must be provided and must be a number.");return this.app.request.delete({url:"".concat(this.getBaseURL(),"/delete-by-rank"),query:{startRank:e,stopRank:t}})}},{key:"deleteValuesByScore",value:function(e){if(void 0!==e){if(!f.default.isObject(e))throw new Error("Options must be an object.");var t=e.minScore,r=e.maxScore,n=e.minBound,o=e.maxBound;if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Minimal Score must be a number.");if(void 0!==r&&(isNaN(r)||"number"!=typeof r))throw new Error("Maximal Score must be a number.");if(void 0!==n&&!["Include","Exclude","Infinity"].includes(n))throw new Error("Minimal bound must be one of this values: Include, Exclude, Infinity.");if(void 0!==o&&!["Include","Exclude","Infinity"].includes(o))throw new Error("Maximal bound must be one of this values: Include, Exclude, Infinity.")}return this.app.request.delete({url:"".concat(this.getBaseURL(),"/delete-by-score"),query:y({},e)})}},{key:"length",value:function(){return this.app.request.get({url:"".concat(this.getBaseURL(),"/length")})}},{key:"countBetweenScores",value:function(e){if(void 0!==e){if(!f.default.isObject(e))throw new Error("Options must be an object.");var t=e.minScore,r=e.maxScore,n=e.minBound,o=e.maxBound;if(void 0!==t&&(isNaN(t)||"number"!=typeof t))throw new Error("Minimal Score must be a number.");if(void 0!==r&&(isNaN(r)||"number"!=typeof r))throw new Error("Maximal Score must be a number.");if(void 0!==n&&!["Include","Exclude","Infinity"].includes(n))throw new Error("Minimal bound must be one of this values: Include, Exclude, Infinity.");if(void 0!==o&&!["Include","Exclude","Infinity"].includes(o))throw new Error("Maximal bound must be one of this values: Include, Exclude, Infinity.")}return this.app.request.get({url:"".concat(this.getBaseURL(),"/count"),query:y({},e)})}}],[{key:"intersection",value:function(e){if(!Array.isArray(e))throw new Error("Store keys must be provided and must be an array.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/intersection"),data:e})}},{key:"union",value:function(e){if(!Array.isArray(e))throw new Error("Store keys must be provided and must be an array.");return this.app.request.post({url:"".concat(this.app.urls.hiveStore(this.hiveName,this.TYPE),"/action/union"),data:e})}}]),s}(c.HiveStore);return In.SortedSetStore=m,(0,u.default)(m,"TYPE",l.HiveTypes.SORTED_SET),(0,u.default)(m,"STATIC_METHODS",[].concat((0,t.default)(c.HiveStore.STATIC_METHODS),["difference","intersection","union"])),(0,u.default)(m,"difference",p.SetStore.difference),In}function Bn(){return Ln||(Ln=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.DataHive=void 0,e.default=function(e){function t(t){if(!t||"string"!=typeof t)throw new Error("Hive name must be provided and must be a string.");return new i(t,{app:e})}return t.getNames=function(){return e.request.get({url:e.urls.dataHives()})},t};var r=t(E()),n=t(_()),o=(Nn||(Nn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=En();Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&(r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}}))}));var r=_n();Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}}))}));var n=Tn();Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=Pn();Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var s=Mn();Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}))}(fn)),fn);var i=function(){function e(t,n){(0,r.default)(this,e),this.hiveName=t,this.app=n.app,this.KeyValueStore=o.KeyValueStore.registerType(this),this.ListStore=o.ListStore.registerType(this),this.MapStore=o.MapStore.registerType(this),this.SetStore=o.SetStore.registerType(this),this.SortedSetStore=o.SortedSetStore.registerType(this)}return(0,n.default)(e,[{key:"create",value:function(){return this.app.request.post({url:this.app.urls.dataHive(this.hiveName)})}},{key:"delete",value:function(){return this.app.request.delete({url:this.app.urls.dataHive(this.hiveName)})}},{key:"rename",value:function(e){if(!e||"string"!=typeof e)throw new Error("New Hive name must be provided and must be a string.");return this.app.request.put({url:this.app.urls.dataHive(this.hiveName),query:{newName:e}})}}]),e}();e.DataHive=i}(ln)),ln}var Dn,Un,qn={},Fn={},Gn={exports:{}};function Hn(){return Dn||(Dn=1,(e=Gn).exports=function(e,t,r,n,o){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer?(Object.defineProperty(e,t,s),null):s},e.exports.__esModule=!0,e.exports.default=e.exports),Gn.exports;var e}function Vn(){return Un||(Un=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n,o=t(E()),i=t(_()),a=t(Kt()),u=t(Qt()),c=t(nr()),l=t(Vt()),f=t(Hn()),p=lr();function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var h="MESSAGE",y=(r=p.RTScopeConnector.connectionRequired(),n=function(e){(0,u.default)(r,e);var t=d(r);function r(e,n){var s;return(0,o.default)(this,r),(s=t.call(this,e)).app=n,s.connect(),s}return(0,i.default)(r,[{key:"connectSubscriber",get:function(){return this.app.RT.subscriptions.connectToPubSub}},{key:"usersSubscriber",get:function(){return this.app.RT.subscriptions.onPubSubUserStatus}},{key:"commandSubscriber",get:function(){return this.app.RT.subscriptions.onPubSubCommand}},{key:"commandSender",get:function(){return this.app.RT.methods.sendPubSubCommand}},{key:"getScopeOptions",value:function(){return{channel:this.options.name}}},{key:"connect",value:function(){if(this.app)return(0,a.default)((0,l.default)(r.prototype),"connect",this).call(this)}},{key:"publish",value:function(e,t,r){return this.app.Messaging.publish(this.options.name,e,t,r)}},{key:"addMessageListener",value:function(e,t,r){"function"==typeof e&&(r=t,t=e,e=void 0),this.addSubscription(h,this.app.RT.subscriptions.onPubSubMessage,{callback:t,onError:r,params:{selector:e}})}},{key:"removeMessageListener",value:function(e,t){if("function"==typeof e&&(t=e,e=void 0),e&&"string"!=typeof e)throw new Error("Selector must be a string.");if("function"!=typeof t)throw new Error("Callback must be a function.");this.stopSubscription(h,{matcher:function(r){return e?r.params.selector===e&&r.callback===t:r.callback===t}})}},{key:"removeMessageListeners",value:function(e){if("string"!=typeof e)throw new Error("Selector must be a string.");this.stopSubscription(h,{matcher:function(t){return t.params.selector===e}})}},{key:"removeAllMessageListeners",value:function(){this.stopSubscription(h,{})}},{key:"addCommandListener",value:function(e,t){return(0,a.default)((0,l.default)(r.prototype),"addCommandListener",this).call(this,e,t),this}},{key:"addUserStatusListener",value:function(e,t){return(0,a.default)((0,l.default)(r.prototype),"addUserStatusListener",this).call(this,e,t),this}},{key:"removeCommandListener",value:function(e){return(0,a.default)((0,l.default)(r.prototype),"removeCommandListeners",this).call(this,e),this}},{key:"removeCommandListeners",value:function(e){return(0,a.default)((0,l.default)(r.prototype),"removeCommandListeners",this).call(this,e),this}},{key:"removeUserStatusListeners",value:function(e){return(0,a.default)((0,l.default)(r.prototype),"removeUserStatusListeners",this).call(this,e),this}},{key:"addConnectListener",value:function(e,t){return(0,a.default)((0,l.default)(r.prototype),"addConnectListener",this).call(this,e,t),this}},{key:"removeConnectListeners",value:function(e,t){return(0,a.default)((0,l.default)(r.prototype),"removeConnectListeners",this).call(this,e,t),this}},{key:"removeAllListeners",value:function(){return(0,a.default)((0,l.default)(r.prototype),"removeAllListeners",this).call(this),this}},{key:"send",value:function(e,t){return(0,a.default)((0,l.default)(r.prototype),"send",this).call(this,e,t)}},{key:"join",value:function(){(0,a.default)((0,l.default)(r.prototype),"connect",this).call(this)}},{key:"leave",value:function(){(0,a.default)((0,l.default)(r.prototype),"disconnect",this).call(this)}},{key:"isJoined",value:function(){return(0,a.default)((0,l.default)(r.prototype),"isConnected",this).call(this)}}]),r}(p.RTScopeConnector),(0,f.default)(n.prototype,"addMessageListener",[r],Object.getOwnPropertyDescriptor(n.prototype,"addMessageListener"),n.prototype),n);e.default=y}(Fn)),Fn}var Kn,zn={},Wn={};var Jn,Yn={};var Xn,Qn={};var $n,Zn={};var eo,to,ro,no={};function oo(){return to||(to=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Bodyparts",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"DeliveryOptions",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"EmailEnvelope",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PublishOptions",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"PublishOptionsHeaders",{enumerable:!0,get:function(){return r.default}});var r=t((Kn||(Kn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={MESSAGE_TAG:"message",IOS_ALERT_TAG:"ios-alert",IOS_BADGE_TAG:"ios-badge",IOS_SOUND_TAG:"ios-sound",ANDROID_TICKER_TEXT_TAG:"android-ticker-text",ANDROID_CONTENT_TITLE_TAG:"android-content-title",ANDROID_CONTENT_TEXT_TAG:"android-content-text",ANDROID_ACTION_TAG:"android-action",WP_TYPE_TAG:"wp-type",WP_TITLE_TAG:"wp-title",WP_TOAST_SUBTITLE_TAG:"wp-subtitle",WP_TOAST_PARAMETER_TAG:"wp-parameter",WP_TILE_BACKGROUND_IMAGE:"wp-backgroundImage",WP_TILE_COUNT:"wp-count",WP_TILE_BACK_TITLE:"wp-backTitle",WP_TILE_BACK_BACKGROUND_IMAGE:"wp-backImage",WP_TILE_BACK_CONTENT:"wp-backContent",WP_RAW_DATA:"wp-raw"};e.default=t}(Wn)),Wn)),n=t((Jn||(Jn=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=(0,r.default)((function e(t){(0,n.default)(this,e),t=t||{},this.publisherId=t.publisherId||void 0,this.headers=t.headers||void 0,this.subtopic=t.subtopic||void 0}));e.default=o}(Yn)),Yn)),o=t((Xn||(Xn=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=(0,r.default)((function e(t){(0,n.default)(this,e),t=t||{},this.publishPolicy=t.publishPolicy||void 0,this.pushBroadcast=t.pushBroadcast||void 0,this.pushSinglecast=t.pushSinglecast||void 0,this.publishAt=t.publishAt||void 0,this.repeatEvery=t.repeatEvery||void 0,this.repeatExpiresAt=t.repeatExpiresAt||void 0}));e.default=o}(Qn)),Qn)),i=t(($n||($n=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=(0,r.default)((function e(t){(0,n.default)(this,e),t=t||{},this.textmessage=t&&t.textmessage,this.htmlmessage=t&&t.htmlmessage}));e.default=o}(Zn)),Zn)),a=t((eo||(eo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(I()),i=function(){function e(t){(0,r.default)(this,e),t=t||{},this.addresses=o.default.castArray(t.addresses),this.ccAddresses=o.default.castArray(t.ccAddresses),this.bccAddresses=o.default.castArray(t.bccAddresses),this.query=t.query||null,this.uniqueEmails=t.uniqueEmails||!1}return(0,n.default)(e,[{key:"setTo",value:function(e){return this.addresses=o.default.castArray(e),this}},{key:"addTo",value:function(e){return this.addresses=this.addresses.concat(o.default.castArray(e)),this}},{key:"getTo",value:function(){return this.addresses}},{key:"setCc",value:function(e){return this.ccAddresses=o.default.castArray(e),this}},{key:"addCc",value:function(e){return this.ccAddresses=this.ccAddresses.concat(o.default.castArray(e)),this}},{key:"getCc",value:function(){return this.ccAddresses}},{key:"setBcc",value:function(e){return this.bccAddresses=o.default.castArray(e),this}},{key:"addBcc",value:function(e){return this.bccAddresses=this.bccAddresses.concat(o.default.castArray(e)),this}},{key:"getBcc",value:function(){return this.bccAddresses}},{key:"setQuery",value:function(e){return this.query=e,this}},{key:"getQuery",value:function(){return this.query}},{key:"setUniqueEmails",value:function(e){return this.uniqueEmails=e,this}},{key:"getUniqueEmails",value:function(){return this.uniqueEmails}},{key:"toJSON",value:function(){var e={};return this.addresses.length>0&&(e.addresses=this.addresses),this.ccAddresses.length>0&&(e["cc-addresses"]=this.ccAddresses),this.bccAddresses.length>0&&(e["bcc-addresses"]=this.bccAddresses),this.query&&(e.criteria=this.query),e.uniqueEmails=this.uniqueEmails,e}}],[{key:"create",value:function(t){return new e(t)}}]),e}();e.default=i}(no)),no))}(zn)),zn}var so,io={},ao={};var uo,co,lo={};function fo(){return uo||(uo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(Qt()),i=t(nr()),a=t(Vt()),u=t(g());function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var l=function(e){(0,o.default)(s,e);var t=c(s);function s(){return(0,r.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"getRequestURL",value:function(e,t){return this.app.urls.filePermission(e,t)}}]),s}(t(an()).default);e.default=l,(0,u.default)(l,"BACKWARD_COMPATIBILITY_LABEL","Backendless.Files.Permissions.{READ|DELETE|WRITE}")}(lo)),lo}function po(){return co||(co=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t((so||(so=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o={isBytesArray:function(e){return"undefined"!=typeof Buffer&&e instanceof Buffer||"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||Array.isArray(e)},ensureSlashInPath:function(e){return e.startsWith("/")?e:"/".concat(e)},trimSlashesInPath:function(e){return e&&(e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1))),e},parseFilePath:function(e){var t={filePath:e,fileName:null};if(e){var r=e.split("/");r[r.length-1].includes(".")&&(t.fileName=r.pop(),t.filePath=r.join("/"))}return t},sanitizeFileName:function(e){return encodeURIComponent(e).replace(/'/g,"%27").replace(/"/g,"%22")},getFileName:function(e){if(e.name)return e.name;if(e.path){var t=e.path.split("/");return t[t.length-1]}},toBase64:function(e){return(0,n.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof Blob||"undefined"==typeof FileReader){t.next=3;break}return e instanceof Blob||(e=new Blob([e],{type:""})),t.abrupt("return",new Promise((function(t,r){var n=new FileReader;n.onerror=function(e){return r(e)},n.onload=function(e){return t(e.target.result.split(";base64,")[1])},n.readAsDataURL(e)})));case 3:if("undefined"==typeof Buffer){t.next=5;break}return t.abrupt("return",Buffer.from(e).toString("base64"));case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()}};e.default=o}(ao)),ao)),u=t(fo()),c=function(){function e(t){(0,o.default)(this,e),this.app=t,this.Permissions={READ:new u.default("READ",t),DELETE:new u.default("DELETE",t),WRITE:new u.default("WRITE",t)}}var t,s,c,l,f,p,d,h,y,v,m,b,g;return(0,i.default)(e,[{key:"saveFile",value:(g=(0,n.default)(r.default.mark((function e(t,n,o,s){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filePath" must be provided and must be a string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("File Name must be provided and must be a string.");case 4:return e.next=6,a.default.toBase64(o);case 6:return o=e.sent,i={},"boolean"==typeof s&&(i.overwrite=s),t=a.default.trimSlashesInPath(t),n=a.default.sanitizeFileName(n),e.abrupt("return",this.app.request.put({url:"".concat(this.app.urls.fileBinaryPath(t),"/").concat(n),headers:{"Content-Type":"text/plain"},query:i,data:o}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return g.apply(this,arguments)})},{key:"upload",value:(b=(0,n.default)(r.default.mark((function e(t,n,o){var s,i,u,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={},"boolean"==typeof o&&(s.overwrite=o),n=a.default.trimSlashesInPath(n),(i=a.default.parseFilePath(n)).fileName&&(n=i.filePath,u=i.fileName),"string"!=typeof t){e.next=8;break}return u||(c=a.default.parseFilePath(t),u=c.fileName),e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.filePath(n),"/").concat(u),query:s,data:{url:t}}));case 8:if(u||(u=a.default.getFileName(t)),u){e.next=11;break}throw new Error("Wrong type of the file source object. Can not get file name");case 11:return u=a.default.sanitizeFileName(u),e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.filePath(n),"/").concat(u),query:s,form:{file:t}}));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return b.apply(this,arguments)})},{key:"append",value:(m=(0,n.default)(r.default.mark((function e(t,n,o){var s,i=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filePath" must be provided and must be a string.');case 2:if(t=a.default.trimSlashesInPath(t),2===i.length&&(o=n,n=void 0,(s=a.default.parseFilePath(t)).fileName&&(t=s.filePath,n=s.fileName)),n){e.next=6;break}throw new Error("Can not resolve target file name");case 6:if(n=a.default.sanitizeFileName(n),"string"!=typeof o){e.next=9;break}return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.fileAppendPath(t),"/").concat(n),data:{url:o}}));case 9:if(!a.default.isBytesArray(o)){e.next=14;break}return e.next=12,a.default.toBase64(o);case 12:return o=e.sent,e.abrupt("return",this.app.request.put({url:"".concat(this.app.urls.fileAppendBinaryPath(t),"/").concat(n),headers:{"Content-Type":"text/plain"},data:o}));case 14:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.fileAppendPath(t),"/").concat(n),form:{file:o}}));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"appendText",value:(v=(0,n.default)(r.default.mark((function e(t,n,o){var s,i=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filePath" must be provided and must be a string.');case 2:if(t=a.default.trimSlashesInPath(t),2===i.length&&(o=n,n=void 0,(s=a.default.parseFilePath(t)).fileName&&(t=s.filePath,n=s.fileName)),n){e.next=6;break}throw new Error("Can not resolve target file name");case 6:if("string"==typeof o){e.next=8;break}throw new Error('"textContent" must be a string');case 8:return n=a.default.sanitizeFileName(n),e.abrupt("return",this.app.request.put({url:"".concat(this.app.urls.fileAppendPath(t),"/").concat(n),headers:{"Content-Type":"text/plain"},data:o}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return v.apply(this,arguments)})},{key:"listing",value:(y=(0,n.default)(r.default.mark((function e(t,n,o,s,i){var u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u={},t&&"string"==typeof t){e.next=3;break}throw new Error('"filePath" must be provided and must be a string.');case 3:return t=a.default.trimSlashesInPath(t),n&&"string"==typeof n&&(u.pattern=n),"boolean"==typeof o&&(u.sub=o),"number"==typeof s&&s>=0&&(u.pagesize=s),"number"==typeof i&&i>=0&&(u.offset=i),e.abrupt("return",this.app.request.get({url:this.app.urls.filePath(t),query:u}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return y.apply(this,arguments)})},{key:"renameFile",value:(h=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"oldPathName" must be provided and must be a string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("New File Name must be provided and must be a string.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.fileRename(),data:{oldPathName:a.default.ensureSlashInPath(t),newName:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"moveFile",value:(d=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.put({url:this.app.urls.fileMove(),data:{sourcePath:a.default.ensureSlashInPath(t),targetPath:a.default.ensureSlashInPath(n)}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"copyFile",value:(p=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.put({url:this.app.urls.fileCopy(),data:{sourcePath:a.default.ensureSlashInPath(t),targetPath:a.default.ensureSlashInPath(n)}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"remove",value:(f=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filePath" must be provided and must be a string.');case 2:return t.startsWith("http://")||t.startsWith("https://")||(t=this.app.urls.filePath(t)),e.abrupt("return",this.app.request.delete({url:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"exists",value:(l=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filePath" must be provided and must be a string.');case 2:return t=a.default.trimSlashesInPath(t),e.abrupt("return",this.app.request.get({url:this.app.urls.filePath(t),query:{action:"exists"}}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getFileCount",value:(c=(0,n.default)(r.default.mark((function e(t,n,o,s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('"filesPath" must be provided and must be a string.');case 2:if(!n||"string"==typeof n){e.next=4;break}throw new Error("Files Pattern must be provided and must be a string.");case 4:return t=a.default.trimSlashesInPath(t),e.abrupt("return",this.app.request.get({url:this.app.urls.filePath(t),query:{action:"count",pattern:n||"*",sub:!!o,countDirectories:!!s}}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return c.apply(this,arguments)})},{key:"createDirectory",value:(s=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('Directory "path" must be provided and must be a string.');case 2:return t=a.default.trimSlashesInPath(t),e.abrupt("return",this.app.request.post({url:this.app.urls.directoryPath(t)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"removeDirectory",value:(t=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('Directory "path" must be provided and must be a string.');case 2:return t=a.default.trimSlashesInPath(t),e.abrupt("return",this.app.request.delete({url:this.app.urls.filePath(t)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();e.default=c}(io)),io}var ho,yo,vo={},mo={};function bo(){return ho||(ho=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n,o,i,a,u,c,l,f,p,d=t(Te()),h=t(E()),y=t(_()),v=t(rr()),m=t(Kt()),b=t(Qt()),w=t(nr()),k=t(Vt()),O=t(g()),S=t(Hn()),x=lr();function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,O.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,w.default)(this,r)}}var C="CHANGES",P="CLEARED",A="INVOKE",N=(r=x.RTScopeConnector.connectionRequired(),n=x.RTScopeConnector.connectionRequired(),o=x.RTScopeConnector.connectionRequired(),i=x.RTScopeConnector.connectionRequired(),a=x.RTScopeConnector.connectionRequired(!0),u=x.RTScopeConnector.connectionRequired(!0),c=x.RTScopeConnector.connectionRequired(!0),l=x.RTScopeConnector.connectionRequired(!0),f=x.RTScopeConnector.connectionRequired(!0),p=function(e){(0,b.default)(r,e);var t=j(r);function r(e,n){var o;return(0,h.default)(this,r),o=t.call(this,e),(0,O.default)((0,v.default)(o),"onInvoke",(function(e){var t,r=e.method,n=e.args;L(o.invocationTarget,r),(t=o.invocationTarget)[r].apply(t,(0,d.default)(n))})),o.app=n,o.invocationTarget=null,o.connect(),o}return(0,y.default)(r,[{key:"connectSubscriber",get:function(){return this.app.RT.subscriptions.connectToRSO}},{key:"usersSubscriber",get:function(){return this.app.RT.subscriptions.onRSOUserStatus}},{key:"commandSubscriber",get:function(){return this.app.RT.subscriptions.onRSOCommand}},{key:"commandSender",get:function(){return this.app.RT.methods.sendRSOCommand}},{key:"setInvocationTarget",value:function(e){this.invocationTarget=e}},{key:"connect",value:function(){if(this.app)return(0,m.default)((0,k.default)(r.prototype),"connect",this).call(this)}},{key:"onConnect",value:function(){(0,m.default)((0,k.default)(r.prototype),"onConnect",this).apply(this,arguments),this.addSubscription(A,this.app.RT.subscriptions.onRSOInvoke,{callback:this.onInvoke})}},{key:"onDisconnect",value:function(){this.stopSubscription(A,{callback:this.onInvoke}),(0,m.default)((0,k.default)(r.prototype),"onDisconnect",this).apply(this,arguments)}},{key:"addChangesListener",value:function(e,t){this.addSubscription(C,this.app.RT.subscriptions.onRSOChanges,{callback:e,onError:t})}},{key:"removeChangesListeners",value:function(e){this.stopSubscription(C,{callback:e})}},{key:"addClearListener",value:function(e,t){this.addSubscription(P,this.app.RT.subscriptions.onRSOClear,{callback:e,onError:t})}},{key:"removeClearListeners",value:function(e){this.stopSubscription(P,{callback:e})}},{key:"addCommandListener",value:function(e,t){return(0,m.default)((0,k.default)(r.prototype),"addCommandListener",this).call(this,e,t),this}},{key:"removeCommandListener",value:function(e){return(0,m.default)((0,k.default)(r.prototype),"removeCommandListeners",this).call(this,e),this}},{key:"removeCommandListeners",value:function(e){return(0,m.default)((0,k.default)(r.prototype),"removeCommandListeners",this).call(this,e),this}},{key:"addUserStatusListener",value:function(e,t){return(0,m.default)((0,k.default)(r.prototype),"addUserStatusListener",this).call(this,e,t),this}},{key:"removeUserStatusListeners",value:function(e){return(0,m.default)((0,k.default)(r.prototype),"removeUserStatusListeners",this).call(this,e),this}},{key:"addConnectListener",value:function(e,t){return(0,m.default)((0,k.default)(r.prototype),"addConnectListener",this).call(this,e,t),this}},{key:"removeConnectListeners",value:function(e,t){return(0,m.default)((0,k.default)(r.prototype),"removeConnectListeners",this).call(this,e,t),this}},{key:"removeAllListeners",value:function(){return(0,m.default)((0,k.default)(r.prototype),"removeAllListeners",this).call(this),this}},{key:"get",value:function(e){return this.app.RT.methods.getRSO(T(T({},this.getScopeOptions()),{},{key:e}))}},{key:"set",value:function(e,t){return this.app.RT.methods.setRSO(T(T({},this.getScopeOptions()),{},{key:e,data:t}))}},{key:"clear",value:function(){return this.app.RT.methods.clearRSO(this.getScopeOptions())}},{key:"invoke",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.invokeOn.apply(this,[e,void 0].concat(r))}},{key:"invokeOn",value:function(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return Promise.resolve().then((function(){return L(r.invocationTarget,e)})).then((function(){return r.app.RT.methods.invokeRSOMethod(T(T({},r.getScopeOptions()),{},{method:e,targets:t,args:o}))}))}}]),r}(x.RTScopeConnector),(0,S.default)(p.prototype,"addChangesListener",[r],Object.getOwnPropertyDescriptor(p.prototype,"addChangesListener"),p.prototype),(0,S.default)(p.prototype,"removeChangesListeners",[n],Object.getOwnPropertyDescriptor(p.prototype,"removeChangesListeners"),p.prototype),(0,S.default)(p.prototype,"addClearListener",[o],Object.getOwnPropertyDescriptor(p.prototype,"addClearListener"),p.prototype),(0,S.default)(p.prototype,"removeClearListeners",[i],Object.getOwnPropertyDescriptor(p.prototype,"removeClearListeners"),p.prototype),(0,S.default)(p.prototype,"get",[a],Object.getOwnPropertyDescriptor(p.prototype,"get"),p.prototype),(0,S.default)(p.prototype,"set",[u],Object.getOwnPropertyDescriptor(p.prototype,"set"),p.prototype),(0,S.default)(p.prototype,"clear",[c],Object.getOwnPropertyDescriptor(p.prototype,"clear"),p.prototype),(0,S.default)(p.prototype,"invoke",[l],Object.getOwnPropertyDescriptor(p.prototype,"invoke"),p.prototype),(0,S.default)(p.prototype,"invokeOn",[f],Object.getOwnPropertyDescriptor(p.prototype,"invokeOn"),p.prototype),p);function L(e,t){if(!e)throw new Error('"invocationTarget" is not specified');if("function"!=typeof e[t])throw new Error('Method "'.concat(t,'" of invocationTarget is not function'))}e.default=N}(mo)),mo}var go,wo={},ko={};var Eo,Oo,So={};function _o(){return Eo||(Eo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_());var o=function(){function e(t,n){(0,r.default)(this,e),this.storageName=t,function(e,t){if(!localStorage.getItem(e.storageName)){var r=localStorage.getItem(t);r&&(localStorage.setItem(e.storageName,r),localStorage.removeItem(t))}}(this,n)}return(0,n.default)(e,[{key:"getStore",value:function(){try{return JSON.parse(localStorage.getItem(this.storageName))||{}}catch(e){console.warn("Could not parse data from LocalStorage",e)}return{}}},{key:"setStore",value:function(e){localStorage.setItem(this.storageName,JSON.stringify(e))}},{key:"get",value:function(e){return this.getStore()[e]}},{key:"set",value:function(e,t){var r=this.getStore();r[e]=t,this.setStore(r)}},{key:"remove",value:function(e){var t=this.getStore();delete t[e],this.setStore(t)}}]),e}();e.default=o}(So)),So}function xo(){return Oo||(Oo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(I()),i=t((go||(go=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(){(0,r.default)(this,e),this.data={}}return(0,n.default)(e,[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"remove",value:function(e){delete this.data[e]}}]),e}();e.default=o}(ko)),ko)),a=t(_o()),u="Backendless",c=function(){function e(t){(0,r.default)(this,e),this.app=t,this.storageName=this.app.appId?"".concat(u,"_").concat(this.app.appId):u;var n=o.default.isLocalStorageSupported?a.default:i.default;this.setStorage(n),this.Keys={USER_TOKEN:"user-token",CURRENT_USER_ID:"current-user-id",STAY_LOGGED_IN:"stayLoggedIn"}}return(0,n.default)(e,[{key:"setStorage",value:function(e){this.storage=new e(this.storageName,u)}},{key:"set",value:function(e,t){this.storage.set(e,t)}},{key:"get",value:function(e){return this.storage.get(e)}},{key:"remove",value:function(e){this.storage.remove(e)}}]),e}();e.default=c}(wo)),wo}var Ro,To={},jo={exports:{}},Co={exports:{}};var Po,Ao,No,Lo={exports:{}},Io={exports:{}};function Mo(){return Ao||(Ao=1,e=Lo,Po||(Po=1,function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Io)),t=Io.exports,r=Xt(),e.exports=function(e,n,o){if(t())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var i=new(e.bind.apply(e,s));return o&&r(i,o.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),Lo.exports;var e,t,r}function Bo(){return No||(No=1,function(e){var t=Vt(),r=Xt(),n=function(){return Ro||(Ro=1,(e=Co).exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports),Co.exports;var e}(),o=Mo();function s(i){var a="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!n(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==a){if(a.has(e))return a.get(e);a.set(e,s)}function s(){return o(e,arguments,t(this).constructor)}return s.prototype=Object.create(e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r(s,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(i)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}(jo)),jo.exports}var Do,Uo={};function qo(){if(Do)return Uo;Do=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.OperationType=Uo.IsolationLevelEnum=void 0;Uo.OperationType={CREATE:"CREATE",CREATE_BULK:"CREATE_BULK",UPDATE:"UPDATE",UPDATE_BULK:"UPDATE_BULK",DELETE:"DELETE",DELETE_BULK:"DELETE_BULK",UPSERT:"UPSERT",UPSERT_BULK:"UPSERT_BULK",FIND:"FIND",ADD_RELATION:"ADD_RELATION",SET_RELATION:"SET_RELATION",DELETE_RELATION:"DELETE_RELATION"};return Uo.IsolationLevelEnum={READ_UNCOMMITTED:"READ_UNCOMMITTED",READ_COMMITTED:"READ_COMMITTED",REPEATABLE_READ:"REPEATABLE_READ",SERIALIZABLE:"SERIALIZABLE"},Uo}var Fo,Go,Ho,Vo,Ko={},zo={},Wo={};function Jo(){if(Fo)return Wo;Fo=1;var e=s();Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.OpResultValueReference=void 0;var t=e(E()),r=e(_()),n=function(){function e(r,n){var o=n.resultIndex,s=n.propName;(0,t.default)(this,e),this.opResult=r,this.resultIndex=o,this.propName=s}return(0,r.default)(e,[{key:"getTableName",value:function(){return this.opResult.getTableName()}},{key:"toJSON",value:function(){var e=this.opResult.toJSON();return void 0!==this.resultIndex&&(e.resultIndex=this.resultIndex),void 0!==this.propName&&(e.propName=this.propName),!e.propName&&this.opResult.isFindRef()&&(e.propName="objectId"),e}}]),e}();return Wo.OpResultValueReference=n,Wo}function Yo(){if(Go)return zo;Go=1;var e=s();Object.defineProperty(zo,"__esModule",{value:!0}),zo.OpResult=void 0;var t=e(E()),r=e(_()),n=qo(),o=Jo(),i=function(){function e(r,n){var o=n.operationType,s=n.table,i=n.payload;(0,t.default)(this,e),this.uow=r,this.operationType=o,this.table=s,this.payload=i;var a=this.uow.getOpStackName(o,s),u=this.uow.getNextOpResultIndex(a);this.opResultId="".concat(a).concat(u),this.result=null}return(0,r.default)(e,[{key:"setResult",value:function(e){this.result=e}},{key:"getResult",value:function(){return this.result}},{key:"setError",value:function(e){this.error=e}},{key:"getError",value:function(){return this.error}},{key:"getType",value:function(){return this.operationType}},{key:"isFindRef",value:function(){return this.operationType===n.OperationType.FIND}},{key:"isCollectionRef",value:function(){return this.operationType===n.OperationType.FIND||this.operationType===n.OperationType.CREATE_BULK}},{key:"isObjectRef",value:function(){return this.operationType===n.OperationType.CREATE||this.operationType===n.OperationType.UPDATE||this.operationType===n.OperationType.UPSERT}},{key:"setOpResultId",value:function(e){return this.opResultId=e,this}},{key:"getOpResultId",value:function(){return this.opResultId}},{key:"getTableName",value:function(){return this.table}},{key:"resolveTo",value:function(e,t){return"string"==typeof e&&(t=e,e=void 0),new o.OpResultValueReference(this,{resultIndex:e,propName:t})}},{key:"toJSON",value:function(){var e={___ref:!0,opResultId:this.opResultId};return this.isObjectRef()&&(e.propName="objectId"),e}}]),e}();return zo.OpResult=i,zo}function Xo(){return Vo||(Vo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return function(t){(0,l.default)(n,t);var r=R(n);function n(t){return(0,u.default)(this,n),r.call(this,t,e)}return(0,c.default)(n,null,[{key:"initFromJSON",value:function(e){var t=new this(e.transactionIsolation);return e.operations.forEach((function(e){b.OperationJSONAdapter[e.operationType](t,e).setOpResultId(e.opResultId)})),t}}]),n}(C)};var r=t(pe()),n=t(d()),o=t(Pe()),i=t(Mt()),a=t(g()),u=t(E()),c=t(_()),l=t(Qt()),f=t(nr()),p=t(Vt()),h=t(Bo()),y=t(I()),v=t(tt()),m=qo(),b=function(){if(Ho)return Ko;Ho=1;var e=s();Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.OperationJSONAdapter=void 0;var t=e(d()),r=qo(),n=Yo();function o(e,r){if(Array.isArray(r))return r.map((function(t){return o(e,t)}));if(r&&"object"===(0,t.default)(r)){if(r.___ref){var n=e.getOpResultById(r.opResultId);return void 0!==r.resultIndex?n.resolveTo(r.resultIndex,r.propName):void 0!==r.propName?n.resolveTo(r.propName):n}var s={};for(var i in r)s[i]=o(e,r[i]);return s}return r}var i={CREATE:function(e,t){var r=t.table,n=t.payload;return e.create.call(e,r,o(e,n))},DELETE:function(e,t){var r=t.table,n=t.payload;return e.delete.call(e,r,o(e,n))},UPDATE:function(e,t){var r=t.table,n=t.payload;return e.update.call(e,r,o(e,n))},UPSERT:function(e,t){var r=t.table,n=t.payload;return e.upsert.call(e,r,o(e,n))},UPDATE_BULK:function(e,t){var r=t.table,n=t.payload,s=a(e,{table:r,payload:n});return s.push(o(e,n.changes)),e.bulkUpdate.apply(e,s)},DELETE_BULK:function(e,t){var r=a(e,{table:t.table,payload:t.payload});return e.bulkDelete.apply(e,r)},CREATE_BULK:function(e,t){var r=t.table,n=t.payload;return e.bulkCreate.call(e,r,o(e,n))},UPSERT_BULK:function(e,t){var r=t.table,n=t.payload;return e.bulkUpsert.call(e,r,o(e,n))},SET_RELATION:function(e,t){return u(e,"setRelation",{table:t.table,payload:t.payload})},DELETE_RELATION:function(e,t){return u(e,"deleteRelation",{table:t.table,payload:t.payload})},ADD_RELATION:function(e,t){return u(e,"addToRelation",{table:t.table,payload:t.payload})},FIND:function(e,t){var n=t.table,o=t.payload;return e.addOperations(r.OperationType.FIND,n,o)}};function a(e,t){var r=t.table,s=t.payload,i=[];if(s.conditional)i.push(r),i.push(s.conditional);else{var a=o(e,s.unconditional);a instanceof n.OpResult||i.push(r),i.push(a)}return i}function u(e,t,r){var n=r.table,s=r.payload,i=[n];return"string"==typeof s.parentObject?i.push({objectId:s.parentObject}):i.push(o(e,s.parentObject)),i.push(s.relationColumn),i.push(s.conditional||o(e,s.unconditional)),e[t].apply(e,i)}return Ko.OperationJSONAdapter=i,Ko}(),w=Yo(),k=Jo(),O=["meta"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=function(e){(0,l.default)(r,e);var t=R(r);function r(e,n){var o;return(0,u.default)(this,r),(o=t.call(this,e.message)).code=e.code,o.operation=n,o}return(0,c.default)(r,[{key:"toJSON",value:function(){return{message:this.message,operation:this.operation}}}]),r}((0,h.default)(Error)),j=function(){function e(t){var r=t.success,n=t.error,o=t.results;(0,u.default)(this,e),this.success=r,this.error=n,this.results=o}return(0,c.default)(e,[{key:"isSuccess",value:function(){return this.success}},{key:"getError",value:function(){return this.error}},{key:"getResults",value:function(){return this.results}}]),e}(),C=function(){function e(t,r){(0,u.default)(this,e),this.app=r,this.payload={isolationLevelEnum:t,operations:[]},this.usedOpIds={}}var t;return(0,c.default)(e,[{key:"getOpResultById",value:function(e){return this.payload.operations.find((function(t){return t.meta.opResult.getOpResultId()===e})).meta.opResult}},{key:"setIsolationLevel",value:function(e){this.payload.isolationLevelEnum=e}},{key:"getOpStackName",value:function(e,t){return"".concat(e.toLowerCase()).concat(t)}},{key:"getNextOpResultIndex",value:function(e){return this.usedOpIds[e]||(this.usedOpIds[e]=0),++this.usedOpIds[e]}},{key:"addOperations",value:function(e,t,r){Array.isArray(r)?r=r.map((function(e){return delete e.___jsonclass,e})):delete r.___jsonclass;var n=new w.OpResult(this,{operationType:e,table:t,payload:r});return this.payload.operations.push({operationType:e,table:t,payload:r,meta:{opResult:n}}),n}},{key:"composePayload",value:function(){return x(x({},this.payload),{},{operations:this.payload.operations.map((function(e){var t=e.meta;return x(x({},(0,i.default)(e,O)),{},{opResultId:t.opResult.getOpResultId()})}))})}},{key:"execute",value:(t=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.app.request.post({url:this.app.urls.transactions(),data:this.composePayload()});case 2:return t=e.sent,e.abrupt("return",this.setResult(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setResult",value:function(e){if(e.results&&this.payload.operations.forEach((function(t){var r=t.meta.opResult.getOpResultId();e.results[r]&&t.meta.opResult.setResult(e.results[r].result)})),e.error){var t=this.payload.operations.find((function(t){return e.error.operation.opResultId===t.meta.opResult.getOpResultId()}));e.error=new T(e.error,t.meta.opResult),t.meta.opResult.setError(e.error)}return new j(e)}},{key:"find",value:function(e,t){var r=t instanceof v.default?t.toJSON():t||{};if(!e||"string"!=typeof e)throw new Error("Invalid arguments");if("object"!==(0,n.default)(r)||Array.isArray(r))throw new Error("Invalid arguments");var o={queryOptions:{}};return r.pageSize>0&&(o.pageSize=r.pageSize),r.offset>0&&(o.offset=r.offset),r.properties&&(o.properties=r.properties),r.excludeProps&&(o.excludeProps=r.excludeProps),r.excludeProps&&(o.excludeProps=r.excludeProps),r.where&&(o.whereClause=r.where),r.having&&(o.havingClause=r.having),r.groupBy&&(o.groupBy=r.groupBy),r.sortBy&&(o.queryOptions.sortBy=r.sortBy),r.relations&&(o.queryOptions.related=r.relations),r.relationsDepth&&(o.queryOptions.relationsDepth=r.relationsDepth),r.relationsPageSize>0&&(o.queryOptions.relationsPageSize=r.relationsPageSize),this.addOperations(m.OperationType.FIND,e,o)}},{key:"upsert",value:function(){var e,t;if(1===arguments.length)e=y.default.getClassName(arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length)throw new Error("Invalid arguments");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}if(!e||"string"!=typeof e)throw new Error("Invalid arguments");if(!t||"object"!==(0,n.default)(t)||Array.isArray(t))throw new Error("Invalid arguments");return this.addOperations(m.OperationType.UPSERT,e,t)}},{key:"create",value:function(){var e,t;if(1===arguments.length)e=y.default.getClassName(arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length)throw new Error("Invalid arguments");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}if(!e||"string"!=typeof e)throw new Error("Invalid arguments");if(!t||"object"!==(0,n.default)(t)||Array.isArray(t))throw new Error("Invalid arguments");return this.addOperations(m.OperationType.CREATE,e,t)}},{key:"update",value:function(){for(var e,t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];if(1===n.length)e=y.default.getClassName(n[0]),t=n[0];else if(2===n.length&&"string"==typeof n[0])e=n[0],t=n[1];else{if(!(n[0]instanceof w.OpResult||n[0]instanceof k.OpResultValueReference))throw new Error("Invalid arguments");if(e=n[0].getTableName(),t={objectId:n[0]},3===n.length&&"string"==typeof n[1])t[n[1]]=n[2];else{if(2!==n.length)throw new Error("Invalid arguments");t=x(x({},t),n[1])}}if(!e||"string"!=typeof e)throw new Error("Invalid arguments");return this.addOperations(m.OperationType.UPDATE,e,t)}},{key:"delete",value:function(){for(var e,t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];if(1===o.length)o[0]instanceof w.OpResult||o[0]instanceof k.OpResultValueReference?(e=o[0].getTableName(),t=o[0]):o[0]&&"object"===(0,n.default)(o[0])&&!Array.isArray(o[0])&&(e=y.default.getClassName(o[0]),t=o[0].objectId);else{if(2!==o.length)throw new Error("Invalid arguments");e=o[0],t=o[1]&&o[1].objectId||o[1]}if(!t||Array.isArray(t)||"string"!=typeof t&&"object"!==(0,n.default)(t))throw new Error("Invalid arguments");if(!e||"string"!=typeof e)throw new Error("Table Name must be a string.");return this.addOperations(m.OperationType.DELETE,e,t)}},{key:"bulkUpsert",value:function(e,t){if(Array.isArray(e)&&(t=e,e=y.default.getClassName(t[0])),!t||!Array.isArray(t))throw new Error("Objects must be an array of objects.");if(!e||"string"!=typeof e)throw new Error("Table Name must be a string.");return this.addOperations(m.OperationType.UPSERT_BULK,e,t)}},{key:"bulkCreate",value:function(e,t){if(Array.isArray(e)&&(t=e,e=y.default.getClassName(t[0])),!t||!Array.isArray(t))throw new Error("Objects must be an array of objects.");if(!e||"string"!=typeof e)throw new Error("Table Name must be a string.");return this.addOperations(m.OperationType.CREATE_BULK,e,t)}},{key:"bulkUpdate",value:function(){for(var e,t={},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];if(2===n.length)t.changes=n[1],"string"==typeof n[0]?(e=y.default.getClassName(n[1]),t.conditional=n[0]):n[0]instanceof w.OpResult&&(e=n[0].getTableName(),t.unconditional=n[0]);else{if(3!==n.length)throw new Error("Invalid arguments");if(e=n[0],t.changes=n[2],"string"==typeof n[1])t.conditional=n[1];else{if(!Array.isArray(n[1]))throw new Error("Invalid arguments");t.unconditional=n[1].map((function(e){return e.objectId||e}))}}if(!e||"string"!=typeof e)throw new Error("Table Name must be a string.");return this.addOperations(m.OperationType.UPDATE_BULK,e,t)}},{key:"bulkDelete",value:function(){for(var e,t={},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];if(1===n.length)if(n[0]instanceof w.OpResult)e=n[0].getTableName(),t.unconditional=n[0];else{if(!Array.isArray(n[0]))throw new Error("Invalid arguments");e=y.default.getClassName(n[0][0]),t.unconditional=n[0].map((function(e){return e.objectId}))}else{if(2!==n.length)throw new Error("Invalid arguments");if(e=n[0],"string"==typeof n[1])t.conditional=n[1];else{if(!Array.isArray(n[1]))throw new Error("Invalid arguments");t.unconditional=n[1].map((function(e){return e.objectId||e}))}}if(!e||"string"!=typeof e)throw new Error("Table Name must be a string.");return this.addOperations(m.OperationType.DELETE_BULK,e,t)}},{key:"addToRelation",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.relationsOperation(m.OperationType.ADD_RELATION,t)}},{key:"setRelation",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.relationsOperation(m.OperationType.SET_RELATION,t)}},{key:"deleteRelation",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.relationsOperation(m.OperationType.DELETE_RELATION,t)}},{key:"relationsOperation",value:function(e,t){var r,o,s,i,a,u;if(3===t.length)if(s=t[0],o=t[1],u=t[2],s instanceof w.OpResult||s instanceof k.OpResultValueReference)r=s.getTableName();else{if(!s||"object"!==(0,n.default)(s))throw new Error("Invalid the first argument, it must be an instance of [OpResult|OpResultValueReference|Object]");r=y.default.getClassName(s)}else{if(4!==t.length)throw new Error("Invalid arguments");if(r=t[0],o=t[2],u=t[3],"string"==typeof t[1])s=t[1];else{if(!t[1]||"object"!==(0,n.default)(t[1]))throw new Error("Invalid the second argument, it must be an Object or objectId");s=t[1]}}if(s&&s.objectId&&(s=s.objectId),"string"==typeof u?i=u:u instanceof w.OpResult&&u.isCollectionRef()?a=u:(Array.isArray(u)||(u=[u]),a=u.map((function(e){if(e){if(e instanceof w.OpResult||e instanceof k.OpResultValueReference)return e;if("string"==typeof e)return e;if(e.objectId)return e.objectId}throw new Error("Invalid child argument, it must be an instance of [OpResult|OpResultValueReference|Object] or objectId")}))),!o||"string"!=typeof o)throw new Error('Invalid "relationColumn" parameter, check passed arguments');if(!a&&!i)throw new Error('Neither "unconditional" nor "conditional" parameter is specified, check passed arguments');if(!r||"string"!=typeof r)throw new Error("Table Name must be a string.");var c={parentObject:s,relationColumn:o};return i?c.conditional=i:c.unconditional=a,this.addOperations(e,r,c)}}]),e}();(0,a.default)(C,"IsolationLevelEnum",m.IsolationLevelEnum),(0,a.default)(C,"OpResult",w.OpResult),(0,a.default)(C,"OpResultValueReference",k.OpResultValueReference)}(To)),To}var Qo,$o,Zo={},es={};function ts(){return $o||($o=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=t((Qo||(Qo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t){(0,r.default)(this,e),this.app=t}return(0,n.default)(e,[{key:"createTable",value:function(e,t){if(!e||"string"!=typeof e)throw new Error("Table name must be provided and must be a string.");if(!Array.isArray(t))throw new Error("Columns must be a list.");return this.app.request.post({url:this.app.urls.managementDataTable(),data:{name:e,columns:t}})}}]),e}();e.default=o}(es)),es)),i=(0,r.default)((function e(t){(0,n.default)(this,e),this.app=t,this.Data=new o.default(t)}));e.default=i}(Zo)),Zo}var rs,ns={};var os,ss={};var is,as,us={};const cs=t((as||(as=1,function(t,r){var n=s();Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(u()),i=n(g()),a=n(E()),c=n(_()),l=n(d()),f=n(T()),p=n((j||(j=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(g()),n=t(E()),o=t(_()),i=t(T());function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"},l=function(){function e(t){(0,n.default)(this,e),this.app=t,this.Methods=c}return(0,o.default)(e,[{key:"send",value:function(e){i.default.verbose=!!this.app.debugMode,i.default.XMLHttpRequest=this.app.XMLHttpRequest;var t=e.method.toLowerCase(),r=e.headers||{},n=this.app.getCurrentUserToken();return n&&(r["user-token"]=n),e.queryString&&(e.url="".concat(e.url,"?").concat(e.queryString)),i.default[t](e.url,e.data).set(r).query(e.query).form(e.form)}},{key:"get",value:function(e){return this.send(u(u({},e),{},{method:c.GET}))}},{key:"post",value:function(e){return this.send(u(u({},e),{},{method:c.POST}))}},{key:"put",value:function(e){return this.send(u(u({},e),{},{method:c.PUT}))}},{key:"delete",value:function(e){return this.send(u(u({},e),{},{method:c.DELETE}))}}]),e}();e.default=l}(C)),C)),h=n((P||(P=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=function(){function e(t){(0,r.default)(this,e),this.app=t}return(0,n.default)(e,[{key:"root",value:function(){if(!this.app.appPath)throw new Error("Backendless API is not configured, make sure you run Backendless.initApp(...) before the operation");return this.app.appPath}},{key:"appInfo",value:function(){return"".concat(this.root(),"/info")}},{key:"automation",value:function(){return"".concat(this.app.automationPath,"/automation")}},{key:"automationFlow",value:function(){return"".concat(this.automation(),"/flow")}},{key:"automationFlowExecutionContext",value:function(e){return"".concat(this.automation(),"/flow/execution-context/").concat(e)}},{key:"automationFlowTrigger",value:function(){return"".concat(this.automationFlow(),"/trigger")}},{key:"blServices",value:function(){return"".concat(this.root(),"/services")}},{key:"blServiceMethod",value:function(e,t){return"".concat(this.blServices(),"/").concat(e,"/").concat(t)}},{key:"blEvent",value:function(e){return"".concat(this.root(),"/servercode/events/").concat(e)}},{key:"logging",value:function(){return"".concat(this.root(),"/log")}},{key:"loggingLevels",value:function(){return"".concat(this.logging(),"/logger")}},{key:"cache",value:function(){return"".concat(this.root(),"/cache")}},{key:"cacheItem",value:function(e){return"".concat(this.cache(),"/").concat(e)}},{key:"cacheItemExpireIn",value:function(e){return"".concat(this.cacheItem(e),"/expireIn")}},{key:"cacheItemExpireAt",value:function(e){return"".concat(this.cacheItem(e),"/expireAt")}},{key:"cacheItemCheck",value:function(e){return"".concat(this.cacheItem(e),"/check")}},{key:"counters",value:function(){return"".concat(this.root(),"/counters")}},{key:"countersList",value:function(e){return"".concat(this.counters(),"/").concat(e||"*","/list")}},{key:"counter",value:function(e){return"".concat(this.counters(),"/").concat(e)}},{key:"counterAddAndGet",value:function(e){return"".concat(this.counter(e),"/incrementby/get")}},{key:"counterGetAndAdd",value:function(e){return"".concat(this.counter(e),"/get/incrementby")}},{key:"counterIncrementAndGet",value:function(e){return"".concat(this.counter(e),"/increment/get")}},{key:"counterDecrementAndGet",value:function(e){return"".concat(this.counter(e),"/decrement/get")}},{key:"counterGetAndDecrement",value:function(e){return"".concat(this.counter(e),"/get/decrement")}},{key:"counterGetAndIncrement",value:function(e){return"".concat(this.counter(e),"/get/increment")}},{key:"counterCompareAndSet",value:function(e){return"".concat(this.counter(e),"/get/compareandset")}},{key:"counterReset",value:function(e){return"".concat(this.counter(e),"/reset")}},{key:"data",value:function(){return"".concat(this.root(),"/data")}},{key:"dataGrouping",value:function(e){return"".concat(this.data(),"/data-grouping/").concat(e)}},{key:"dataTable",value:function(e){return"".concat(this.data(),"/").concat(e)}},{key:"dataTableUpsert",value:function(e){return"".concat(this.data(),"/").concat(e,"/upsert")}},{key:"dataTableDeepSave",value:function(e){return"".concat(this.data(),"/").concat(e,"/deep-save")}},{key:"dataTableFind",value:function(e){return"".concat(this.dataTable(e),"/find")}},{key:"dataTablePrimaryKey",value:function(e){return"".concat(this.dataTable(e),"/pk")}},{key:"dataTableObject",value:function(e,t){return"".concat(this.dataTable(e),"/").concat(encodeURIComponent(t))}},{key:"dataTableObjectRelation",value:function(e,t,r){return"".concat(this.dataTableObject(e,t),"/").concat(r)}},{key:"dataTableCount",value:function(e){return"".concat(this.dataTable(e),"/count")}},{key:"dataTableProps",value:function(e){return"".concat(this.dataTable(e),"/properties")}},{key:"dataBulkTable",value:function(e){return"".concat(this.data(),"/bulk/").concat(e)}},{key:"dataBulkTableUpsert",value:function(e){return"".concat(this.data(),"/bulkupsert/").concat(e)}},{key:"dataBulkTableDelete",value:function(e){return"".concat(this.dataBulkTable(e),"/delete")}},{key:"dataObjectPermission",value:function(e,t,r){return"".concat(this.dataTable(e),"/permissions/").concat(t,"/").concat(r)}},{key:"dataTableNameById",value:function(e){return"".concat(this.data(),"/").concat(e,"/table-name")}},{key:"transactions",value:function(){return"".concat(this.root(),"/transaction/unit-of-work")}},{key:"dataHives",value:function(){return"".concat(this.root(),"/hive")}},{key:"dataHive",value:function(e){return"".concat(this.dataHives(),"/").concat(e)}},{key:"hiveStore",value:function(e,t){return"".concat(this.dataHive(e),"/").concat(t)}},{key:"messaging",value:function(){return"".concat(this.root(),"/messaging")}},{key:"messagingPush",value:function(){return"".concat(this.messaging(),"/push")}},{key:"messagingPushTemplates",value:function(e){return"".concat(this.messaging(),"/pushtemplates/").concat(e)}},{key:"messagingPushWithTemplate",value:function(e){return"".concat(this.messagingPush(),"/").concat(e)}},{key:"messagingEmail",value:function(){return"".concat(this.messaging(),"/email")}},{key:"messagingChannel",value:function(e){return"".concat(this.messaging(),"/").concat(e)}},{key:"messagingChannels",value:function(){return"".concat(this.messaging(),"/channels")}},{key:"messagingChannelName",value:function(e){return"".concat(this.messagingChannels(),"/").concat(e)}},{key:"messagingMessage",value:function(e){return"".concat(this.messaging(),"/").concat(e)}},{key:"messagingRegistrations",value:function(){return"".concat(this.messaging(),"/registrations")}},{key:"messagingRegistrationDevice",value:function(e){return"".concat(this.messagingRegistrations(),"/").concat(e)}},{key:"emailTemplate",value:function(){return"".concat(this.root(),"/emailtemplate")}},{key:"emailTemplateSend",value:function(){return"".concat(this.emailTemplate(),"/send")}},{key:"commerce",value:function(){return"".concat(this.root(),"/commerce/googleplay")}},{key:"commerceValidate",value:function(e,t,r){return"".concat(this.commerce(),"/validate/").concat(e,"/inapp/").concat(t,"/purchases/").concat(r)}},{key:"commerceSubCancel",value:function(e,t,r){return"".concat(this.commerce(),"/").concat(e,"/subscription/").concat(t,"/purchases/").concat(r,"/cancel")}},{key:"commerceSubStatus",value:function(e,t,r){return"".concat(this.commerce(),"/").concat(e,"/subscription/").concat(t,"/purchases/").concat(r)}},{key:"files",value:function(){return"".concat(this.root(),"/files")}},{key:"filePath",value:function(e){return"".concat(this.files(),"/").concat(e)}},{key:"directoryPath",value:function(e){return"".concat(this.files(),"/").concat(e,"/")}},{key:"fileCopy",value:function(){return"".concat(this.files(),"/copy")}},{key:"fileMove",value:function(){return"".concat(this.files(),"/move")}},{key:"fileRename",value:function(){return"".concat(this.files(),"/rename")}},{key:"filePermissions",value:function(){return"".concat(this.files(),"/permissions")}},{key:"filePermission",value:function(e,t){return"".concat(this.filePermissions(),"/").concat(e,"/").concat(encodeURIComponent(t))}},{key:"fileBinaryPath",value:function(e){return"".concat(this.files(),"/binary/").concat(e)}},{key:"fileAppendPath",value:function(e){return"".concat(this.files(),"/append/").concat(e)}},{key:"fileAppendBinaryPath",value:function(e){return"".concat(this.files(),"/append/binary/").concat(e)}},{key:"users",value:function(){return"".concat(this.root(),"/users")}},{key:"userObject",value:function(e){return"".concat(this.users(),"/").concat(e)}},{key:"userRegister",value:function(){return"".concat(this.users(),"/register")}},{key:"userLogin",value:function(){return"".concat(this.users(),"/login")}},{key:"userLogout",value:function(){return"".concat(this.users(),"/logout")}},{key:"userRoles",value:function(e){return"".concat(this.users(),"/userroles").concat(e?"/".concat(e):"")}},{key:"usersRole",value:function(e){return"".concat(this.users(),"/role/").concat(e)}},{key:"userRoleOperation",value:function(e){return"".concat(this.users(),"/").concat(e)}},{key:"userClassProps",value:function(){return"".concat(this.users(),"/userclassprops")}},{key:"userRestorePassword",value:function(e){return"".concat(this.users(),"/restorepassword/").concat(encodeURIComponent(e))}},{key:"userTokenCheck",value:function(e){return"".concat(this.users(),"/isvalidusertoken/").concat(e)}},{key:"userVerifyPassowrd",value:function(){return"".concat(this.users(),"/verifypassowrd")}},{key:"userResendConfirmation",value:function(e){return"".concat(this.users(),"/resendconfirmation/").concat(e)}},{key:"userCreateConfirmationURL",value:function(e){return"".concat(this.users(),"/createEmailConfirmationURL/").concat(e)}},{key:"userSocial",value:function(){return"".concat(this.users(),"/social")}},{key:"userSocialOAuth",value:function(e){return"".concat(this.userSocial(),"/oauth/").concat(e.toLowerCase(),"/request_url")}},{key:"userSocialLogin",value:function(e){return"".concat(this.userSocial(),"/").concat(e.toLowerCase(),"/sdk/login")}},{key:"userOAuthLogin",value:function(e){return"".concat(this.userSocial(),"/").concat(e.toLowerCase(),"/login")}},{key:"userAuthorizationURL",value:function(e){return"".concat(this.users(),"/oauth/").concat(e.toLowerCase(),"/request_url")}},{key:"guestLogin",value:function(){return"".concat(this.users(),"/register/guest")}},{key:"userStatus",value:function(e){return"".concat(this.userObject(e),"/status")}},{key:"management",value:function(){return"".concat(this.root(),"/management")}},{key:"managementData",value:function(){return"".concat(this.management(),"/data")}},{key:"managementDataTable",value:function(){return"".concat(this.managementData(),"/table")}}]),e}();e.default=o}(A)),A)),y=n(I()),v=n(D());function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b={appId:null,apiKey:null,serverURL:"https://api.backendless.com",automationServerURL:null,domain:null,apiURI:"/api",debugMode:!1,standalone:!1,XMLHttpRequest:"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:void 0},w=["appId","apiKey","domain"],k="object"===("undefined"==typeof self?"undefined":(0,l.default)(self))&&self.self===self&&self||"object"===(void 0===e?"undefined":(0,l.default)(e))&&e.global===e&&e,O=k&&k.Backendless,S=function e(){e.isShown||(console.warn("Backendless.Persistence is deprecated namespace, use Backendless.Data instead"),e.isShown=!0)},x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=t[1];return n&&"object"===(0,l.default)(n)?n:"string"!=typeof n||o?{appId:n,apiKey:o}:{domain:n}},R={Logging:function(){return Ie().default},Counters:function(){return qe().default},Cache:function(){return(Fe||(Fe=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t(I()),u=function(){function e(t){(0,o.default)(this,e),this.app=t,this.parsers={}}var t,s,u,c,l,f;return(0,i.default)(e,[{key:"setObjectFactory",value:function(e,t){this.parsers[e]=t}},{key:"parseItem",value:function(e){var t=e&&e.___class;if(t){var r=this.parsers[t];r&&(e=new r(e))}return e}},{key:"stringifyItem",value:function(e){return a.default.isCustomClassInstance(e)&&(e.___class=e.___class||a.default.getClassName(e)),JSON.stringify(e)}},{key:"put",value:(f=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:if(!o||!("number"!=typeof o||o<0)){e.next=4;break}throw new Error("Cache TimeToLive must be a positive number.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.cacheItem(t),query:{timeout:o},headers:{"Content-Type":"application/json"},data:this.stringifyItem(n)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"get",value:(l=(0,n.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.cacheItem(t)}).then((function(e){return n.parseItem(e)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"remove",value:(c=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.delete({url:this.app.urls.cacheItem(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"contains",value:(u=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.cacheItemCheck(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"expireIn",value:(s=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:if(!("number"!=typeof n||n<=0)){e.next=4;break}throw new Error("Cache Expiration must be provided and must be a number of seconds.");case 4:return e.abrupt("return",this.app.request.put({url:this.app.urls.cacheItemExpireIn(t),query:{timeout:n},data:{}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"expireAt",value:(t=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Cache Key must be provided and must be a string.");case 2:if(!(n instanceof Date)){e.next=6;break}n=n.getTime(),e.next=8;break;case 6:if(!("number"!=typeof n||n<=0)){e.next=8;break}throw new Error("Cache Expiration must be provided and must be a timestamp or an instance of Date.");case 8:return e.abrupt("return",this.app.request.put({url:this.app.urls.cacheItemExpireAt(t),query:{timestamp:n},data:{}}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();e.default=u}(Ge)),Ge).default},Commerce:function(){return(He||(He=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=function(){function e(t){(0,o.default)(this,e),this.app=t}var t,s,a;return(0,i.default)(e,[{key:"validatePlayPurchase",value:(a=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Package Name must be provided and must be a string.");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("Product Id must be provided and must be a string.");case 4:if(o&&"string"==typeof o){e.next=6;break}throw new Error("Token must be provided and must be a string.");case 6:return e.abrupt("return",this.app.request.get({url:this.app.urls.commerceValidate(t,n,o)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"cancelPlaySubscription",value:(s=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Package Name must be provided and must be a string.");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("Subscription Id must be provided and must be a string.");case 4:if(o&&"string"==typeof o){e.next=6;break}throw new Error("Token must be provided and must be a string.");case 6:return e.abrupt("return",this.app.request.post({url:this.app.urls.commerceSubCancel(t,n,o)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return s.apply(this,arguments)})},{key:"getPlaySubscriptionStatus",value:(t=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Package Name must be provided and must be a string.");case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error("Subscription Id must be provided and must be a string.");case 4:if(o&&"string"==typeof o){e.next=6;break}throw new Error("Token must be provided and must be a string.");case 6:return e.abrupt("return",this.app.request.get({url:this.app.urls.commerceSubStatus(t,n,o)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();e.default=a}(Ve)),Ve).default},Users:function(){return ut().default},BL:function(){return bt().default},Data:function(){return(nn||(nn=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(g()),i=t(E()),a=t(_()),u=t(I()),c=t(Xe()),l=t(Qr()),f=t(tt()),p=t(en()),d=t(hr()),h=t(mr()),y=t(Fr()),v=t(Vr()),m=t(Yr()),b=t(qr()),w=t(_r()),k=t(Ur()),O=t(Tr()),S=t(un()),x=function(){function e(t){(0,i.default)(this,e),this.app=t,this.classToTableMap=(0,o.default)({},c.default.className,c.default),this.Permissions={FIND:new S.default("FIND",t),REMOVE:new S.default("REMOVE",t),UPDATE:new S.default("UPDATE",t)},this.QueryBuilder=f.default,this.GroupQueryBuilder=p.default,this.LoadRelationsQueryBuilder=d.default,this.JSONUpdateBuilder=h.default,this.Point=y.default,this.LineString=v.default,this.Polygon=m.default,this.Geometry=b.default,this.GeoJSONParser=O.default,this.WKTParser=k.default,this.SpatialReferenceSystem=w.default}var t,s;return(0,a.default)(e,[{key:"of",value:function(e){return new l.default(e,this)}},{key:"describe",value:(s=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="string"==typeof t?t:u.default.getClassName(t),e.abrupt("return",this.app.request.get({url:this.app.urls.dataTableProps(t)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getTableNameById",value:(t=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.app.request.get({url:this.app.urls.dataTableNameById(t)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"mapTableToClass",value:function(e,t){if("function"==typeof e&&(t=e,e=u.default.getClassName(t)),!e||"string"!=typeof e)throw new Error("Table Name must be provided and must be a string.");if(!t||"function"!=typeof t)throw new Error("Class must be provided and must be a constructor function.");this.classToTableMap[e]=t}}]),e}();e.default=x}(wt)),wt).default},Hive:function(){return Bn().default},Messaging:function(){return(ro||(ro=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(u()),o=t(d()),i=t(Pe()),a=t(E()),c=t(_()),l=t(Vn()),f=oo(),p=function(){function e(t){(0,a.default)(this,e),this.app=t,this.Bodyparts=f.Bodyparts,this.PublishOptions=f.PublishOptions,this.DeliveryOptions=f.DeliveryOptions,this.PublishOptionsHeaders=f.PublishOptionsHeaders,this.EmailEnvelope=f.EmailEnvelope}var t,s,u,p,d,y,v,m,b,g,w;return(0,c.default)(e,[{key:"subscribe",value:function(e){return h(e),new l.default({name:e},this.app)}},{key:"publish",value:(w=(0,i.default)(r.default.mark((function e(t,s,i,a){var u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(t),u={message:s},!i){e.next=6;break}if(!Array.isArray(i)&&"object"===(0,o.default)(i)){e.next=5;break}throw new Error('"publishOptions" argument must be an object.');case 5:(0,n.default)(u,i);case 6:if(!a){e.next=10;break}if(!Array.isArray(a)&&"object"===(0,o.default)(a)){e.next=9;break}throw new Error('"deliveryOptions" argument must be an object.');case 9:(0,n.default)(u,a);case 10:return e.abrupt("return",this.app.request.post({url:this.app.urls.messagingChannel(t),data:u}));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return w.apply(this,arguments)})},{key:"deleteChannel",value:(g=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.abrupt("return",this.app.request.delete({url:this.app.urls.messagingChannelName(t)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"pushWithTemplate",value:(b=(0,i.default)(r.default.mark((function e(t,n){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Push Template Name must be provided and must be a string.");case 2:return o={},n&&(o.templateValues=n),e.abrupt("return",this.app.request.post({url:this.app.urls.messagingPushWithTemplate(t),data:o}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"sendEmail",value:(m=(0,i.default)(r.default.mark((function e(t,n,s,i){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Email Subject must be provided and must be a string.");case 2:if(n&&!Array.isArray(n)&&"object"===(0,o.default)(n)){e.next=4;break}throw new Error("BodyParts must be an object");case 4:if(n.textmessage||n.htmlmessage){e.next=6;break}throw new Error("BodyParts must contain at least one property of [ textmessage | htmlmessage ]");case 6:if(Array.isArray(s)&&s.length){e.next=8;break}throw new Error("Recipients must be a non empty array.");case 8:return a={subject:t,bodyparts:n,to:s},Array.isArray(i)&&i.length&&(a.attachment=i),e.abrupt("return",this.app.request.post({url:this.app.urls.messagingEmail(),data:a}));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return m.apply(this,arguments)})},{key:"sendEmailFromTemplate",value:(v=(0,i.default)(r.default.mark((function e(t,n,o,s){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Email Template Name must be provided and must be a string.");case 2:if(n instanceof f.EmailEnvelope){e.next=4;break}throw new Error("EmailEnvelope is required and should be instance of Backendless.Messaging.EmailEnvelope");case 4:return(i=n.toJSON())["template-name"]=t,o&&!Array.isArray(o)&&(i["template-values"]=o),Array.isArray(o)&&!s&&(s=o),s&&(i.attachment=s),e.abrupt("return",this.app.request.post({url:this.app.urls.emailTemplateSend(),data:i}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"cancel",value:(y=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Message ID must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.delete({url:this.app.urls.messagingMessage(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"registerDevice",value:(d=(0,i.default)(r.default.mark((function e(t,n,o){var s,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.app.device,i={deviceToken:t,deviceId:s.uuid,os:s.platform,osVersion:s.version},Array.isArray(n)&&(i.channels=n),"number"==typeof o?i.expiration=o:o instanceof Date&&(i.expiration=o.getTime()/1e3),e.abrupt("return",this.app.request.post({url:this.app.urls.messagingRegistrations(),data:i}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"getRegistrations",value:(p=(0,i.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.app.device,e.abrupt("return",this.app.request.get({url:this.app.urls.messagingRegistrationDevice(t.uuid)}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"unregisterDevice",value:(u=(0,i.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.app.device,e.abrupt("return",this.app.request.delete({url:this.app.urls.messagingRegistrationDevice(t.uuid)}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getMessageStatus",value:(s=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Message ID must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.messagingMessage(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getPushTemplates",value:(t=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Device Type must be provided and must be a string.");case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.messagingPushTemplates(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function h(e){if(!e||"string"!=typeof e)throw new Error("Channel Name must be provided and must be a string.");if(e.indexOf("/")>=0)throw new Error("Channel Name can not contain slash chars")}e.default=p}(qn)),qn).default},Files:function(){return po().default},RT:function(){return lr().default},SharedObject:function(){return(yo||(yo=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(E()),n=t(_()),o=t(bo()),i=function(){function e(t){(0,r.default)(this,e),this.app=t}return(0,n.default)(e,[{key:"connect",value:function(e){return new o.default({name:e},this.app)}}]),e}();e.default=i}(vo)),vo).default},LocalCache:function(){return xo().default},UnitOfWork:function(){return Xo().default},Management:function(){return ts().default},Automations:function(){return(rs||(rs=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(pe()),n=t(Pe()),o=t(E()),i=t(_()),a=t(I()),u=function(){function e(t){(0,o.default)(this,e),this.app=t}var t,s,u,c,l;return(0,i.default)(e,[{key:"activateFlow",value:(l=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('The "flowName" argument must be provided and must be a string.');case 2:if(void 0===n||a.default.isObject(n)){e.next=4;break}throw new Error('The "initialData" argument must be an object.');case 4:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.automationFlow(),"/activate-by-name"),data:{name:t,initialData:n}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"loadFlowExecutionContext",value:(c=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('The "executionId" argument must be provided and must be a string.');case 2:return e.abrupt("return",this.app.request.get({url:this.app.urls.automationFlowExecutionContext(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"activateFlowById",value:(u=(0,n.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('The "flowId" argument must be provided and must be a string.');case 2:if(void 0===n||a.default.isObject(n)){e.next=4;break}throw new Error('The "initialData" argument must be an object.');case 4:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.automationFlow(),"/").concat(t,"/activate"),data:n||{}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"activateFlowTrigger",value:(s=(0,n.default)(r.default.mark((function e(t,n,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('The "flowName" argument must be provided and must be a string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error('The "triggerName" argument must be provided and must be a string.');case 4:if(void 0===o||a.default.isObject(o)){e.next=6;break}throw new Error('The "data" argument must be an object.');case 6:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.automationFlowTrigger(),"/activate-by-name"),query:{flowName:t,triggerName:n},data:o||{}}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return s.apply(this,arguments)})},{key:"activateFlowTriggerById",value:(t=(0,n.default)(r.default.mark((function e(t,n,o,s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error('The "flowId" argument must be provided and must be a string.');case 2:if(n&&"string"==typeof n){e.next=4;break}throw new Error('The "triggerId" argument must be provided and must be a string.');case 4:if(void 0===o||a.default.isObject(o)){e.next=6;break}throw new Error('The "data" argument must be an object.');case 6:if(void 0===s||"string"==typeof s&&s){e.next=8;break}throw new Error('The "execution" argument must be a non-empty string and must be one of this values: "any", "all" or Execution ID.');case 8:return e.abrupt("return",this.app.request.post({url:"".concat(this.app.urls.automationFlow(),"/").concat(t,"/trigger/").concat(n,"/activate"),data:o||{},query:{execution:s}}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}();e.default=u}(ns)),ns).default}},N=function(){function e(t){(0,a.default)(this,e),this.initConfig(t),this.Request=f.default,this.request=new p.default(this),this.urls=new h.default(this)}return(0,c.default)(e,[{key:"initConfig",value:function(e){for(var t in e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),e.domain&&(delete e.appId,delete e.apiKey),b)if(b.hasOwnProperty(t)){var r="__".concat(t);w.includes(t)&&delete this[r];var n=void 0===this[r]?b[t]:this[r];this[r]=void 0===e[t]?n:e[t]}}},{key:"initApp",value:function(){var t=x.apply(void 0,arguments);!function(e){if(e.domain&&!e.domain.startsWith("https://")&&!e.domain.startsWith("http://"))throw new Error("When initialize the SDK with a custom domain it should start with http:// or https://, for example: Backendless.initApp('https://foobar.com')")}(t);var r=t.standalone?new e(this):this;r.initConfig(t),r.resetRT(),r.__removeService("LocalCache"),r.appInfoPromise();var n=(0,o.default)({loadLevels:!0,globalLevel:"all",levels:{}},t.logging);return r.__hasService("Logging")&&(r.Logging.reset(),r.Logging.setConfig(n)),r.__hasService("Users")&&(r.Users.currentUser=null),delete this.__device,r.loggingConfig=n,r}},{key:"appInfoPromise",value:function(e){var t=this;return!e&&this.__appInfoPromise||(this.__appInfoPromise=new Promise((function(e,r){t.request.get({url:t.urls.appInfo()}).then(e).catch(r)}))),this.__appInfoPromise}},{key:"__hasService",value:function(e){return!!this["__".concat(e)]}},{key:"__removeService",value:function(e){delete this["__".concat(e)]}},{key:"__getService",value:function(e){var t="__".concat(e);if(!this[t]){var r=R[e]();this[t]=new r(this)}return this[t]}},{key:"standalone",get:function(){return this.__standalone},set:function(e){throw new Error("Setting value to Backendless.standalone directly is not possible, "+"instead you must use Backendless.initApp({ appId: [APP_ID], apiKey: [API_KEY], standalone: ".concat(e," })"))}},{key:"appId",get:function(){return this.__appId},set:function(e){throw new Error("Setting '".concat(e,"' value to Backendless.appId directly is not possible, ")+"instead you must use Backendless.initApp('".concat(e,"', API_KEY)"))}},{key:"apiKey",get:function(){return this.__apiKey},set:function(e){throw new Error("Setting '".concat(e,"' value to Backendless.apiKey directly is not possible, ")+"instead you must use Backendless.initApp(APP_ID, '".concat(e,"')"))}},{key:"serverURL",get:function(){return this.__serverURL},set:function(e){this.__serverURL=e}},{key:"automationServerURL",get:function(){return this.__automationServerURL},set:function(e){this.__automationServerURL=e}},{key:"domain",get:function(){return this.__domain},set:function(e){this.__domain=e}},{key:"apiURI",get:function(){return this.__apiURI},set:function(e){this.__apiURI=e}},{key:"appPath",get:function(){return this.domain?this.domain+this.apiURI:this.appId&&this.apiKey?[this.serverURL,this.appId,this.apiKey].join("/"):null},set:function(e){throw new Error("Setting '".concat(e,"' value to Backendless.appPath directly is not possible, ")+"instead you must use Backendless.initApp(APP_ID, API_KEY) for setup the value")}},{key:"automationPath",get:function(){return this.automationServerURL?[this.automationServerURL,this.appId,this.apiKey].join("/"):this.appPath},set:function(e){throw new Error("Setting '".concat(e,"' value to Backendless.automationPath directly is not possible"))}},{key:"debugMode",get:function(){return this.__debugMode},set:function(e){e=!!e,this.__debugMode!==e&&(this.__debugMode=e,this.__RT&&this.RT.setDebugMode(e))}},{key:"XMLHttpRequest",get:function(){return this.__XMLHttpRequest},set:function(e){this.__XMLHttpRequest=e}},{key:"device",get:function(){if(!this.__device)throw new Error("Device is not defined. Please, run the Backendless.setupDevice");return this.__device},set:function(e){throw new Error("Setting value to Backendless.device directly is not possible, instead you must use Backendless.setupDevice(deviceProperties) for setup the device")}},{key:"setupDevice",value:function(e){var t=(os||(os=1,function(e){var t=s();Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(_()),n=t(E()),o=(0,r.default)((function e(t){if((0,n.default)(this,e),!(t&&t.uuid&&t.platform&&t.version))throw new Error('Device properties object must consist of fields "uuid", "platform" and "version".');this.uuid=t.uuid,this.platform=t.platform.toUpperCase(),this.version=t.version}));e.default=o}(ss)),ss).default;this.__device=new t(e)}},{key:"Utils",get:function(){return y.default}},{key:"getCurrentUserToken",value:function(){return this.Users.getCurrentUserToken()}},{key:"setCurrentUserToken",value:function(e){this.Users.setCurrentUserToken(e)}},{key:"browser",get:function(){return function(){if(is)return us;is=1;var e=s();Object.defineProperty(us,"__esModule",{value:!0}),us.getUserAgent=function(){var e="NodeJS";t.default.isBrowser&&(e=navigator.userAgent?navigator.userAgent.toLowerCase():"hybrid-app");var r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:r[1]||"",version:r[2]||"0"},o={};return n.browser&&(o[n.browser]=!0,o.version=n.version),o};var t=e(I());return us}().getUserAgent()}},{key:"noConflict",value:function(){return k&&(k.Backendless=O),this}},{key:"Logging",get:function(){return this.__getService("Logging")}},{key:"Counters",get:function(){return this.__getService("Counters")}},{key:"Cache",get:function(){return this.__getService("Cache")}},{key:"Commerce",get:function(){return this.__getService("Commerce")}},{key:"Users",get:function(){return this.__getService("Users")}},{key:"User",get:function(){return Xe().default}},{key:"UserService",get:function(){return this.Users}},{key:"BL",get:function(){return this.__getService("BL")}},{key:"CustomServices",get:function(){return this.BL.CustomServices}},{key:"APIServices",get:function(){return this.BL.CustomServices}},{key:"Events",get:function(){return this.BL.Events}},{key:"Data",get:function(){return this.__getService("Data")}},{key:"Hive",get:function(){return this.__getService("Hive")}},{key:"Messaging",get:function(){return this.__getService("Messaging")}},{key:"Files",get:function(){return this.__getService("Files")}},{key:"RT",get:function(){return this.__getService("RT")}},{key:"resetRT",value:function(){this.__RT&&(this.__RT.terminate(),delete this.__RT)}},{key:"SharedObject",get:function(){return this.__getService("SharedObject")}},{key:"LocalCache",get:function(){return this.__getService("LocalCache")}},{key:"UnitOfWork",get:function(){return this.__getService("UnitOfWork")}},{key:"Management",get:function(){return this.__getService("Management")}},{key:"Automations",get:function(){return this.__getService("Automations")}},{key:"applicationId",get:function(){return this.appId},set:function(e){console.warn("getter/setter for Backendless.applicationId is deprecated, instead use Backendless.appId"),this.appId=e}},{key:"secretKey",get:function(){return console.warn("getter/setter for Backendless.secretKey is deprecated, instead use Backendless.apiKey"),this.apiKey},set:function(e){console.warn("getter/setter for Backendless.secretKey is deprecated, instead use Backendless.apiKey"),this.apiKey=e}},{key:"Persistence",get:function(){return S(),this.Data}},{key:"DataQueryBuilder",get:function(){return this.Data.QueryBuilder}},{key:"GroupQueryBuilder",get:function(){return this.Data.GroupQueryBuilder}},{key:"JSONUpdateBuilder",get:function(){return this.Data.JSONUpdateBuilder}},{key:"LoadRelationsQueryBuilder",get:function(){return this.Data.LoadRelationsQueryBuilder}},{key:"Bodyparts",get:function(){return this.Messaging.Bodyparts}},{key:"PublishOptions",get:function(){return this.Messaging.PublishOptions}},{key:"DeliveryOptions",get:function(){return this.Messaging.DeliveryOptions}},{key:"PublishOptionsHeaders",get:function(){return this.Messaging.PublishOptionsHeaders}},{key:"EmailEnvelope",get:function(){return this.Messaging.EmailEnvelope}},{key:"Expression",get:function(){return v.default}}]),e}(),L=new N(b);k&&(k.Backendless=L);var M=L;(r=t.exports=L).default=M}(n,n.exports)),n.exports));export{cs as B};
