import{l as o}from"./logoutAndDelete-DNZTl9xZ.js";import"./index-C1EFNDRC.js";import"./loadingGif-CLxvH4cC.js";import"./toast-BIaIkxlU.js";import"./indexedDButils-TR8NEaRF.js";import"./idb-nMDuyRcf.js";const t=localStorage.getItem("userEmail"),e=localStorage.getItem("userToken");if(console.log("Email salvata:",t),console.log("Token salvato:",e),t&&e)try{"true"===localStorage.getItem("isAuthenticated")?(console.log("Utente gi√† autenticato:",t),"login.html"===window.location.pathname.split("/").pop()&&(window.location.href="../index.html")):(console.log("Utente non autenticato o token non valido."),"login.html"!==window.location.pathname.split("/").pop()&&o())}catch(l){console.error("Errore nel recupero dell'utente:",l),"login.html"!==window.location.pathname.split("/").pop()&&o(!1)}else console.log("Nessun utente loggato, vai al login."),localStorage.setItem("isAuthenticated","false"),"login.html"!==window.location.pathname.split("/").pop()&&"accessRestricted.html"!==window.location.pathname.split("/").pop()&&(window.location.href="./html/login.html");sessionStorage.setItem("scriptExecuted","true");
