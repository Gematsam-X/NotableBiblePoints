import{g as e,s as t}from"./indexedDButils-TR8NEaRF.js";import"./idb-nMDuyRcf.js";window.addEventListener("load",(async function(){let o=[];try{let r=await e("userNotes");if(r||(r=(await Backendless.Data.of("NotableBiblePoints").findFirst()).NotablePoints.filter((e=>e.owner===localStorage.getItem("userEmail"))),await t("userNotes",r)),r){let e=r;console.log(e,typeof e),Array.isArray(e)&&e.length>0?o=e:console.warn("Dati in formato errato, ripristino array vuoto.")}}catch(n){return void console.error("Errore nel recupero dei dati:",n)}if(0===o.length)return void console.warn("Nessuna nota trovata.");const r=localStorage.getItem("userEmail"),a=sessionStorage.getItem("selectedBook");if(r&&a){for(const e of o)if(e.owner===r&&e.book===a&&null!=e.chapter){const t=String(e.chapter).trim();document.querySelectorAll(".chapter").forEach((e=>{e.textContent.trim()===t&&e.classList.add("hasNotes")}))}}else console.warn("Dati utente o libro selezionato mancanti.")}));
